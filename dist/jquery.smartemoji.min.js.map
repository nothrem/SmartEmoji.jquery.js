{"version":3,"sources":["webpack:///jquery.smartemoji.min.js","webpack:///webpack/bootstrap 06b6c1cce574e2f4ee4a","webpack:///external \"jQuery\"","webpack:///./src/js/EmojiArea.js","webpack:///./src/js/EmojiUtil.js","webpack:///./src/js/jquery.smartemoji.js","webpack:///./src/js/generate-plugin.js","webpack:///./src/js/EmojiPicker.js"],"names":["SmartEmoji","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","jQuery","_interopRequireDefault","obj","default","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_jquery2","_jquery","_EmojiPicker2","_EmojiPicker","EmojiArea","_EmojiUtil","emojiArea","options","this","$","extend","DEFAULTS","$ea","$emojitarget","input","$ti","$b","find","buttonSelector","on","togglePicker","bind","$e","inputEvent","processTextContent","v","val","setSelectionRange","textSel","start","end","focusout","saveSelection","focus","restoreSelection","e","cbd","originalEvent","clipboardData","window","content","getSelection","toString","setData","preventDefault","getData","document","execCommand","range","htmlSel","insert","createTextNode","deleteContents","insertNode","setStartAfter","setEndAfter","setTimeout","onInput","selectionStart","selectionEnd","sel","focusNode","parentNode","getRangeAt","event","hSel","tSel","removeAllRanges","addRange","type","createContextualFragment","collapse","slice","inputType","processContent","updateInput","keyCode","replaceSelection","lastChild","nodeName","append","stopPropagation","innerText","textContent","trigger","_processElement","contents","each","nodeType","is","delegate","picker","EmojiPicker","isVisible","hide","show","alias","unicode","Error","aliasRegex","asciiRegex","unicodeRegex","inputSelector","test","navigator","userAgent","keyEvent","anchorAlignment","anchorOffsetX","anchorOffsetY","iconSize","assetPath","textClipboard","globalPicker","hideOnSelect","pickerShrink","heightSmall","heightBig","pickerWidth","tabPaneSmall","AUTOINIT","INJECT_STYLES","EmojiUtil","aliases","unicodes","groups","filters","keywords","path","location","curLang","documentElement","lang","origin","syncJSON","msg","url","callback","ajax","async","contentType","dataType","success","error","alert","ascii","groupData","data","g","group","dimensions","pos","inArray","items","emojiData","EMOJI_UNICODE","unicodeFromAlias","aliasFromAscii","EMOJI_ALIASES","EMOJI_ICON","EMOJI_NAME","EMOJI_MODIFIER","EMOJI_KEYWORD","EMOJI_LIST","initialize","_generatePlugin2","_generatePlugin","_EmojiArea2","_EmojiArea","smartemoji","generatePlugin","pluginName","className","shortHand","instanceName","old","fn","option","$this","configure","destroy","noConflict","_typeof","Symbol","iterator","constructor","_EmojiUtil2","$body","body","KEY_ESC","KEY_TAB","$p","$emojidiv","parents","attr","addClass","appendTo","tabs","loadPicker","loadEmojis","ul","Emoji","id","gid","a","html","tab","not","removeClass","f","dropup","dropbtn","dropcont","em","children","sg","emo","emojiobj","emojiElem","insertEmoji","emoji","cb","anchor","$anchor","pickerH","pickerh","pickerW","$emojwrap","parent","emojwrapOFF","offset","winH","width","height","$target","targetOFF","targetH","outerHeight","targetTop","left","top","pickerLeft","anchorButton","pickerTop","toBottom","css","toFixed","insertCallback","reposition"],"mappings":"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","file":"jquery.smartemoji.min.js","sourcesContent":["var SmartEmoji =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = jQuery;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This EmojiArea is rewritten from ground up an based on the code from Brian Reavis <brian@diy.org>\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author Wolfgang Stöttinger\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _EmojiPicker = __webpack_require__(5);\n\nvar _EmojiPicker2 = _interopRequireDefault(_EmojiPicker);\n\nvar _EmojiUtil = __webpack_require__(2);\n\nvar _EmojiUtil2 = _interopRequireDefault(_EmojiUtil);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EmojiArea = function () {\n  function EmojiArea(emojiArea, options) {\n    _classCallCheck(this, EmojiArea);\n\n    this.o = _jquery2.default.extend({}, EmojiArea.DEFAULTS, options);\n    this.$ea = (0, _jquery2.default)(emojiArea);\n\n    var $emojitarget = (0, _jquery2.default)(options.input); /* #31768 */\n    this.$ti = $emojitarget; /* #31768 */\n\n    this.$b = this.$ea.find(options.buttonSelector).on('click', this.togglePicker.bind(this));\n\n    this.$e = this.$ti;\n    this.$ti.on(options.inputEvent, this.processTextContent.bind(this));\n\n    this.processTextContent();\n\n    var v = this.$ti.val();\n    // console.log(this.$ti,options.input);\n    this.$ti[0].setSelectionRange(v.length, v.length);\n    this.textSel = { start: v.length, end: v.length };\n\n    this.$e.focusout(this.saveSelection.bind(this)).focus(this.restoreSelection.bind(this));\n    // $(document.body).on('mousedown', this.saveSelection.bind(this));\n  }\n\n  //\n  // Clipboard handling\n  //\n\n  // noinspection JSMethodCanBeStatic\n\n\n  _createClass(EmojiArea, [{\n    key: 'clipboardCopy',\n    value: function clipboardCopy(e) {\n      // only allow plain text copy:\n      var cbd = e.originalEvent.clipboardData || window.clipboardData;\n      var content = window.getSelection().toString();\n      window.clipboardData ? cbd.setData('text', content) : cbd.setData('text/plain', content);\n      e.preventDefault();\n    }\n  }, {\n    key: 'clipboardPaste',\n    value: function clipboardPaste(e) {\n      // only allow to paste plain text\n      var cbd = e.originalEvent.clipboardData || window.clipboardData;\n      var content = window.clipboardData ? cbd.getData('text') : cbd.getData('text/plain');\n\n      if (!document.execCommand('insertText', false, content)) {\n        this.saveSelection();\n        var range = this.htmlSel;\n        var insert = document.createTextNode(content);\n        range.deleteContents();\n        range.insertNode(insert);\n        range.setStartAfter(insert);\n        range.setEndAfter(insert);\n        setTimeout(this.onInput.bind(this), 0);\n      }\n      e.preventDefault();\n    }\n\n    //\n    // Selection handling\n    //\n\n  }, {\n    key: 'saveSelection',\n    value: function saveSelection() {\n      var e = this.$e[0];\n      // for unicode mode, the textarea itself:\n      if (this.$e === this.$ti && e.selectionStart && e.selectionEnd) {\n        this.textSel = { start: e.selectionStart, end: e.selectionEnd };\n      } else {\n        var sel = window.getSelection();\n        if (sel.focusNode && (sel.focusNode === e || sel.focusNode.parentNode === e)) {\n          this.htmlSel = sel.getRangeAt(0);\n        }\n      }\n    }\n  }, {\n    key: 'restoreSelection',\n    value: function restoreSelection(event) {\n      var hSel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.htmlSel;\n      var tSel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.textSel;\n\n      if (hSel) {\n        var s = window.getSelection();\n        s.removeAllRanges();\n        s.addRange(hSel);\n      } else if (tSel) {\n        if (!event || event.type !== 'focus') {\n          this.$ti[0].focus();\n        }\n        this.$ti[0].setSelectionRange(tSel.start, tSel.end);\n      }\n    }\n  }, {\n    key: 'replaceSelection',\n    value: function replaceSelection(content) {\n      var hSel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.htmlSel;\n      var tSel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.textSel;\n\n      this.restoreSelection(null, hSel, tSel);\n      if (hSel) {\n        if (!document.execCommand('insertHTML', false, content)) {\n          // let insert = $.parseHTML(content)[0];\n          // insert = document.importNode(insert, true); // this is necessary for IE\n          hSel.deleteContents();\n          var insert = hSel.createContextualFragment(content);\n          hSel.insertNode(insert);\n          hSel.collapse(false);\n          // hSel.setStartAfter(insert.lastChild);\n          // hSel.setEndAfter(insert.lastChild);\n          return insert;\n        }\n        return true;\n      } else if (tSel) {\n        if (!document.execCommand('insertText', false, content)) {\n          var val = this.$e.val();\n          this.$e.val(val.slice(0, tSel.start) + content + val.slice(tSel.end));\n          tSel.start = tSel.end = tSel.start + content.length;\n          this.$ti[0].setSelectionRange(tSel.start, tSel.end);\n        }\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'onInput',\n    value: function onInput(event) {\n      if (!event || event.originalEvent && event.originalEvent.inputType !== 'historyUndo') {\n        this.processContent();\n        this.updateInput();\n      }\n    }\n  }, {\n    key: 'onKey',\n    value: function onKey(e) {\n      if (e.originalEvent.keyCode === 13) {\n        // catch enter and just insert <br>\n        this.saveSelection();\n        this.replaceSelection('<br>');\n\n        if (this.$e[0].lastChild.nodeName !== 'BR') {\n          this.$e.append('<br>'); // this is necessary to render correctly.\n        }\n\n        e.stopPropagation();\n        return false;\n      }\n    }\n  }, {\n    key: 'updateInput',\n    value: function updateInput() {\n      this.$ti.val(this.$e[0].innerText || this.$e[0].textContent);\n      this.$ti.trigger(this.o.inputEvent);\n    }\n  }, {\n    key: 'processTextContent',\n    value: function processTextContent(event) {\n      if (!event || event.originalEvent && event.originalEvent.inputType !== 'historyUndo') {\n        var val = this.$ti.val();\n        //    let parsed = this.replaceAscii(val);\n        //    parsed = this.replaceAliases(parsed);\n        //    if (parsed !== val) {\n        //      const sel = parsed.length - (val.length - this.$ti[0].selectionEnd);\n        //      this.$ti.val(parsed);\n        //      this.$ti[0].setSelectionRange(sel, sel);\n        //      this.textSel = { start: sel, end: sel };\n        //      this.$ti\n        //        .focus()\n        //        .trigger(this.o.inputEvent);\n        //    }\n      }\n    }\n  }, {\n    key: 'processContent',\n    value: function processContent() {\n      this.saveSelection();\n      this._processElement(this.$e);\n      if (this.$e[0].lastChild.nodeName !== 'BR') {\n        this.$e.append('<br>'); // this is necessary to render correctly.\n      }\n    }\n  }, {\n    key: '_processElement',\n    value: function _processElement() {\n      var _this = this;\n\n      var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.$e;\n\n      // this is a bit more complex because\n      //  a) only text nodes should be replaced\n      //  b) the cursor position should be kept after an alias is replaced\n\n      element.contents().each(function (i, e) {\n        if (e.nodeType === 1 || e.nodeType === 11) {\n          // element or document fragment\n          var $e = (0, _jquery2.default)(e);\n          if (!$e.is('.emoji')) // skip emoji\n            {\n              _this._processElement($e);\n            }\n        } else if (e.nodeType === 3) {// text node\n          // replace unicodes\n          //       let parsed = e.nodeValue;\n\n          //       if (this.o.type !== 'unicode') { //convert existing unicodes\n          //         parsed = this.replaceUnicodes(parsed);\n          //       }\n\n          //       parsed = this.replaceAscii(parsed);\n          //       parsed = this.replaceAliases(parsed);\n\n          //       if (parsed !== e.nodeValue) {\n          //         const isSelected = (this.htmlSel && this.htmlSel.endContainer === e);\n          //         const range = isSelected ? this.htmlSel : document.createRange();\n          //         const caret = this.htmlSel ? e.nodeValue.length - this.htmlSel.endOffset : 0;\n          //         const next = e.nextSibling;\n          //         range.selectNode(e);\n          //         this.replaceSelection(parsed, range, null);\n          //         if (isSelected) {\n          //           if (next.previousSibling) {\n          //             const inserted = next.previousSibling;\n          //             range.setStart(inserted, inserted.length - caret);\n          //             range.setEnd(inserted, inserted.length - caret);\n          //this.htmlSel.setStartAfter(content[content.length - 1]);\n          //this.htmlSel.collapse(false);\n          //           }\n          //           else {\n          //             range.setStartBefore(this.$e[0].lastChild);\n          //             range.setEndBefore(this.$e[0].lastChild);\n          //           }\n          //         }\n          //       }\n        }\n      });\n    }\n\n    //replaceUnicodes(text) {\n    //  return text.replace(this.o.unicodeRegex, (match, unicode) => {\n    //    return Emoji.checkUnicode(unicode)\n    //      ? EmojiArea.createEmoji(null, this.o, unicode)\n    //      : unicode;\n    //  });\n    //}\n\n    //replaceAscii(text) {\n    //  return text.replace(this.o.asciiRegex, (match, ascii) => {\n    //    if (Emoji.checkAscii(ascii)) {\n    //      const alias = Emoji.aliasFromAscii(ascii);\n    //      if (alias) {\n    //        return EmojiArea.createEmoji(alias, this.o);\n    //      }\n    //    }\n    //    return ascii + ' ';\n    //  });\n    //}\n\n    //replaceAliases(text) {\n    //  return text.replace(this.o.aliasRegex, (match, alias) => {\n    //    return Emoji.checkAlias(alias)\n    //      ? EmojiArea.createEmoji(alias, this.o)\n    //      : ':' + alias + ':';\n    //  });\n    //}\n\n  }, {\n    key: 'togglePicker',\n    value: function togglePicker() {\n      var delegate = this.picker || _EmojiPicker2.default;\n      if (!delegate.isVisible()) {\n        var cbtest = 1;\n        //      this.picker = delegate.show(cbtest, this.$b, this.o);  //ERROR\n        this.picker = delegate.show(this.insert.bind(this), this.$b, this.o); //ERROR\n      } else {\n        delegate.hide();\n      }\n      return false;\n    }\n  }, {\n    key: 'insert',\n    value: function insert(alias) {\n      //    const content = EmojiArea.createEmoji(alias, this.o);\n      if (!this.replaceSelection(alias)) {\n        this.$e.append(alias).focus().trigger(this.o.inputEvent);\n      }\n    }\n  }], [{\n    key: 'createEmoji',\n    value: function createEmoji(alias) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EmojiArea.DEFAULTS;\n      var unicode = arguments[2];\n\n      if (!alias && !unicode) {\n        return;\n      }\n      return alias;\n      //   alias = alias || Emoji.aliasFromUnicode(unicode);\n      //   unicode = unicode || Emoji.unicodeFromAlias(alias);\n      //   return unicode\n      //     ? unicode\n      //     : alias;\n    }\n  }, {\n    key: 'generateEmojiTag',\n    value: function generateEmojiTag(unicode, alias) {\n      throw new Error('CSS emoji are not supported.');\n      return '<i class=\"emoji emoji-' + alias + '\" contenteditable=\"false\">' + unicode + '</i>';\n    }\n  }, {\n    key: 'generateEmojiImg',\n    value: function generateEmojiImg(unicode, alias) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EmojiArea.DEFAULTS;\n\n      throw new Error('Image emoji are not supported.');\n    }\n  }]);\n\n  return EmojiArea;\n}();\n\nexports.default = EmojiArea;\n\n\nEmojiArea.DEFAULTS = {\n  aliasRegex: /:([a-z0-9_]+?):/g, //deprecated, colon aliased not supported in unicode mode\n  asciiRegex: /([\\/<:;=8>(][()D3opPy*>\\/\\\\|-]+) /g,\n  unicodeRegex: /((?:[\\xA9\\xAE\\u2122\\u23E9-\\u23EF\\u23F3\\u23F8-\\u23FA\\u24C2\\u25B6\\u2600-\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDE51\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDE4F\\uDE80-\\uDEFF]|\\uD83E[\\uDD00-\\uDDFF]))/g,\n  inputSelector: 'input:text, textarea',\n  buttonSelector: '>.emoji-button',\n  inputEvent: /Trident/.test(navigator.userAgent) ? 'textinput' : 'input',\n  keyEvent: 'keypress',\n  anchorAlignment: 'left', // can be left|right\n  anchorOffsetX: -5,\n  anchorOffsetY: 5,\n  type: 'unicode', // deprecated, unicode is the only supported mode\n  iconSize: 25, // deprecated, not supported in unicode mode\n  assetPath: '', // deprecated, not supported in unicode mode\n  textClipboard: true,\n  globalPicker: true,\n  hideOnSelect: true,\n  pickerShrink: false,\n  heightSmall: 110,\n  heightBig: 248,\n  pickerWidth: 280,\n  tabPaneSmall: 67\n};\n\nEmojiArea.AUTOINIT = true;\nEmojiArea.INJECT_STYLES = false; // only makes sense when EmojiArea.type != 'unicode'\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * The EmojiUtil contains all functionality for handling emoji data and groups, but no html specific stuff.\r\n *\r\n * @author Wolfgang Stöttinger\r\n */\n\n//import Data from 'EmojiData';\n\nvar EmojiUtil = function () {\n  function EmojiUtil() {\n    _classCallCheck(this, EmojiUtil);\n  }\n\n  /**\r\n   *\r\n   */\n\n\n  _createClass(EmojiUtil, null, [{\n    key: 'initialize',\n    value: function initialize() {\n      EmojiUtil.aliases = {};\n      EmojiUtil.unicodes = {};\n      EmojiUtil.groups = {};\n      EmojiUtil.filters = {};\n      EmojiUtil.keywords = {};\n\n      var path = document.location;\n      var curLang = document.documentElement.lang;\n      if (curLang.length == 2) {\n        curLang = 'en-US';\n      }\n      var fullPath = path.origin + '/sk.ru/www/emoji/groups.en-US.json'; //    $.getJSON('./../../sk.ru/www/emoji/groups.en-US.json'\n      EmojiUtil.syncJSON(\"./groups.ru-RU.json\", function (msg) {\n        EmojiUtil.groups = msg.groups;\n        EmojiUtil.filters = msg.filters;\n      });\n\n      //   for (let key in EmojiUtil.groups) {\n      //   alert( key );  // name, age, isAdmin\n      //   alert(EmojiUtil.groups['smileys_emotion']['l']['face_affection'].i);\n      //    }\n    }\n  }, {\n    key: 'syncJSON',\n    value: function syncJSON(url, callback) {\n      $.ajax({\n        type: \"POST\",\n        async: false,\n        url: url,\n        contentType: \"application/json\",\n        dataType: \"json\",\n        success: function success(msg) {\n          callback(msg);\n        },\n        error: function error(msg) {\n          alert('error : reading JSON file!!!!');\n        }\n      });\n    }\n  }, {\n    key: 'checkAlias',\n    value: function checkAlias(alias) {\n      return EmojiUtil.aliases.hasOwnProperty(alias);\n    }\n  }, {\n    key: 'checkUnicode',\n    value: function checkUnicode(alias) {\n      return EmojiUtil.unicodes.hasOwnProperty(alias);\n    }\n  }, {\n    key: 'checkAscii',\n    value: function checkAscii(ascii) {\n      return EmojiUtil.ascii.hasOwnProperty(ascii);\n    }\n\n    /**\r\n     * @param alias\r\n     * @param groupData if true returns an array including groupId, Col# and Row# of the Emoji\r\n     * @returns {*}\r\n     */\n\n  }, {\n    key: 'dataFromAlias',\n    value: function dataFromAlias(alias) {\n      var groupData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var key = EmojiUtil.aliases[alias];\n      var data = EmojiUtil.data[key];\n      if (!groupData || data[2]) // if group is set\n        return data;\n\n      for (var g = 0; g < EmojiUtil.groups.length; g++) {\n        var group = EmojiUtil.groups[g];\n        var d = group.dimensions;\n        var pos = $.inArray(key, group.items);\n        if (pos >= 0) {\n          data[2] = g; // group\n          data[3] = pos % d[0]; // column\n          data[4] = pos / d[0] | 0; // row\n          data[5] = d; // sprite dimensions\n          return data;\n        }\n      }\n      return data;\n    }\n\n    /**\r\n     *\r\n     * @param alias\r\n     * @returns {*}\r\n     */\n\n  }, {\n    key: 'unicodeFromAlias',\n    value: function unicodeFromAlias(alias) {\n      if (alias) {\n        var key = EmojiUtil.aliases[alias];\n        var emojiData = EmojiUtil.data[key];\n        if (emojiData && emojiData[EmojiUtil.EMOJI_UNICODE]) return emojiData[EmojiUtil.EMOJI_UNICODE][0];\n      }\n      return null;\n    }\n  }, {\n    key: 'unicodeFromAscii',\n    value: function unicodeFromAscii(ascii) {\n      return EmojiUtil.unicodeFromAlias(EmojiUtil.aliasFromAscii(ascii));\n    }\n  }, {\n    key: 'aliasFromUnicode',\n    value: function aliasFromUnicode(unicode) {\n      if (unicode) {\n        var key = EmojiUtil.unicodes[unicode];\n        var emojiData = EmojiUtil.data[key];\n        if (emojiData && emojiData[EmojiUtil.EMOJI_ALIASES]) return emojiData[EmojiUtil.EMOJI_ALIASES];\n      }\n      return null;\n    }\n  }, {\n    key: 'aliasFromAscii',\n    value: function aliasFromAscii(ascii) {\n      return EmojiUtil.ascii[ascii] || null;\n    }\n  }]);\n\n  return EmojiUtil;\n}();\n/*\r\nEmojiUtil.data = Data.data;\r\nEmojiUtil.groups = Data.groups;\r\nEmojiUtil.ascii = Data.ascii;\r\n\r\nEmojiUtil.EMOJI_UNICODE = 0;\r\nEmojiUtil.EMOJI_ALIASES = 1;\r\n*/\n\nexports.default = EmojiUtil;\nEmojiUtil.EMOJI_ICON = 'i';\nEmojiUtil.EMOJI_NAME = 'n';\nEmojiUtil.EMOJI_MODIFIER = 'm';\nEmojiUtil.EMOJI_KEYWORD = 'k';\nEmojiUtil.EMOJI_LIST = 'l';\n\n//-----------------------------------------------------------------------------------------\n\nEmojiUtil.initialize();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _generatePlugin = __webpack_require__(4);\n\nvar _generatePlugin2 = _interopRequireDefault(_generatePlugin);\n\nvar _EmojiArea = __webpack_require__(1);\n\nvar _EmojiArea2 = _interopRequireDefault(_EmojiArea);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _generatePlugin2.default)('smartemoji', _EmojiArea2.default);\n\n/**\n * call auto initialization.\n */\n/**\n * This is the entry point for the library\n *\n * @author Wolfgang Stöttinger\n */\n\n(0, _jquery2.default)(function () {\n  //noinspection JSUnresolvedFunction\n  (0, _jquery2.default)('[data-emojiarea]').smartemoji();\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = generatePlugin;\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Generate a jQuery plugin\r\n * @param pluginName [string] Plugin name\r\n * @param className [object] Class of the plugin\r\n * @param shortHand [bool] Generate a shorthand as $.pluginName\r\n *\r\n * @example\r\n * import plugin from 'plugin';\r\n *\r\n * class MyPlugin {\r\n *     constructor(element, options) {\r\n *         // ...\r\n *     }\r\n * }\r\n *\r\n * MyPlugin.DEFAULTS = {};\r\n *\r\n * plugin('myPlugin', MyPlugin');\r\n */\nfunction generatePlugin(pluginName, className) {\n  var shortHand = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var instanceName = '__' + pluginName;\n  var old = _jquery2.default.fn[pluginName];\n\n  _jquery2.default.fn[pluginName] = function (option) {\n    return this.each(function () {\n      var $this = (0, _jquery2.default)(this);\n      var instance = $this.data(instanceName);\n\n      if (!instance && option !== 'destroy') {\n        var _options = _jquery2.default.extend({}, className.DEFAULTS, $this.data(), (typeof option === 'undefined' ? 'undefined' : _typeof(option)) === 'object' && option);\n        $this.data(instanceName, instance = new className(this, _options));\n      } else {\n        //noinspection JSUnresolvedVariable\n        if (typeof instance.configure === 'function') {\n          //noinspection JSUnresolvedFunction\n          instance.configure(options);\n        }\n      }\n\n      if (typeof option === 'string') {\n        if (option === 'destroy') {\n          instance.destroy();\n          $this.data(instanceName, false);\n        } else {\n          instance[option]();\n        }\n      }\n    });\n  };\n\n  // - Short hand\n  if (shortHand) {\n    _jquery2.default[pluginName] = function (options) {\n      return (0, _jquery2.default)({})[pluginName](options);\n    };\n  }\n\n  // - No conflict\n  _jquery2.default.fn[pluginName].noConflict = function () {\n    return _jquery2.default.fn[pluginName] = old;\n  };\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Emoji Picker (Dropdown) can work as global singleton (one dropdown for all inputs on the page)\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * or with separate instances (and settings) for each input.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author Wolfgang Stöttinger\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _EmojiArea = __webpack_require__(1);\n\nvar _EmojiArea2 = _interopRequireDefault(_EmojiArea);\n\nvar _EmojiUtil = __webpack_require__(2);\n\nvar _EmojiUtil2 = _interopRequireDefault(_EmojiUtil);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EmojiPicker = function () {\n  function EmojiPicker() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _EmojiArea2.default.DEFAULTS;\n\n    _classCallCheck(this, EmojiPicker);\n\n    this.o = options;\n    var $body = (0, _jquery2.default)(document.body);\n    $body.on('keydown', function (e) {\n      if (e.keyCode === KEY_ESC || e.keyCode === KEY_TAB) _this.hide();\n    });\n    $body.on('click', function () {\n      _this.hide();\n    });\n    (0, _jquery2.default)(window).on('resize', function () {\n      if (_this.$p.is(':visible')) {\n        _this.hide();\n      }\n    });\n\n    var $emojidiv = (0, _jquery2.default)(options.input).parents('form').find('.emoji-wrapper').attr('id'); /* #31768 */\n    var ifPickerExist = (0, _jquery2.default)(options.input).parents('form').find('.emoji-picker').attr('class');\n    if (!ifPickerExist) {\n      this.$p = (0, _jquery2.default)('<div>').addClass('emoji-picker').attr('data-picker-type', options.type) // $.data() here not possible, doesn't change dom\n      .on('mouseup click', function (e) {\n        return e.stopPropagation() && false;\n      }).hide().appendTo('#' + $emojidiv);\n    }\n\n    var tabs = this.loadPicker(options);\n    setTimeout(this.loadEmojis.bind(this, tabs), 300);\n  }\n\n  _createClass(EmojiPicker, [{\n    key: 'loadPicker',\n    value: function loadPicker(options) {\n      var ul = (0, _jquery2.default)('<ul>').addClass('emoji-selector nav nav-tabs');\n      var tabs = (0, _jquery2.default)('<div>').addClass('tab-content');\n\n      var _loop = function _loop(g) {\n        // g - key of the Emoji.groups\n        var group = _EmojiUtil2.default.groups[g];\n        var id = 'group_' + g;\n        var gid = '#' + id;\n        var a = (0, _jquery2.default)('<a>').html(_EmojiUtil2.default.groups[g].i).data('toggle', 'tab').attr('title', group.n).attr('href', gid);\n        ul.append((0, _jquery2.default)('<li>').append(a));\n        var tab = (0, _jquery2.default)('<div>').attr('id', id).addClass('emoji-group tab-pane active') //#31768 Add active class to all firstly\n        .data('group', g);\n\n        a.on('click', function (e) {\n          (0, _jquery2.default)('.tab-pane').not(tab).hide().removeClass('active');\n          //       if (options.pickerShrink){\n          //           tab.css({\n          //              height: options.tabPaneSmall + \"px\",\n          //            });\n          //        }\n          tab.addClass('active').show();\n          e.preventDefault();\n        });\n        tabs.append(tab);\n      };\n\n      for (var g in _EmojiUtil2.default.groups) {\n        _loop(g);\n      }\n      //  emoji filters------------------------------------------------\n      var filters = (0, _jquery2.default)('<div>').addClass('emoji-filters');\n\n      for (var f in _EmojiUtil2.default.filters) {\n        // f - key of the Emoji.filters\n        var dropup = (0, _jquery2.default)('<div>').addClass('emoji-dropup');\n        var dropbtn = (0, _jquery2.default)('<div>').addClass('emoji-dropbtn').html(_EmojiUtil2.default.filters[f].n + '⬆️').attr('id', f);\n        //      const arrow = $('<i>')\n        //        .addClass('fa fa-caret-down');\n        //      dropbtn.append(arrow);\n        dropup.append(dropbtn);\n        var dropcont = (0, _jquery2.default)('<div>').addClass('emoji-dropup-content');\n\n        for (var em in _EmojiUtil2.default.filters[f]['l']) {\n          var a = (0, _jquery2.default)('<a>').html(_EmojiUtil2.default.filters[f]['l'][em].i).attr('title', _EmojiUtil2.default.filters[f]['l'][em].n).attr('mode', _EmojiUtil2.default.filters[f]['l'][em].m);\n          dropcont.append(a);\n        }\n        dropup.append(dropcont);\n        filters.append(dropup);\n      }\n\n      //-----------------------------------------------------------------\n      tabs.find('.tab-pane').not(':first-child').hide().removeClass('active');\n      this.$p.append(ul).append(tabs).append(filters);\n      return tabs.children();\n    }\n\n    // this is to show the emojis directly\n\n  }, {\n    key: 'loadEmojis',\n    value: function loadEmojis(tabs) {\n      var _this2 = this;\n\n      var i = 0;\n      for (var g in _EmojiUtil2.default.groups) {\n        // g - key of the Emoji.groups\n        var group = _EmojiUtil2.default.groups[g];\n        var _tab = tabs[i];\n        for (var sg in _EmojiUtil2.default.groups[g][_EmojiUtil2.default.EMOJI_LIST]) {\n          var _loop2 = function _loop2(emo) {\n            var emojiobj = _EmojiUtil2.default.groups[g][_EmojiUtil2.default.EMOJI_LIST][sg][_EmojiUtil2.default.EMOJI_LIST][emo];\n            var emojiElem = (0, _jquery2.default)('<a>').data('emoji', emo)\n            //            .html(EmojiArea.createEmoji(emo, this.o))\n            .html(emo).attr('title', emojiobj.n).on('click', function () {\n              _this2.insertEmoji(emo, _this2.o);\n            });\n            (0, _jquery2.default)(_tab).append(emojiElem);\n          };\n\n          for (var emo in _EmojiUtil2.default.groups[g][_EmojiUtil2.default.EMOJI_LIST][sg][_EmojiUtil2.default.EMOJI_LIST]) {\n            _loop2(emo);\n          }\n        }\n        i++;\n      }\n    }\n\n    // this is to show the subgroups\n    //  loadEmojis(tabs) {\n    //    let i=0;\n    //    for (let g in Emoji.groups) {   // g - key of the Emoji.groups\n    //      let group = Emoji.groups[g];\n    //      let tab = tabs[i];\n    //      for (let sg in Emoji.groups[g][Emoji.EMOJI_LIST]) {\n    //        let subgroup = group[Emoji.EMOJI_LIST][sg];\n    //        let emojiElem = $('<a>')\n    //          .data('emoji', sg)\n    //          .html(Emoji.groups[g][Emoji.EMOJI_LIST][sg].i)\n    //          .on('click', () => {this.insertEmoji(sg, this.o)});  // ?????\n    //        $(tab).append(emojiElem);\n    //      }\n    //      i++;\n    //    }\n    //  }\n\n  }, {\n    key: 'insertEmoji',\n    value: function insertEmoji(emoji, options) {\n      if (typeof this.cb === 'function') this.cb(emoji, options);\n      if (options.hideOnSelect) {\n        this.hide();\n      }\n    }\n  }, {\n    key: 'reposition',\n    value: function reposition(anchor, options) {\n      if (!anchor || anchor.length === 0) return;\n\n      var $anchor = (0, _jquery2.default)(anchor);\n      var pickerH = options.heightBig;\n      var pickerh = options.heightSmall;\n      var pickerW = options.pickerWidth;\n      var $emojwrap = $anchor.parent();\n      var emojwrapOFF = $emojwrap.offset();\n\n      var winW = (0, _jquery2.default)(window).width();\n      var winH = (0, _jquery2.default)(window).height();\n\n      var $target = (0, _jquery2.default)(options.input);\n      var targetOFF = $target.offset();\n      var targetW = $target.width();\n      var targetH = $target.outerHeight(false);\n      var targetLeft = targetOFF.left;\n      var targetTop = targetOFF.top;\n      var pickerLeft = -pickerW;\n\n      if (options.anchorButton) {\n        targetTop = $anchor.offset().top;\n        targetH = $anchor.outerHeight(false);\n        pickerLeft = ($emojwrap.width() - pickerW) / 2;\n      }\n\n      var pickerTop = targetTop + targetH - emojwrapOFF.top;\n\n      if (emojwrapOFF.left < pickerW) {\n        //       pickerLeft = - emojwrapOFF.left;  For demo page ONLY! URGENT!!\n      }\n\n      var toBottom = winH - targetH - targetTop;\n      if (toBottom < pickerH) {\n        if (toBottom < pickerh) {\n          pickerTop = -pickerh - (emojwrapOFF.top - targetTop);\n        }\n        options.pickerShrink = true;\n      } else {\n        options.pickerShrink = false;\n      }\n\n      this.$p.css({\n        top: pickerTop.toFixed(0) + \"px\",\n        left: pickerLeft.toFixed(0) + \"px\"\n      });\n      if (options.pickerShrink) {\n        this.$p.css({\n          height: options.heightSmall + \"px\"\n        });\n      } else {\n        this.$p.css({\n          height: options.heightBig + \"px\"\n        });\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show(insertCallback, anchor, options) {\n      this.cb = insertCallback;\n      this.reposition(anchor, options);\n      this.$p.attr('data-picker-type', options.type); // $.data() here not possible, doesn't change dom\n\n      if (options.pickerShrink) {\n        (0, _jquery2.default)('.tab-pane').css({\n          height: options.heightSmall - 25 + \"px\"\n        });\n      } else {\n        (0, _jquery2.default)('.tab-pane').css({\n          height: options.heightBig - 30 + \"px\"\n        });\n      }\n\n      this.$p.show();\n      return this;\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this.$p.hide();\n    }\n  }, {\n    key: 'isVisible',\n    value: function isVisible() {\n      return this.$p.is(':visible');\n    }\n  }]);\n\n  return EmojiPicker;\n}();\n\nexports.default = EmojiPicker;\n\n\nEmojiPicker.globalPicker = null;\n\nEmojiPicker.show = function (insertCallback, anchor) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _EmojiArea2.default.DEFAULTS;\n\n  var picker = EmojiPicker.globalPicker;\n  if (!options.globalPicker) picker = new EmojiPicker(options);\n  if (!picker) picker = EmojiPicker.globalPicker = new EmojiPicker(options);\n  picker.show(insertCallback, anchor, options);\n  return picker;\n};\n\nEmojiPicker.isVisible = function () {\n  return EmojiPicker.globalPicker && EmojiPicker.globalPicker.isVisible();\n};\n\nEmojiPicker.hide = function () {\n  !EmojiPicker.globalPicker || EmojiPicker.globalPicker.hide();\n};\n\nvar KEY_ESC = 27;\nvar KEY_TAB = 9;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// jquery.smartemoji.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 06b6c1cce574e2f4ee4a","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = 0","/**\r\n * This EmojiArea is rewritten from ground up an based on the code from Brian Reavis <brian@diy.org>\r\n *\r\n * @author Wolfgang Stöttinger\r\n */\r\nimport $ from 'jquery';\r\nimport EmojiPicker from 'EmojiPicker';\r\nimport Emoji from 'EmojiUtil'\r\n\r\nexport default class EmojiArea {\r\n\r\n  constructor(emojiArea, options) {\r\n    this.o = $.extend({}, EmojiArea.DEFAULTS, options);\r\n    this.$ea = $(emojiArea);\r\n\r\n    var $emojitarget = $(options.input);                                    /* #31768 */\r\n    this.$ti = $emojitarget;                                                /* #31768 */\r\n\r\n    this.$b = this.$ea.find(options.buttonSelector)\r\n      .on('click', this.togglePicker.bind(this));\r\n\r\n    this.$e = this.$ti;\r\n    this.$ti.on(options.inputEvent, this.processTextContent.bind(this));\r\n\r\n    this.processTextContent();\r\n\r\n    const v = this.$ti.val();\r\n // console.log(this.$ti,options.input);\r\n    this.$ti[0].setSelectionRange(v.length, v.length);\r\n    this.textSel = { start: v.length, end: v.length };\r\n\r\n    this.$e\r\n      .focusout(this.saveSelection.bind(this))\r\n      .focus(this.restoreSelection.bind(this));\r\n    // $(document.body).on('mousedown', this.saveSelection.bind(this));\r\n  }\r\n\r\n  //\r\n  // Clipboard handling\r\n  //\r\n\r\n  // noinspection JSMethodCanBeStatic\r\n  clipboardCopy(e) {\r\n    // only allow plain text copy:\r\n    const cbd = e.originalEvent.clipboardData || window.clipboardData;\r\n    const content = window.getSelection().toString();\r\n    window.clipboardData ? cbd.setData('text', content) : cbd.setData('text/plain', content);\r\n    e.preventDefault();\r\n  }\r\n\r\n  clipboardPaste(e) {\r\n    // only allow to paste plain text\r\n    const cbd = e.originalEvent.clipboardData || window.clipboardData;\r\n    const content = window.clipboardData ? cbd.getData('text') : cbd.getData('text/plain');\r\n\r\n    if (!document.execCommand('insertText', false, content)) {\r\n      this.saveSelection();\r\n      const range = this.htmlSel;\r\n      const insert = document.createTextNode(content);\r\n      range.deleteContents();\r\n      range.insertNode(insert);\r\n      range.setStartAfter(insert);\r\n      range.setEndAfter(insert);\r\n      setTimeout(this.onInput.bind(this), 0);\r\n    }\r\n    e.preventDefault();\r\n  }\r\n\r\n  //\r\n  // Selection handling\r\n  //\r\n  saveSelection() {\r\n    const e = this.$e[0];\r\n    // for unicode mode, the textarea itself:\r\n    if (this.$e === this.$ti && e.selectionStart && e.selectionEnd) {\r\n      this.textSel = { start: e.selectionStart, end: e.selectionEnd };\r\n    } else {\r\n      const sel = window.getSelection();\r\n      if (sel.focusNode && (sel.focusNode === e || sel.focusNode.parentNode === e)) {\r\n        this.htmlSel = sel.getRangeAt(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  restoreSelection(event, hSel = this.htmlSel, tSel = this.textSel) {\r\n    if (hSel) {\r\n      const s = window.getSelection();\r\n      s.removeAllRanges();\r\n      s.addRange(hSel);\r\n    } else if (tSel) {\r\n      if (!event || event.type !== 'focus') {\r\n        this.$ti[0].focus();\r\n      }\r\n      this.$ti[0].setSelectionRange(tSel.start, tSel.end);\r\n    }\r\n  }\r\n\r\n  replaceSelection(content, hSel = this.htmlSel, tSel = this.textSel) {\r\n    this.restoreSelection(null, hSel, tSel);\r\n    if (hSel) {\r\n      if (!document.execCommand('insertHTML', false, content)) {\r\n        // let insert = $.parseHTML(content)[0];\r\n        // insert = document.importNode(insert, true); // this is necessary for IE\r\n        hSel.deleteContents();\r\n        const insert = hSel.createContextualFragment(content);\r\n        hSel.insertNode(insert);\r\n        hSel.collapse(false);\r\n        // hSel.setStartAfter(insert.lastChild);\r\n        // hSel.setEndAfter(insert.lastChild);\r\n        return insert;\r\n      }\r\n      return true;\r\n    }\r\n    else if (tSel) {\r\n      if (!document.execCommand('insertText', false, content)) {\r\n        let val = this.$e.val();\r\n        this.$e.val(val.slice(0, tSel.start) + content + val.slice(tSel.end));\r\n        tSel.start = tSel.end = tSel.start + content.length;\r\n        this.$ti[0].setSelectionRange(tSel.start, tSel.end);\r\n      }\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  onInput(event) {\r\n    if (!event || (event.originalEvent && event.originalEvent.inputType !== 'historyUndo')) {\r\n      this.processContent();\r\n      this.updateInput();\r\n    }\r\n  }\r\n\r\n  onKey(e) {\r\n    if (e.originalEvent.keyCode === 13) { // catch enter and just insert <br>\r\n      this.saveSelection();\r\n      this.replaceSelection('<br>');\r\n\r\n      if (this.$e[0].lastChild.nodeName !== 'BR') {\r\n        this.$e.append('<br>'); // this is necessary to render correctly.\r\n      }\r\n\r\n      e.stopPropagation();\r\n      return false;\r\n    }\r\n  }\r\n\r\n  updateInput() {\r\n    this.$ti.val(this.$e[0].innerText || this.$e[0].textContent);\r\n    this.$ti.trigger(this.o.inputEvent);\r\n  }\r\n\r\n  processTextContent(event) {\r\n    if (!event || (event.originalEvent && event.originalEvent.inputType !== 'historyUndo')) {\r\n      let val = this.$ti.val();\r\n  //    let parsed = this.replaceAscii(val);\r\n  //    parsed = this.replaceAliases(parsed);\r\n  //    if (parsed !== val) {\r\n  //      const sel = parsed.length - (val.length - this.$ti[0].selectionEnd);\r\n  //      this.$ti.val(parsed);\r\n  //      this.$ti[0].setSelectionRange(sel, sel);\r\n  //      this.textSel = { start: sel, end: sel };\r\n  //      this.$ti\r\n  //        .focus()\r\n  //        .trigger(this.o.inputEvent);\r\n  //    }\r\n    }\r\n  }\r\n\r\n  processContent() {\r\n    this.saveSelection();\r\n    this._processElement(this.$e);\r\n    if (this.$e[0].lastChild.nodeName !== 'BR') {\r\n      this.$e.append('<br>'); // this is necessary to render correctly.\r\n    }\r\n  }\r\n\r\n  _processElement(element = this.$e) {\r\n    // this is a bit more complex because\r\n    //  a) only text nodes should be replaced\r\n    //  b) the cursor position should be kept after an alias is replaced\r\n\r\n    element.contents().each((i, e) => {\r\n      if (e.nodeType === 1 || e.nodeType === 11) { // element or document fragment\r\n        const $e = $(e);\r\n        if (!$e.is('.emoji')) // skip emoji\r\n        {\r\n          this._processElement($e);\r\n        }\r\n      }\r\n      else if (e.nodeType === 3) { // text node\r\n        // replace unicodes\r\n //       let parsed = e.nodeValue;\r\n\r\n //       if (this.o.type !== 'unicode') { //convert existing unicodes\r\n //         parsed = this.replaceUnicodes(parsed);\r\n //       }\r\n\r\n //       parsed = this.replaceAscii(parsed);\r\n //       parsed = this.replaceAliases(parsed);\r\n\r\n //       if (parsed !== e.nodeValue) {\r\n //         const isSelected = (this.htmlSel && this.htmlSel.endContainer === e);\r\n //         const range = isSelected ? this.htmlSel : document.createRange();\r\n //         const caret = this.htmlSel ? e.nodeValue.length - this.htmlSel.endOffset : 0;\r\n //         const next = e.nextSibling;\r\n //         range.selectNode(e);\r\n //         this.replaceSelection(parsed, range, null);\r\n //         if (isSelected) {\r\n //           if (next.previousSibling) {\r\n //             const inserted = next.previousSibling;\r\n //             range.setStart(inserted, inserted.length - caret);\r\n //             range.setEnd(inserted, inserted.length - caret);\r\n              //this.htmlSel.setStartAfter(content[content.length - 1]);\r\n              //this.htmlSel.collapse(false);\r\n //           }\r\n //           else {\r\n //             range.setStartBefore(this.$e[0].lastChild);\r\n //             range.setEndBefore(this.$e[0].lastChild);\r\n //           }\r\n //         }\r\n //       }\r\n      }\r\n    });\r\n  }\r\n\r\n  //replaceUnicodes(text) {\r\n  //  return text.replace(this.o.unicodeRegex, (match, unicode) => {\r\n  //    return Emoji.checkUnicode(unicode)\r\n  //      ? EmojiArea.createEmoji(null, this.o, unicode)\r\n  //      : unicode;\r\n  //  });\r\n  //}\r\n\r\n  //replaceAscii(text) {\r\n  //  return text.replace(this.o.asciiRegex, (match, ascii) => {\r\n  //    if (Emoji.checkAscii(ascii)) {\r\n  //      const alias = Emoji.aliasFromAscii(ascii);\r\n  //      if (alias) {\r\n  //        return EmojiArea.createEmoji(alias, this.o);\r\n  //      }\r\n  //    }\r\n  //    return ascii + ' ';\r\n  //  });\r\n  //}\r\n\r\n  //replaceAliases(text) {\r\n  //  return text.replace(this.o.aliasRegex, (match, alias) => {\r\n  //    return Emoji.checkAlias(alias)\r\n  //      ? EmojiArea.createEmoji(alias, this.o)\r\n  //      : ':' + alias + ':';\r\n  //  });\r\n  //}\r\n\r\n  togglePicker() {\r\n    const delegate = (this.picker || EmojiPicker);\r\n    if (!delegate.isVisible()) {\r\n      const cbtest = 1;\r\n//      this.picker = delegate.show(cbtest, this.$b, this.o);  //ERROR\r\n      this.picker = delegate.show(this.insert.bind(this), this.$b, this.o);  //ERROR\r\n    } else {\r\n      delegate.hide();\r\n    }\r\n    return false;\r\n  }\r\n\r\n  insert(alias) {\r\n//    const content = EmojiArea.createEmoji(alias, this.o);\r\n    if (!this.replaceSelection(alias)) {\r\n      this.$e.append(alias)\r\n        .focus()\r\n        .trigger(this.o.inputEvent);\r\n    }\r\n  }\r\n\r\n  static createEmoji(alias, options = EmojiArea.DEFAULTS, unicode) {\r\n    if (!alias && !unicode) {\r\n      return;\r\n    }\r\n    return alias;\r\n //   alias = alias || Emoji.aliasFromUnicode(unicode);\r\n //   unicode = unicode || Emoji.unicodeFromAlias(alias);\r\n //   return unicode\r\n //     ? unicode\r\n //     : alias;\r\n  }\r\n\r\n  static generateEmojiTag(unicode, alias) {\r\n    throw new Error('CSS emoji are not supported.');\r\n    return '<i class=\"emoji emoji-' + alias + '\" contenteditable=\"false\">' + unicode + '</i>';\r\n  }\r\n\r\n  static generateEmojiImg(unicode, alias, options = EmojiArea.DEFAULTS) {\r\n    throw new Error('Image emoji are not supported.');\r\n  }\r\n}\r\n\r\nEmojiArea.DEFAULTS = {\r\n  aliasRegex: /:([a-z0-9_]+?):/g, //deprecated, colon aliased not supported in unicode mode\r\n  asciiRegex: /([\\/<:;=8>(][()D3opPy*>\\/\\\\|-]+) /g,\r\n  unicodeRegex: /([\\u{1f300}-\\u{1f5ff}\\u{1f900}-\\u{1f9ff}\\u{1f600}-\\u{1f64f}\\u{1f680}-\\u{1f6ff}\\u{2600}-\\u{26ff}\\u{2700}-\\u{27bf}\\u{1f1e6}-\\u{1f1ff}\\u{1f191}-\\u{1f251}\\u{1f004}\\u{1f0cf}\\u{1f170}-\\u{1f171}\\u{1f17e}-\\u{1f17f}\\u{1f18e}\\u{3030}\\u{2b50}\\u{2b55}\\u{2934}-\\u{2935}\\u{2b05}-\\u{2b07}\\u{2b1b}-\\u{2b1c}\\u{3297}\\u{3299}\\u{303d}\\u{00a9}\\u{00ae}\\u{2122}\\u{23f3}\\u{24c2}\\u{23e9}-\\u{23ef}\\u{25b6}\\u{23f8}-\\u{23fa}])/ug,\r\n  inputSelector: 'input:text, textarea',\r\n  buttonSelector: '>.emoji-button',\r\n  inputEvent: /Trident/.test(navigator.userAgent) ? 'textinput' : 'input',\r\n  keyEvent: 'keypress',\r\n  anchorAlignment: 'left', // can be left|right\r\n  anchorOffsetX: -5,\r\n  anchorOffsetY: 5,\r\n  type: 'unicode', // deprecated, unicode is the only supported mode\r\n  iconSize: 25, // deprecated, not supported in unicode mode\r\n  assetPath: '', // deprecated, not supported in unicode mode\r\n  textClipboard: true,\r\n  globalPicker: true,\r\n  hideOnSelect: true,\r\n  pickerShrink: false,\r\n  heightSmall:    110,\r\n  heightBig:      248,\r\n  pickerWidth:    280,\r\n  tabPaneSmall:   67,\r\n};\r\n\r\nEmojiArea.AUTOINIT = true;\r\nEmojiArea.INJECT_STYLES = false; // only makes sense when EmojiArea.type != 'unicode'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/EmojiArea.js","/**\r\n * The EmojiUtil contains all functionality for handling emoji data and groups, but no html specific stuff.\r\n *\r\n * @author Wolfgang Stöttinger\r\n */\r\n\r\n//import Data from 'EmojiData';\r\n\r\nexport default class EmojiUtil {\r\n  constructor() {\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  static  initialize() {\r\n    EmojiUtil.aliases = {};\r\n    EmojiUtil.unicodes = {};\r\n    EmojiUtil.groups = {};\r\n    EmojiUtil.filters = {};\r\n    EmojiUtil.keywords = {};\r\n\r\n\r\n    var path = document.location;\r\n    var curLang = document.documentElement.lang;\r\n    if(curLang.length==2){\r\n      curLang='en-US';\r\n    }\r\n    var   fullPath = path.origin + '/sk.ru/www/emoji/groups.en-US.json';  //    $.getJSON('./../../sk.ru/www/emoji/groups.en-US.json'\r\n    EmojiUtil.syncJSON(\"./groups.ru-RU.json\", function (msg) {\r\n      EmojiUtil.groups = msg.groups;\r\n      EmojiUtil.filters = msg.filters;\r\n    });\r\n\r\n //   for (let key in EmojiUtil.groups) {\r\n      //   alert( key );  // name, age, isAdmin\r\n      //   alert(EmojiUtil.groups['smileys_emotion']['l']['face_affection'].i);\r\n//    }\r\n  }\r\n\r\n  static syncJSON(url, callback) {\r\n    $.ajax({\r\n      type: \"POST\",\r\n      async: false,\r\n      url: url,\r\n      contentType: \"application/json\",\r\n      dataType: \"json\",\r\n      success: function (msg) { callback(msg) },\r\n      error: function (msg) { alert('error : reading JSON file!!!!'); }\r\n    });\r\n  }\r\n\r\n  static checkAlias(alias) {\r\n    return EmojiUtil.aliases.hasOwnProperty(alias);\r\n  }\r\n\r\n  static checkUnicode(alias) {\r\n    return EmojiUtil.unicodes.hasOwnProperty(alias);\r\n  }\r\n\r\n  static checkAscii(ascii) {\r\n    return EmojiUtil.ascii.hasOwnProperty(ascii);\r\n  }\r\n\r\n  /**\r\n   * @param alias\r\n   * @param groupData if true returns an array including groupId, Col# and Row# of the Emoji\r\n   * @returns {*}\r\n   */\r\n  static dataFromAlias(alias, groupData = false) {\r\n    const key = EmojiUtil.aliases[alias];\r\n    const data = EmojiUtil.data[key];\r\n    if (!groupData || data[2]) // if group is set\r\n      return data;\r\n\r\n    for (let g = 0; g < EmojiUtil.groups.length; g++) {\r\n      const group = EmojiUtil.groups[g];\r\n      const d = group.dimensions;\r\n      const pos = $.inArray(key, group.items);\r\n      if (pos >= 0) {\r\n        data[2] = g; // group\r\n        data[3] = pos % d[0]; // column\r\n        data[4] = pos / d[0] | 0; // row\r\n        data[5] = d; // sprite dimensions\r\n        return data;\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param alias\r\n   * @returns {*}\r\n   */\r\n  static unicodeFromAlias(alias) {\r\n    if (alias) {\r\n      const key = EmojiUtil.aliases[alias];\r\n      const emojiData = EmojiUtil.data[key];\r\n      if (emojiData && emojiData[EmojiUtil.EMOJI_UNICODE])\r\n        return emojiData[EmojiUtil.EMOJI_UNICODE][0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static unicodeFromAscii(ascii) {\r\n    return EmojiUtil.unicodeFromAlias(EmojiUtil.aliasFromAscii(ascii));\r\n  }\r\n\r\n  static aliasFromUnicode(unicode) {\r\n    if (unicode) {\r\n      const key = EmojiUtil.unicodes[unicode];\r\n      const emojiData = EmojiUtil.data[key];\r\n      if (emojiData && emojiData[EmojiUtil.EMOJI_ALIASES])\r\n        return emojiData[EmojiUtil.EMOJI_ALIASES];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static aliasFromAscii(ascii) {\r\n    return EmojiUtil.ascii[ascii] || null;\r\n  }\r\n\r\n}\r\n/*\r\nEmojiUtil.data = Data.data;\r\nEmojiUtil.groups = Data.groups;\r\nEmojiUtil.ascii = Data.ascii;\r\n\r\nEmojiUtil.EMOJI_UNICODE = 0;\r\nEmojiUtil.EMOJI_ALIASES = 1;\r\n*/\r\n\r\nEmojiUtil.EMOJI_ICON      = 'i';\r\nEmojiUtil.EMOJI_NAME      = 'n';\r\nEmojiUtil.EMOJI_MODIFIER  = 'm';\r\nEmojiUtil.EMOJI_KEYWORD   = 'k';\r\nEmojiUtil.EMOJI_LIST      = 'l';\r\n\r\n//-----------------------------------------------------------------------------------------\r\n\r\nEmojiUtil.initialize();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/EmojiUtil.js","/**\n * This is the entry point for the library\n *\n * @author Wolfgang Stöttinger\n */\n\nimport $ from 'jquery';\nimport generatePlugin from './generate-plugin';\nimport EmojiArea from 'EmojiArea';\n\ngeneratePlugin('smartemoji', EmojiArea);\n\n/**\n * call auto initialization.\n */\n$(() => {\n  //noinspection JSUnresolvedFunction\n  $('[data-emojiarea]').smartemoji();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/jquery.smartemoji.js","import $ from 'jquery';\r\n\r\n/**\r\n * Generate a jQuery plugin\r\n * @param pluginName [string] Plugin name\r\n * @param className [object] Class of the plugin\r\n * @param shortHand [bool] Generate a shorthand as $.pluginName\r\n *\r\n * @example\r\n * import plugin from 'plugin';\r\n *\r\n * class MyPlugin {\r\n *     constructor(element, options) {\r\n *         // ...\r\n *     }\r\n * }\r\n *\r\n * MyPlugin.DEFAULTS = {};\r\n *\r\n * plugin('myPlugin', MyPlugin');\r\n */\r\nexport default function generatePlugin(pluginName, className, shortHand = false) {\r\n  let instanceName = `__${pluginName}`;\r\n  let old = $.fn[pluginName];\r\n\r\n  $.fn[pluginName] = function (option) {\r\n    return this.each(function () {\r\n      const $this = $(this);\r\n      let instance = $this.data(instanceName);\r\n\r\n      if (!instance && option !== 'destroy') {\r\n        const options = $.extend({}, className.DEFAULTS, $this.data(), typeof option === 'object' && option);\r\n        $this.data(instanceName, (instance = new className(this, options)));\r\n      }\r\n      else { //noinspection JSUnresolvedVariable\r\n        if (typeof instance.configure === 'function') {\r\n                //noinspection JSUnresolvedFunction\r\n                instance.configure(options);\r\n              }\r\n      }\r\n\r\n      if (typeof option === 'string') {\r\n        if (option === 'destroy') {\r\n          instance.destroy();\r\n          $this.data(instanceName, false);\r\n        } else {\r\n          instance[option]();\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // - Short hand\r\n  if (shortHand) {\r\n    $[pluginName] = (options) => $({})[pluginName](options);\r\n  }\r\n\r\n  // - No conflict\r\n  $.fn[pluginName].noConflict = () => $.fn[pluginName] = old;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/generate-plugin.js","/**\r\n * Emoji Picker (Dropdown) can work as global singleton (one dropdown for all inputs on the page)\r\n * or with separate instances (and settings) for each input.\r\n *\r\n * @author Wolfgang Stöttinger\r\n */\r\nimport $ from 'jquery';\r\nimport EmojiArea from 'EmojiArea';\r\nimport Emoji from 'EmojiUtil';\r\n\r\nexport default class EmojiPicker {\r\n\r\n  constructor(options = EmojiArea.DEFAULTS) {\r\n    this.o = options;\r\n    const $body = $(document.body);\r\n    $body.on('keydown', (e) => { if (e.keyCode === KEY_ESC || e.keyCode === KEY_TAB) this.hide(); });\r\n    $body.on('click', () => { this.hide(); });\r\n    $(window).on('resize', () => { if (this.$p.is(':visible')) { this.hide(); }});\r\n\r\n    var $emojidiv =  $(options.input).parents('form').find('.emoji-wrapper').attr('id');        /* #31768 */\r\n    var ifPickerExist = $(options.input).parents('form').find('.emoji-picker').attr('class');\r\n    if (!ifPickerExist) {\r\n        this.$p = $('<div>')\r\n        .addClass('emoji-picker')\r\n        .attr('data-picker-type', options.type) // $.data() here not possible, doesn't change dom\r\n        .on('mouseup click', (e) => e.stopPropagation() && false)\r\n        .hide()\r\n        .appendTo('#'+$emojidiv);\r\n    }\r\n\r\n    const tabs = this.loadPicker(options);\r\n    setTimeout(this.loadEmojis.bind(this, tabs), 300);\r\n  }\r\n\r\n  loadPicker(options) {\r\n    const ul = $('<ul>')\r\n      .addClass('emoji-selector nav nav-tabs');\r\n    const tabs = $('<div>')\r\n      .addClass('tab-content');\r\n\r\n    for (let g in Emoji.groups) {   // g - key of the Emoji.groups\r\n      const group = Emoji.groups[g];\r\n      const id = 'group_' + g;\r\n      const gid = '#' + id;\r\n      const a = $('<a>')\r\n        .html(Emoji.groups[g].i)\r\n        .data('toggle', 'tab')\r\n        .attr('title',group.n)\r\n        .attr('href', gid);\r\n      ul.append($('<li>').append(a));\r\n      const tab = $('<div>')\r\n        .attr('id', id)\r\n        .addClass('emoji-group tab-pane active')  //#31768 Add active class to all firstly\r\n        .data('group', g);\r\n\r\n      a.on('click', (e) => {\r\n        $('.tab-pane').not(tab).hide().removeClass('active');\r\n        //       if (options.pickerShrink){\r\n//           tab.css({\r\n//              height: options.tabPaneSmall + \"px\",\r\n//            });\r\n//        }\r\n        tab.addClass('active').show();\r\n        e.preventDefault();\r\n      });\r\n      tabs.append(tab);\r\n    }\r\n//  emoji filters------------------------------------------------\r\n    const filters = $('<div>')\r\n      .addClass('emoji-filters');\r\n\r\n    for (let f in Emoji.filters) {   // f - key of the Emoji.filters\r\n      const dropup = $('<div>')\r\n        .addClass('emoji-dropup');\r\n      const dropbtn = $('<div>')\r\n        .addClass('emoji-dropbtn')\r\n        .html(Emoji.filters[f].n+'⬆️')\r\n        .attr('id', f);\r\n//      const arrow = $('<i>')\r\n//        .addClass('fa fa-caret-down');\r\n//      dropbtn.append(arrow);\r\n      dropup.append(dropbtn);\r\n      const dropcont = $('<div>')\r\n        .addClass('emoji-dropup-content');\r\n\r\n      for (let em in Emoji.filters[f]['l']) {\r\n        const a = $('<a>')\r\n          .html(Emoji.filters[f]['l'][em].i)\r\n          .attr('title', Emoji.filters[f]['l'][em].n)\r\n          .attr('mode', Emoji.filters[f]['l'][em].m);\r\n        dropcont.append(a);\r\n      }\r\n      dropup.append(dropcont);\r\n      filters.append(dropup);\r\n    }\r\n\r\n//-----------------------------------------------------------------\r\n    tabs.find('.tab-pane').not(':first-child').hide().removeClass('active');\r\n    this.$p.append(ul).append(tabs).append(filters);\r\n    return tabs.children();\r\n  }\r\n\r\n  // this is to show the emojis directly\r\n  loadEmojis(tabs) {\r\n    let i=0;\r\n    for (let g in Emoji.groups) {   // g - key of the Emoji.groups\r\n      let group = Emoji.groups[g];\r\n      let tab = tabs[i];\r\n      for (let sg in Emoji.groups[g][Emoji.EMOJI_LIST]) {\r\n        for (let emo in Emoji.groups[g][Emoji.EMOJI_LIST][sg][Emoji.EMOJI_LIST]) {\r\n          let emojiobj = Emoji.groups[g][Emoji.EMOJI_LIST][sg][Emoji.EMOJI_LIST][emo];\r\n          let emojiElem = $('<a>')\r\n            .data('emoji', emo)\r\n//            .html(EmojiArea.createEmoji(emo, this.o))\r\n            .html(emo)\r\n            .attr('title',emojiobj.n)\r\n            .on('click', () => {this.insertEmoji(emo, this.o)});\r\n          $(tab).append(emojiElem);\r\n        }\r\n      }\r\n      i++;\r\n    }\r\n  }\r\n\r\n  // this is to show the subgroups\r\n//  loadEmojis(tabs) {\r\n//    let i=0;\r\n//    for (let g in Emoji.groups) {   // g - key of the Emoji.groups\r\n//      let group = Emoji.groups[g];\r\n//      let tab = tabs[i];\r\n//      for (let sg in Emoji.groups[g][Emoji.EMOJI_LIST]) {\r\n//        let subgroup = group[Emoji.EMOJI_LIST][sg];\r\n//        let emojiElem = $('<a>')\r\n//          .data('emoji', sg)\r\n//          .html(Emoji.groups[g][Emoji.EMOJI_LIST][sg].i)\r\n//          .on('click', () => {this.insertEmoji(sg, this.o)});  // ?????\r\n//        $(tab).append(emojiElem);\r\n//      }\r\n//      i++;\r\n//    }\r\n//  }\r\n\r\n  insertEmoji(emoji, options) {\r\n    if (typeof this.cb === 'function')\r\n      this.cb(emoji, options);\r\n    if (options.hideOnSelect){\r\n        this.hide();\r\n    }\r\n\r\n  }\r\n\r\n  reposition(anchor, options) {\r\n    if (!anchor || anchor.length === 0)\r\n      return;\r\n\r\n\r\n    const $anchor = $(anchor);\r\n    const pickerH = options.heightBig;\r\n    const pickerh = options.heightSmall;\r\n    const pickerW = options.pickerWidth;\r\n    var $emojwrap =  $anchor.parent();\r\n    var emojwrapOFF = $emojwrap.offset();\r\n\r\n    const winW = $(window).width();\r\n    const winH = $(window).height();\r\n\r\n    const $target = $(options.input);\r\n    var targetOFF = $target.offset();\r\n    var targetW = $target.width();\r\n    var targetH = $target.outerHeight(false);\r\n    var targetLeft = targetOFF.left;\r\n    var targetTop  = targetOFF.top;\r\n    var pickerLeft = - pickerW;\r\n\r\n    if (options.anchorButton) {\r\n        targetTop = $anchor.offset().top;\r\n        targetH = $anchor.outerHeight(false);\r\n        pickerLeft = ($emojwrap.width()-pickerW)/2;\r\n    }\r\n\r\n    var pickerTop =  targetTop + targetH - emojwrapOFF.top;\r\n\r\n    if (emojwrapOFF.left<pickerW){\r\n //       pickerLeft = - emojwrapOFF.left;  For demo page ONLY! URGENT!!\r\n    }\r\n\r\n    var toBottom =  winH - targetH - targetTop;\r\n    if (toBottom<pickerH) {\r\n       if (toBottom<pickerh) {\r\n          pickerTop = - pickerh-(emojwrapOFF.top-targetTop);\r\n       }\r\n       options.pickerShrink = true;\r\n    } else {\r\n      options.pickerShrink = false;\r\n    }\r\n\r\n    this.$p.css({\r\n        top:  pickerTop.toFixed(0)+\"px\",\r\n        left: pickerLeft.toFixed(0)+\"px\",\r\n    });\r\n    if (options.pickerShrink) {\r\n        this.$p.css({\r\n           height: options.heightSmall + \"px\",\r\n        });\r\n    } else {\r\n        this.$p.css({\r\n          height: options.heightBig + \"px\",\r\n        });\r\n    }\r\n  };\r\n\r\n  show(insertCallback, anchor, options) {\r\n    this.cb = insertCallback;\r\n    this.reposition(anchor, options);\r\n    this.$p.attr('data-picker-type', options.type); // $.data() here not possible, doesn't change dom\r\n\r\n    if (options.pickerShrink){\r\n        $('.tab-pane').css({\r\n              height: options.heightSmall-25 + \"px\",\r\n            });\r\n    } else {\r\n        $('.tab-pane').css({\r\n          height: options.heightBig-30+\"px\",\r\n        });\r\n    }\r\n\r\n    this.$p.show();\r\n    return this;\r\n  }\r\n\r\n  hide() {\r\n    this.$p.hide();\r\n  }\r\n\r\n  isVisible() {\r\n    return this.$p.is(':visible');\r\n  }\r\n}\r\n\r\nEmojiPicker.globalPicker = null;\r\n\r\nEmojiPicker.show = function (insertCallback, anchor, options = EmojiArea.DEFAULTS) {\r\n  let picker = EmojiPicker.globalPicker;\r\n  if (!options.globalPicker)\r\n    picker = new EmojiPicker(options);\r\n  if (!picker)\r\n    picker = EmojiPicker.globalPicker = new EmojiPicker(options);\r\n  picker.show(insertCallback, anchor, options);\r\n  return picker;\r\n};\r\n\r\nEmojiPicker.isVisible = function () {\r\n  return EmojiPicker.globalPicker && EmojiPicker.globalPicker.isVisible();\r\n};\r\n\r\nEmojiPicker.hide = function () {\r\n  !EmojiPicker.globalPicker || EmojiPicker.globalPicker.hide();\r\n};\r\n\r\nconst KEY_ESC = 27;\r\nconst KEY_TAB = 9;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/EmojiPicker.js"],"sourceRoot":""}