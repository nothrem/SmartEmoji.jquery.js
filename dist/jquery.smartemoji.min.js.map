{"version":3,"sources":["webpack:///jquery.smartemoji.min.js","webpack:///webpack/bootstrap 875bf2b91cbd96026fa3","webpack:///external \"jQuery\"","webpack:///./src/js/EmojiArea.js","webpack:///./src/js/EmojiUtil.js","webpack:///./src/js/jquery.smartemoji.js","webpack:///./src/js/generate-plugin.js","webpack:///./src/js/EmojiPicker.js"],"names":["SmartEmoji","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","jQuery","_interopRequireDefault","obj","default","_classCallCheck","instance","Constructor","TypeError","value","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","_jquery2","_jquery","_EmojiPicker2","_EmojiPicker","_EmojiUtil2","_EmojiUtil","EmojiArea","emojiArea","options","this","$","extend","DEFAULTS","$ea","$emojitarget","input","$ti","$b","find","buttonSelector","on","togglePicker","bind","$e","inputEvent","processTextContent","v","val","setSelectionRange","textSel","start","end","focusout","saveSelection","focus","restoreSelection","e","cbd","originalEvent","clipboardData","window","content","getSelection","toString","setData","preventDefault","getData","document","execCommand","range","htmlSel","insert","createTextNode","deleteContents","insertNode","setStartAfter","setEndAfter","setTimeout","onInput","selectionStart","selectionEnd","sel","focusNode","parentNode","getRangeAt","event","hSel","tSel","removeAllRanges","addRange","type","createContextualFragment","collapse","slice","inputType","processContent","updateInput","keyCode","replaceSelection","lastChild","nodeName","append","stopPropagation","innerText","textContent","trigger","parsed","replaceAscii","replaceAliases","_processElement","contents","each","nodeType","is","nodeValue","replaceUnicodes","isSelected","endContainer","createRange","caret","endOffset","next","nextSibling","selectNode","previousSibling","inserted","setStart","setEnd","setStartBefore","setEndBefore","text","replace","unicodeRegex","match","unicode","Emoji","checkUnicode","createEmoji","asciiRegex","ascii","checkAscii","alias","aliasFromAscii","aliasRegex","checkAlias","delegate","picker","EmojiPicker","isVisible","hide","show","aliasFromUnicode","unicodeFromAlias","Error","inputSelector","test","navigator","userAgent","keyEvent","anchorAlignment","anchorOffsetX","anchorOffsetY","iconSize","assetPath","textClipboard","globalPicker","hideOnSelect","heightSmall","heightBig","pickerWidth","tabPaneSmall","AUTOINIT","INJECT_STYLES","EmojiUtil","aliases","unicodes","path","location","curLang","documentElement","lang","fullPath","origin","concat","File","exists","alert","getJSON","data","emoji","dataKeys","keys","emojiData","code","EMOJI_UNICODE","EMOJI_ALIASES","groupData","g","groups","group","dimensions","pos","inArray","items","initialize","_generatePlugin2","_generatePlugin","_EmojiArea2","_EmojiArea","smartemoji","generatePlugin","pluginName","className","shortHand","instanceName","old","fn","option","$this","configure","destroy","noConflict","_typeof","Symbol","iterator","constructor","$body","body","KEY_ESC","KEY_TAB","$p","$emojidiv","parents","attr","addClass","appendTo","tabs","loadPicker","loadEmojis","ul","id","gid","a","html","tab","not","removeClass","children","emojiId","word","emojiElem","insertEmoji","cb","anchor","$anchor","pickerH","pickerh","pickerW","$emojwrap","parent","emojwrapOFF","offset","winH","width","height","$target","targetOFF","targetH","outerHeight","targetTop","left","top","pickerLeft","anchorButton","pickerTop","toBottom","pickerShrink","css","toFixed","insertCallback","reposition"],"mappings":"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","file":"jquery.smartemoji.min.js","sourcesContent":["var SmartEmoji =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 3);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = jQuery;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This EmojiArea is rewritten from ground up an based on the code from Brian Reavis <brian@diy.org>\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author Wolfgang Stöttinger\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _EmojiPicker = __webpack_require__(5);\n\nvar _EmojiPicker2 = _interopRequireDefault(_EmojiPicker);\n\nvar _EmojiUtil = __webpack_require__(2);\n\nvar _EmojiUtil2 = _interopRequireDefault(_EmojiUtil);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EmojiArea = function () {\n  function EmojiArea(emojiArea, options) {\n    _classCallCheck(this, EmojiArea);\n\n    this.o = _jquery2.default.extend({}, EmojiArea.DEFAULTS, options);\n    this.$ea = (0, _jquery2.default)(emojiArea);\n\n    var $emojitarget = (0, _jquery2.default)(options.input); /* #31768 */\n    this.$ti = $emojitarget; /* #31768 */\n\n    this.$b = this.$ea.find(options.buttonSelector).on('click', this.togglePicker.bind(this));\n\n    this.$e = this.$ti;\n    this.$ti.on(options.inputEvent, this.processTextContent.bind(this));\n\n    this.processTextContent();\n\n    var v = this.$ti.val();\n    this.$ti[0].setSelectionRange(v.length, v.length);\n    this.textSel = { start: v.length, end: v.length };\n\n    this.$e.focusout(this.saveSelection.bind(this)).focus(this.restoreSelection.bind(this));\n    // $(document.body).on('mousedown', this.saveSelection.bind(this));\n  }\n\n  //\n  // Clipboard handling\n  //\n\n  // noinspection JSMethodCanBeStatic\n\n\n  _createClass(EmojiArea, [{\n    key: 'clipboardCopy',\n    value: function clipboardCopy(e) {\n      // only allow plain text copy:\n      var cbd = e.originalEvent.clipboardData || window.clipboardData;\n      var content = window.getSelection().toString();\n      window.clipboardData ? cbd.setData('text', content) : cbd.setData('text/plain', content);\n      e.preventDefault();\n    }\n  }, {\n    key: 'clipboardPaste',\n    value: function clipboardPaste(e) {\n      // only allow to paste plain text\n      var cbd = e.originalEvent.clipboardData || window.clipboardData;\n      var content = window.clipboardData ? cbd.getData('text') : cbd.getData('text/plain');\n\n      if (!document.execCommand('insertText', false, content)) {\n        this.saveSelection();\n        var range = this.htmlSel;\n        var insert = document.createTextNode(content);\n        range.deleteContents();\n        range.insertNode(insert);\n        range.setStartAfter(insert);\n        range.setEndAfter(insert);\n        setTimeout(this.onInput.bind(this), 0);\n      }\n      e.preventDefault();\n    }\n\n    //\n    // Selection handling\n    //\n\n  }, {\n    key: 'saveSelection',\n    value: function saveSelection() {\n      var e = this.$e[0];\n      // for unicode mode, the textarea itself:\n      if (this.$e === this.$ti && e.selectionStart && e.selectionEnd) {\n        this.textSel = { start: e.selectionStart, end: e.selectionEnd };\n      } else {\n        var sel = window.getSelection();\n        if (sel.focusNode && (sel.focusNode === e || sel.focusNode.parentNode === e)) {\n          this.htmlSel = sel.getRangeAt(0);\n        }\n      }\n    }\n  }, {\n    key: 'restoreSelection',\n    value: function restoreSelection(event) {\n      var hSel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.htmlSel;\n      var tSel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.textSel;\n\n      if (hSel) {\n        var s = window.getSelection();\n        s.removeAllRanges();\n        s.addRange(hSel);\n      } else if (tSel) {\n        if (!event || event.type !== 'focus') {\n          this.$ti[0].focus();\n        }\n        this.$ti[0].setSelectionRange(tSel.start, tSel.end);\n      }\n    }\n  }, {\n    key: 'replaceSelection',\n    value: function replaceSelection(content) {\n      var hSel = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.htmlSel;\n      var tSel = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.textSel;\n\n      this.restoreSelection(null, hSel, tSel);\n      if (hSel) {\n        if (!document.execCommand('insertHTML', false, content)) {\n          // let insert = $.parseHTML(content)[0];\n          // insert = document.importNode(insert, true); // this is necessary for IE\n          hSel.deleteContents();\n          var insert = hSel.createContextualFragment(content);\n          hSel.insertNode(insert);\n          hSel.collapse(false);\n          // hSel.setStartAfter(insert.lastChild);\n          // hSel.setEndAfter(insert.lastChild);\n          return insert;\n        }\n        return true;\n      } else if (tSel) {\n        if (!document.execCommand('insertText', false, content)) {\n          var val = this.$e.val();\n          this.$e.val(val.slice(0, tSel.start) + content + val.slice(tSel.end));\n          tSel.start = tSel.end = tSel.start + content.length;\n          this.$ti[0].setSelectionRange(tSel.start, tSel.end);\n        }\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'onInput',\n    value: function onInput(event) {\n      if (!event || event.originalEvent && event.originalEvent.inputType !== 'historyUndo') {\n        this.processContent();\n        this.updateInput();\n      }\n    }\n  }, {\n    key: 'onKey',\n    value: function onKey(e) {\n      if (e.originalEvent.keyCode === 13) {\n        // catch enter and just insert <br>\n        this.saveSelection();\n        this.replaceSelection('<br>');\n\n        if (this.$e[0].lastChild.nodeName !== 'BR') {\n          this.$e.append('<br>'); // this is necessary to render correctly.\n        }\n\n        e.stopPropagation();\n        return false;\n      }\n    }\n  }, {\n    key: 'updateInput',\n    value: function updateInput() {\n      this.$ti.val(this.$e[0].innerText || this.$e[0].textContent);\n      this.$ti.trigger(this.o.inputEvent);\n    }\n  }, {\n    key: 'processTextContent',\n    value: function processTextContent(event) {\n      if (!event || event.originalEvent && event.originalEvent.inputType !== 'historyUndo') {\n        var val = this.$ti.val();\n        var parsed = this.replaceAscii(val);\n        parsed = this.replaceAliases(parsed);\n        if (parsed !== val) {\n          var sel = parsed.length - (val.length - this.$ti[0].selectionEnd);\n          this.$ti.val(parsed);\n          this.$ti[0].setSelectionRange(sel, sel);\n          this.textSel = { start: sel, end: sel };\n          this.$ti.focus().trigger(this.o.inputEvent);\n        }\n      }\n    }\n  }, {\n    key: 'processContent',\n    value: function processContent() {\n      this.saveSelection();\n      this._processElement(this.$e);\n      if (this.$e[0].lastChild.nodeName !== 'BR') {\n        this.$e.append('<br>'); // this is necessary to render correctly.\n      }\n    }\n  }, {\n    key: '_processElement',\n    value: function _processElement() {\n      var _this = this;\n\n      var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.$e;\n\n      // this is a bit more complex because\n      //  a) only text nodes should be replaced\n      //  b) the cursor position should be kept after an alias is replaced\n\n      element.contents().each(function (i, e) {\n        if (e.nodeType === 1 || e.nodeType === 11) {\n          // element or document fragment\n          var $e = (0, _jquery2.default)(e);\n          if (!$e.is('.emoji')) // skip emoji\n            {\n              _this._processElement($e);\n            }\n        } else if (e.nodeType === 3) {\n          // text node\n          // replace unicodes\n          var parsed = e.nodeValue;\n\n          if (_this.o.type !== 'unicode') {\n            //convert existing unicodes\n            parsed = _this.replaceUnicodes(parsed);\n          }\n\n          parsed = _this.replaceAscii(parsed);\n          parsed = _this.replaceAliases(parsed);\n\n          if (parsed !== e.nodeValue) {\n            var isSelected = _this.htmlSel && _this.htmlSel.endContainer === e;\n            var range = isSelected ? _this.htmlSel : document.createRange();\n            var caret = _this.htmlSel ? e.nodeValue.length - _this.htmlSel.endOffset : 0;\n            var next = e.nextSibling;\n            range.selectNode(e);\n            _this.replaceSelection(parsed, range, null);\n            if (isSelected) {\n              if (next.previousSibling) {\n                var inserted = next.previousSibling;\n                range.setStart(inserted, inserted.length - caret);\n                range.setEnd(inserted, inserted.length - caret);\n                //this.htmlSel.setStartAfter(content[content.length - 1]);\n                //this.htmlSel.collapse(false);\n              } else {\n                range.setStartBefore(_this.$e[0].lastChild);\n                range.setEndBefore(_this.$e[0].lastChild);\n              }\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: 'replaceUnicodes',\n    value: function replaceUnicodes(text) {\n      var _this2 = this;\n\n      return text.replace(this.o.unicodeRegex, function (match, unicode) {\n        return _EmojiUtil2.default.checkUnicode(unicode) ? EmojiArea.createEmoji(null, _this2.o, unicode) : unicode;\n      });\n    }\n  }, {\n    key: 'replaceAscii',\n    value: function replaceAscii(text) {\n      var _this3 = this;\n\n      return text.replace(this.o.asciiRegex, function (match, ascii) {\n        if (_EmojiUtil2.default.checkAscii(ascii)) {\n          var alias = _EmojiUtil2.default.aliasFromAscii(ascii);\n          if (alias) {\n            return EmojiArea.createEmoji(alias, _this3.o);\n          }\n        }\n        return ascii + ' ';\n      });\n    }\n  }, {\n    key: 'replaceAliases',\n    value: function replaceAliases(text) {\n      var _this4 = this;\n\n      return text.replace(this.o.aliasRegex, function (match, alias) {\n        return _EmojiUtil2.default.checkAlias(alias) ? EmojiArea.createEmoji(alias, _this4.o) : ':' + alias + ':';\n      });\n    }\n  }, {\n    key: 'togglePicker',\n    value: function togglePicker() {\n      var delegate = this.picker || _EmojiPicker2.default;\n      if (!delegate.isVisible()) {\n        this.picker = delegate.show(this.insert.bind(this), this.$b, this.o);\n      } else {\n        delegate.hide();\n      }\n      return false;\n    }\n  }, {\n    key: 'insert',\n    value: function insert(alias) {\n      var content = EmojiArea.createEmoji(alias, this.o);\n      if (!this.replaceSelection(content)) {\n        this.$e.append(content).focus().trigger(this.o.inputEvent);\n      }\n    }\n  }], [{\n    key: 'createEmoji',\n    value: function createEmoji(alias) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EmojiArea.DEFAULTS;\n      var unicode = arguments[2];\n\n      if (!alias && !unicode) {\n        return;\n      }\n      alias = alias || _EmojiUtil2.default.aliasFromUnicode(unicode);\n      unicode = unicode || _EmojiUtil2.default.unicodeFromAlias(alias);\n      return unicode ? unicode : alias;\n    }\n  }, {\n    key: 'generateEmojiTag',\n    value: function generateEmojiTag(unicode, alias) {\n      throw new Error('CSS emoji are not supported.');\n      return '<i class=\"emoji emoji-' + alias + '\" contenteditable=\"false\">' + unicode + '</i>';\n    }\n  }, {\n    key: 'generateEmojiImg',\n    value: function generateEmojiImg(unicode, alias) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EmojiArea.DEFAULTS;\n\n      throw new Error('Image emoji are not supported.');\n    }\n  }]);\n\n  return EmojiArea;\n}();\n\nexports.default = EmojiArea;\n\n\nEmojiArea.DEFAULTS = {\n  aliasRegex: /:([a-z0-9_]+?):/g, //deprecated, colon aliased not supported in unicode mode\n  asciiRegex: /([\\/<:;=8>(][()D3opPy*>\\/\\\\|-]+) /g,\n  unicodeRegex: /((?:[\\xA9\\xAE\\u2122\\u23E9-\\u23EF\\u23F3\\u23F8-\\u23FA\\u24C2\\u25B6\\u2600-\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDE51\\uDF00-\\uDFFF]|\\uD83D[\\uDC00-\\uDE4F\\uDE80-\\uDEFF]|\\uD83E[\\uDD00-\\uDDFF]))/g,\n  inputSelector: 'input:text, textarea',\n  buttonSelector: '>.emoji-button',\n  inputEvent: /Trident/.test(navigator.userAgent) ? 'textinput' : 'input',\n  keyEvent: 'keypress',\n  anchorAlignment: 'left', // can be left|right\n  anchorOffsetX: -5,\n  anchorOffsetY: 5,\n  type: 'unicode', // deprecated, unicode is the only supported mode\n  iconSize: 25, // deprecated, not supported in unicode mode\n  assetPath: '', // deprecated, not supported in unicode mode\n  textClipboard: true,\n  globalPicker: true,\n  hideOnSelect: true,\n  heightSmall: 110,\n  heightBig: 243,\n  pickerWidth: 210,\n  tabPaneSmall: 67\n};\n\nEmojiArea.AUTOINIT = true;\nEmojiArea.INJECT_STYLES = false; // only makes sense when EmojiArea.type != 'unicode'\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * The EmojiUtil contains all functionality for handling emoji data and groups, but no html specific stuff.\r\n *\r\n * @author Wolfgang Stöttinger\r\n */\n\n//import Data from 'EmojiData';\n\n\nvar EmojiUtil = function () {\n  function EmojiUtil() {\n    _classCallCheck(this, EmojiUtil);\n  }\n\n  /**\r\n   *\r\n   */\n\n\n  _createClass(EmojiUtil, null, [{\n    key: 'initialize',\n    value: function initialize() {\n      EmojiUtil.aliases = {};\n      EmojiUtil.unicodes = {};\n      //-----------------------------------------------------------------------------\n      //    let DB = await(await fetch('./../../../emoji/emoji.en_GB.json')).json();\n      //    console.log(DB); \n      //      var path = document.location;\n      //       var path = unescape(document.location);\n      //   alert(path);   \n      //   $.get('./../../../emoji/emoji.en_GB.json')\n      //\t.done(data => {\n      //\t\tlet parseData;\n      //\t\ttry \t{\n      //\t\t\tparseData = JSON.parse(data);\n      //            console.log(parseData);\n      //\t\t}\tcatch (err) {\n      //\t\t\tparseData = {};\n      //\t\t}\n      //\t});\n\n      /*      .getJSON('ajax/test.json', function(data) {\r\n        var items = [];\r\n      \r\n      //          parseData = JSON.parse(data);\r\n      //          var obj = jQuery.parseJSON(data); \r\n      \r\n        $.each(data, function(key, val) {\r\n          items.push('<li id=\"' + key + '\">' + val + '</li>');\r\n        });\r\n      \r\n        $('<ul/>', {\r\n          'class': 'my-new-list',\r\n          html: items.join('')\r\n        }).appendTo('body');\r\n      });\r\n      http://dev.cooladmin.net/admin/en/user.responder/free-reply/5167   */\n      //-----------------------------------------------------------------------------\n      var path = document.location;\n      var curLang = document.documentElement.lang;\n      if (curLang.length == 2) {\n        curLang = 'en_US';\n      }\n      debugger;\n      //    var fullPath = path.origin+'/emoji/emoji.'+curLang+'.json';\n      var fullPath = path.origin.concat('/emoji/emo-ji.', curLang, '.json');\n      var myLog = new File(fullPath);\n      if (!myLog.exists()) {\n        alert(fullPath);\n        fullPath = path.origin.concat('/emoji/emoji.en_US.json');\n      }\n      $.getJSON(fullPath, function (data) {\n        var k = 0,\n            parseData,\n            obj;\n\n        obj = data.emoji;\n        //          alert(data.emodji.value);\n        $.each(obj, function (key, value) {\n\n          //                alert(key);\n          //                alert(value.n);\n          //                alert(value.k);\n        });\n      });\n      //-----------------------------------------------------------------------------     \n      var dataKeys = Object.keys(EmojiUtil.data);\n      for (var e = 0; e < dataKeys.length; e++) {\n        var key = dataKeys[e];\n        var emojiData = EmojiUtil.data[key];\n        if (emojiData) {\n          var code = emojiData[EmojiUtil.EMOJI_UNICODE][0];\n\n          EmojiUtil.aliases[emojiData[EmojiUtil.EMOJI_ALIASES]] = key;\n          EmojiUtil.unicodes[code] = key;\n        }\n      }\n    }\n  }, {\n    key: 'checkAlias',\n    value: function checkAlias(alias) {\n      return EmojiUtil.aliases.hasOwnProperty(alias);\n    }\n  }, {\n    key: 'checkUnicode',\n    value: function checkUnicode(alias) {\n      return EmojiUtil.unicodes.hasOwnProperty(alias);\n    }\n  }, {\n    key: 'checkAscii',\n    value: function checkAscii(ascii) {\n      return EmojiUtil.ascii.hasOwnProperty(ascii);\n    }\n\n    /**\r\n     * @param alias\r\n     * @param groupData if true returns an array including groupId, Col# and Row# of the Emoji\r\n     * @returns {*}\r\n     */\n\n  }, {\n    key: 'dataFromAlias',\n    value: function dataFromAlias(alias) {\n      var groupData = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var key = EmojiUtil.aliases[alias];\n      var data = EmojiUtil.data[key];\n      if (!groupData || data[2]) // if group is set\n        return data;\n\n      for (var g = 0; g < EmojiUtil.groups.length; g++) {\n        var group = EmojiUtil.groups[g];\n        var d = group.dimensions;\n        var pos = $.inArray(key, group.items);\n        if (pos >= 0) {\n          data[2] = g; // group\n          data[3] = pos % d[0]; // column\n          data[4] = pos / d[0] | 0; // row\n          data[5] = d; // sprite dimensions\n          return data;\n        }\n      }\n      return data;\n    }\n\n    /**\r\n     *\r\n     * @param alias\r\n     * @returns {*}\r\n     */\n\n  }, {\n    key: 'unicodeFromAlias',\n    value: function unicodeFromAlias(alias) {\n      if (alias) {\n        var key = EmojiUtil.aliases[alias];\n        var emojiData = EmojiUtil.data[key];\n        if (emojiData && emojiData[EmojiUtil.EMOJI_UNICODE]) return emojiData[EmojiUtil.EMOJI_UNICODE][0];\n      }\n      return null;\n    }\n  }, {\n    key: 'unicodeFromAscii',\n    value: function unicodeFromAscii(ascii) {\n      return EmojiUtil.unicodeFromAlias(EmojiUtil.aliasFromAscii(ascii));\n    }\n  }, {\n    key: 'aliasFromUnicode',\n    value: function aliasFromUnicode(unicode) {\n      if (unicode) {\n        var key = EmojiUtil.unicodes[unicode];\n        var emojiData = EmojiUtil.data[key];\n        if (emojiData && emojiData[EmojiUtil.EMOJI_ALIASES]) return emojiData[EmojiUtil.EMOJI_ALIASES];\n      }\n      return null;\n    }\n  }, {\n    key: 'aliasFromAscii',\n    value: function aliasFromAscii(ascii) {\n      return EmojiUtil.ascii[ascii] || null;\n    }\n  }]);\n\n  return EmojiUtil;\n}();\n/*\r\nEmojiUtil.data = Data.data;\r\nEmojiUtil.groups = Data.groups;\r\nEmojiUtil.ascii = Data.ascii;\r\n\r\nEmojiUtil.EMOJI_UNICODE = 0;\r\nEmojiUtil.EMOJI_ALIASES = 1; */\n\nexports.default = EmojiUtil;\nEmojiUtil.initialize();\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _generatePlugin = __webpack_require__(4);\n\nvar _generatePlugin2 = _interopRequireDefault(_generatePlugin);\n\nvar _EmojiArea = __webpack_require__(1);\n\nvar _EmojiArea2 = _interopRequireDefault(_EmojiArea);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(0, _generatePlugin2.default)('smartemoji', _EmojiArea2.default);\n\n/**\n * call auto initialization.\n */\n/**\n * This is the entry point for the library\n *\n * @author Wolfgang Stöttinger\n */\n\n(0, _jquery2.default)(function () {\n  //noinspection JSUnresolvedFunction\n  (0, _jquery2.default)('[data-emojiarea]').smartemoji();\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = generatePlugin;\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Generate a jQuery plugin\r\n * @param pluginName [string] Plugin name\r\n * @param className [object] Class of the plugin\r\n * @param shortHand [bool] Generate a shorthand as $.pluginName\r\n *\r\n * @example\r\n * import plugin from 'plugin';\r\n *\r\n * class MyPlugin {\r\n *     constructor(element, options) {\r\n *         // ...\r\n *     }\r\n * }\r\n *\r\n * MyPlugin.DEFAULTS = {};\r\n *\r\n * plugin('myPlugin', MyPlugin');\r\n */\nfunction generatePlugin(pluginName, className) {\n  var shortHand = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var instanceName = '__' + pluginName;\n  var old = _jquery2.default.fn[pluginName];\n\n  _jquery2.default.fn[pluginName] = function (option) {\n    return this.each(function () {\n      var $this = (0, _jquery2.default)(this);\n      var instance = $this.data(instanceName);\n\n      if (!instance && option !== 'destroy') {\n        var _options = _jquery2.default.extend({}, className.DEFAULTS, $this.data(), (typeof option === 'undefined' ? 'undefined' : _typeof(option)) === 'object' && option);\n        $this.data(instanceName, instance = new className(this, _options));\n      } else {\n        //noinspection JSUnresolvedVariable\n        if (typeof instance.configure === 'function') {\n          //noinspection JSUnresolvedFunction\n          instance.configure(options);\n        }\n      }\n\n      if (typeof option === 'string') {\n        if (option === 'destroy') {\n          instance.destroy();\n          $this.data(instanceName, false);\n        } else {\n          instance[option]();\n        }\n      }\n    });\n  };\n\n  // - Short hand\n  if (shortHand) {\n    _jquery2.default[pluginName] = function (options) {\n      return (0, _jquery2.default)({})[pluginName](options);\n    };\n  }\n\n  // - No conflict\n  _jquery2.default.fn[pluginName].noConflict = function () {\n    return _jquery2.default.fn[pluginName] = old;\n  };\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Emoji Picker (Dropdown) can work as global singleton (one dropdown for all inputs on the page)\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * or with separate instances (and settings) for each input.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author Wolfgang Stöttinger\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _jquery = __webpack_require__(0);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _EmojiArea = __webpack_require__(1);\n\nvar _EmojiArea2 = _interopRequireDefault(_EmojiArea);\n\nvar _EmojiUtil = __webpack_require__(2);\n\nvar _EmojiUtil2 = _interopRequireDefault(_EmojiUtil);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EmojiPicker = function () {\n  function EmojiPicker() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _EmojiArea2.default.DEFAULTS;\n\n    _classCallCheck(this, EmojiPicker);\n\n    this.o = options;\n    var $body = (0, _jquery2.default)(document.body);\n    $body.on('keydown', function (e) {\n      if (e.keyCode === KEY_ESC || e.keyCode === KEY_TAB) _this.hide();\n    });\n    $body.on('click', function () {\n      _this.hide();\n    });\n    (0, _jquery2.default)(window).on('resize', function () {\n      if (_this.$p.is(':visible')) {\n        _this.hide();\n      }\n    });\n\n    var $emojidiv = (0, _jquery2.default)(options.input).parents('form').find('.emoji-wrapper').attr('id'); /* #31768 */\n    var ifPickerExist = (0, _jquery2.default)(options.input).parents('form').find('.emoji-picker').attr('class');\n    if (!ifPickerExist) {\n      this.$p = (0, _jquery2.default)('<div>').addClass('emoji-picker').attr('data-picker-type', options.type) // $.data() here not possible, doesn't change dom\n      .on('mouseup click', function (e) {\n        return e.stopPropagation() && false;\n      }).hide().appendTo('#' + $emojidiv);\n    }\n\n    var tabs = this.loadPicker(options);\n    setTimeout(this.loadEmojis.bind(this, tabs), 100);\n  }\n\n  _createClass(EmojiPicker, [{\n    key: 'loadPicker',\n    value: function loadPicker(options) {\n      var _this2 = this;\n\n      var ul = (0, _jquery2.default)('<ul>').addClass('emoji-selector nav nav-tabs');\n      var tabs = (0, _jquery2.default)('<div>').addClass('tab-content');\n\n      var _loop = function _loop(g) {\n        var group = _EmojiUtil2.default.groups[g];\n        var id = 'group_' + group.name;\n        var gid = '#' + id;\n\n        var a = (0, _jquery2.default)('<a>').html(_EmojiArea2.default.createEmoji(group.name, _this2.o)).data('toggle', 'tab').attr('href', gid);\n\n        ul.append((0, _jquery2.default)('<li>').append(a));\n\n        var tab = (0, _jquery2.default)('<div>').attr('id', id).addClass('emoji-group tab-pane active') //#31768 Add active class to all firstly\n        .data('group', group.name);\n\n        a.on('click', function (e) {\n          (0, _jquery2.default)('.tab-pane').not(tab).hide().removeClass('active');\n          //       if (options.pickerShrink){\n          //           tab.css({  \n          //              height: options.tabPaneSmall + \"px\",      \n          //            });      \n          //        }  \n          tab.addClass('active').show();\n          e.preventDefault();\n        });\n        tabs.append(tab);\n      };\n\n      for (var g = 0; g < _EmojiUtil2.default.groups.length; g++) {\n        _loop(g);\n      }\n\n      tabs.find('.tab-pane').not(':first-child').hide().removeClass('active');\n\n      this.$p.append(ul).append(tabs);\n      return tabs.children();\n    }\n  }, {\n    key: 'loadEmojis',\n    value: function loadEmojis(tabs) {\n      var _this3 = this;\n\n      for (var g = 0; g < _EmojiUtil2.default.groups.length; g++) {\n        var group = _EmojiUtil2.default.groups[g];\n        var _tab = tabs[g];\n        for (var e = 0; e < group.items.length; e++) {\n          var emojiId = group.items[e];\n          if (_EmojiUtil2.default.data.hasOwnProperty(emojiId)) {\n            (function () {\n              var word = _EmojiUtil2.default.data[emojiId][_EmojiUtil2.default.EMOJI_ALIASES] || '';\n              var emojiElem = (0, _jquery2.default)('<a>').data('emoji', word).html(_EmojiArea2.default.createEmoji(word, _this3.o)).on('click', function () {\n                _this3.insertEmoji(word, _this3.o);\n              });\n              (0, _jquery2.default)(_tab).append(emojiElem);\n            })();\n          }\n        }\n      }\n    }\n  }, {\n    key: 'insertEmoji',\n    value: function insertEmoji(emoji, options) {\n      if (typeof this.cb === 'function') this.cb(emoji, options);\n      if (options.hideOnSelect) {\n        this.hide();\n      }\n    }\n  }, {\n    key: 'reposition',\n    value: function reposition(anchor, options) {\n      if (!anchor || anchor.length === 0) return;\n\n      var $anchor = (0, _jquery2.default)(anchor);\n      var pickerH = options.heightBig;\n      var pickerh = options.heightSmall;\n      var pickerW = options.pickerWidth;\n      var $emojwrap = $anchor.parent();\n      var emojwrapOFF = $emojwrap.offset();\n\n      var winW = (0, _jquery2.default)(window).width();\n      var winH = (0, _jquery2.default)(window).height();\n\n      var $target = (0, _jquery2.default)(options.input);\n      var targetOFF = $target.offset();\n      var targetW = $target.width();\n      var targetH = $target.outerHeight(false);\n      var targetLeft = targetOFF.left;\n      var targetTop = targetOFF.top;\n      var pickerLeft = -pickerW;\n\n      if (options.anchorButton) {\n        targetTop = $anchor.offset().top;\n        targetH = $anchor.outerHeight(false);\n        pickerLeft = ($emojwrap.width() - pickerW) / 2;\n      }\n\n      var pickerTop = targetTop + targetH - emojwrapOFF.top;\n\n      if (emojwrapOFF.left < pickerW) {\n        pickerLeft = -emojwrapOFF.left;\n      }\n\n      var toBottom = winH - targetH - targetTop;\n      if (toBottom < pickerH) {\n        if (toBottom < pickerh) {\n          pickerTop = -pickerh - (emojwrapOFF.top - targetTop);\n        }\n        options.pickerShrink = true;\n      }\n\n      this.$p.css({\n        top: pickerTop.toFixed(0) + \"px\",\n        left: pickerLeft.toFixed(0) + \"px\"\n      });\n      if (options.pickerShrink) {\n        this.$p.css({\n          height: options.heightSmall + \"px\"\n        });\n      }\n    }\n  }, {\n    key: 'show',\n    value: function show(insertCallback, anchor, options) {\n      this.cb = insertCallback;\n      this.reposition(anchor, options);\n      this.$p.attr('data-picker-type', options.type); // $.data() here not possible, doesn't change dom\n\n      if (options.pickerShrink) {\n        (0, _jquery2.default)('.tab-pane').css({\n          height: options.tabPaneSmall + \"px\"\n        });\n      }\n\n      this.$p.show();\n      return this;\n    }\n  }, {\n    key: 'hide',\n    value: function hide() {\n      this.$p.hide();\n    }\n  }, {\n    key: 'isVisible',\n    value: function isVisible() {\n      return this.$p.is(':visible');\n    }\n  }]);\n\n  return EmojiPicker;\n}();\n\nexports.default = EmojiPicker;\n\n\nEmojiPicker.globalPicker = null;\n\nEmojiPicker.show = function (insertCallback, anchor) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _EmojiArea2.default.DEFAULTS;\n\n  var picker = EmojiPicker.globalPicker;\n  if (!options.globalPicker) picker = new EmojiPicker(options);\n  if (!picker) picker = EmojiPicker.globalPicker = new EmojiPicker(options);\n  picker.show(insertCallback, anchor, options);\n  return picker;\n};\n\nEmojiPicker.isVisible = function () {\n  return EmojiPicker.globalPicker && EmojiPicker.globalPicker.isVisible();\n};\n\nEmojiPicker.hide = function () {\n  !EmojiPicker.globalPicker || EmojiPicker.globalPicker.hide();\n};\n\nvar KEY_ESC = 27;\nvar KEY_TAB = 9;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// jquery.smartemoji.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 875bf2b91cbd96026fa3","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = 0","/**\r\n * This EmojiArea is rewritten from ground up an based on the code from Brian Reavis <brian@diy.org>\r\n *\r\n * @author Wolfgang Stöttinger\r\n */\r\nimport $ from 'jquery';\r\nimport EmojiPicker from 'EmojiPicker';\r\nimport Emoji from 'EmojiUtil'\r\n\r\nexport default class EmojiArea {\r\n\r\n  constructor(emojiArea, options) {\r\n    this.o = $.extend({}, EmojiArea.DEFAULTS, options);\r\n    this.$ea = $(emojiArea);\r\n      \r\n    var $emojitarget = $(options.input);                                    /* #31768 */ \r\n    this.$ti = $emojitarget;                                                /* #31768 */\r\n      \r\n    this.$b = this.$ea.find(options.buttonSelector)\r\n      .on('click', this.togglePicker.bind(this));\r\n\r\n    this.$e = this.$ti;\r\n    this.$ti.on(options.inputEvent, this.processTextContent.bind(this));\r\n\r\n    this.processTextContent();\r\n\r\n    const v = this.$ti.val();\r\n    this.$ti[0].setSelectionRange(v.length, v.length);\r\n    this.textSel = { start: v.length, end: v.length };\r\n\r\n    this.$e\r\n      .focusout(this.saveSelection.bind(this))\r\n      .focus(this.restoreSelection.bind(this));\r\n    // $(document.body).on('mousedown', this.saveSelection.bind(this));\r\n  }\r\n\r\n  //\r\n  // Clipboard handling\r\n  //\r\n\r\n  // noinspection JSMethodCanBeStatic\r\n  clipboardCopy(e) {\r\n    // only allow plain text copy:\r\n    const cbd = e.originalEvent.clipboardData || window.clipboardData;\r\n    const content = window.getSelection().toString();\r\n    window.clipboardData ? cbd.setData('text', content) : cbd.setData('text/plain', content);\r\n    e.preventDefault();\r\n  }\r\n\r\n  clipboardPaste(e) {\r\n    // only allow to paste plain text\r\n    const cbd = e.originalEvent.clipboardData || window.clipboardData;\r\n    const content = window.clipboardData ? cbd.getData('text') : cbd.getData('text/plain');\r\n\r\n    if (!document.execCommand('insertText', false, content)) {\r\n      this.saveSelection();\r\n      const range = this.htmlSel;\r\n      const insert = document.createTextNode(content);\r\n      range.deleteContents();\r\n      range.insertNode(insert);\r\n      range.setStartAfter(insert);\r\n      range.setEndAfter(insert);\r\n      setTimeout(this.onInput.bind(this), 0);\r\n    }\r\n    e.preventDefault();\r\n  }\r\n\r\n  //\r\n  // Selection handling\r\n  //\r\n  saveSelection() {\r\n    const e = this.$e[0];\r\n    // for unicode mode, the textarea itself:\r\n    if (this.$e === this.$ti && e.selectionStart && e.selectionEnd) {\r\n      this.textSel = { start: e.selectionStart, end: e.selectionEnd };\r\n    } else {\r\n      const sel = window.getSelection();\r\n      if (sel.focusNode && (sel.focusNode === e || sel.focusNode.parentNode === e)) {\r\n        this.htmlSel = sel.getRangeAt(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  restoreSelection(event, hSel = this.htmlSel, tSel = this.textSel) {\r\n    if (hSel) {\r\n      const s = window.getSelection();\r\n      s.removeAllRanges();\r\n      s.addRange(hSel);\r\n    } else if (tSel) {\r\n      if (!event || event.type !== 'focus') {\r\n        this.$ti[0].focus();\r\n      }\r\n      this.$ti[0].setSelectionRange(tSel.start, tSel.end);\r\n    }\r\n  }\r\n\r\n  replaceSelection(content, hSel = this.htmlSel, tSel = this.textSel) {\r\n    this.restoreSelection(null, hSel, tSel);\r\n    if (hSel) {\r\n      if (!document.execCommand('insertHTML', false, content)) {\r\n        // let insert = $.parseHTML(content)[0];\r\n        // insert = document.importNode(insert, true); // this is necessary for IE\r\n        hSel.deleteContents();\r\n        const insert = hSel.createContextualFragment(content);\r\n        hSel.insertNode(insert);\r\n        hSel.collapse(false);\r\n        // hSel.setStartAfter(insert.lastChild);\r\n        // hSel.setEndAfter(insert.lastChild);\r\n        return insert;\r\n      }\r\n      return true;\r\n    }\r\n    else if (tSel) {\r\n      if (!document.execCommand('insertText', false, content)) {\r\n        let val = this.$e.val();\r\n        this.$e.val(val.slice(0, tSel.start) + content + val.slice(tSel.end));\r\n        tSel.start = tSel.end = tSel.start + content.length;\r\n        this.$ti[0].setSelectionRange(tSel.start, tSel.end);\r\n      }\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  onInput(event) {\r\n    if (!event || (event.originalEvent && event.originalEvent.inputType !== 'historyUndo')) {\r\n      this.processContent();\r\n      this.updateInput();\r\n    }\r\n  }\r\n\r\n  onKey(e) {\r\n    if (e.originalEvent.keyCode === 13) { // catch enter and just insert <br>\r\n      this.saveSelection();\r\n      this.replaceSelection('<br>');\r\n\r\n      if (this.$e[0].lastChild.nodeName !== 'BR') {\r\n        this.$e.append('<br>'); // this is necessary to render correctly.\r\n      }\r\n\r\n      e.stopPropagation();\r\n      return false;\r\n    }\r\n  }\r\n\r\n  updateInput() {\r\n    this.$ti.val(this.$e[0].innerText || this.$e[0].textContent);\r\n    this.$ti.trigger(this.o.inputEvent);\r\n  }\r\n\r\n  processTextContent(event) {\r\n    if (!event || (event.originalEvent && event.originalEvent.inputType !== 'historyUndo')) {\r\n      let val = this.$ti.val();\r\n      let parsed = this.replaceAscii(val);\r\n      parsed = this.replaceAliases(parsed);\r\n      if (parsed !== val) {\r\n        const sel = parsed.length - (val.length - this.$ti[0].selectionEnd);\r\n        this.$ti.val(parsed);\r\n        this.$ti[0].setSelectionRange(sel, sel);\r\n        this.textSel = { start: sel, end: sel };\r\n        this.$ti\r\n          .focus()\r\n          .trigger(this.o.inputEvent);\r\n      }\r\n    }\r\n  }\r\n\r\n  processContent() {\r\n    this.saveSelection();\r\n    this._processElement(this.$e);\r\n    if (this.$e[0].lastChild.nodeName !== 'BR') {\r\n      this.$e.append('<br>'); // this is necessary to render correctly.\r\n    }\r\n  }\r\n\r\n  _processElement(element = this.$e) {\r\n    // this is a bit more complex because\r\n    //  a) only text nodes should be replaced\r\n    //  b) the cursor position should be kept after an alias is replaced\r\n\r\n    element.contents().each((i, e) => {\r\n      if (e.nodeType === 1 || e.nodeType === 11) { // element or document fragment\r\n        const $e = $(e);\r\n        if (!$e.is('.emoji')) // skip emoji\r\n        {\r\n          this._processElement($e);\r\n        }\r\n      }\r\n      else if (e.nodeType === 3) { // text node\r\n        // replace unicodes\r\n        let parsed = e.nodeValue;\r\n\r\n        if (this.o.type !== 'unicode') { //convert existing unicodes\r\n          parsed = this.replaceUnicodes(parsed);\r\n        }\r\n\r\n        parsed = this.replaceAscii(parsed);\r\n        parsed = this.replaceAliases(parsed);\r\n\r\n        if (parsed !== e.nodeValue) {\r\n          const isSelected = (this.htmlSel && this.htmlSel.endContainer === e);\r\n          const range = isSelected ? this.htmlSel : document.createRange();\r\n          const caret = this.htmlSel ? e.nodeValue.length - this.htmlSel.endOffset : 0;\r\n          const next = e.nextSibling;\r\n          range.selectNode(e);\r\n          this.replaceSelection(parsed, range, null);\r\n          if (isSelected) {\r\n            if (next.previousSibling) {\r\n              const inserted = next.previousSibling;\r\n              range.setStart(inserted, inserted.length - caret);\r\n              range.setEnd(inserted, inserted.length - caret);\r\n              //this.htmlSel.setStartAfter(content[content.length - 1]);\r\n              //this.htmlSel.collapse(false);\r\n            }\r\n            else {\r\n              range.setStartBefore(this.$e[0].lastChild);\r\n              range.setEndBefore(this.$e[0].lastChild);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  replaceUnicodes(text) {\r\n    return text.replace(this.o.unicodeRegex, (match, unicode) => {\r\n      return Emoji.checkUnicode(unicode)\r\n        ? EmojiArea.createEmoji(null, this.o, unicode)\r\n        : unicode;\r\n    });\r\n  }\r\n\r\n  replaceAscii(text) {\r\n    return text.replace(this.o.asciiRegex, (match, ascii) => {\r\n      if (Emoji.checkAscii(ascii)) {\r\n        const alias = Emoji.aliasFromAscii(ascii);\r\n        if (alias) {\r\n          return EmojiArea.createEmoji(alias, this.o);\r\n        }\r\n      }\r\n      return ascii + ' ';\r\n    });\r\n  }\r\n\r\n  replaceAliases(text) {\r\n    return text.replace(this.o.aliasRegex, (match, alias) => {\r\n      return Emoji.checkAlias(alias)\r\n        ? EmojiArea.createEmoji(alias, this.o)\r\n        : ':' + alias + ':';\r\n    });\r\n  }\r\n\r\n  togglePicker() {\r\n    const delegate = (this.picker || EmojiPicker);\r\n    if (!delegate.isVisible()) {\r\n      this.picker = delegate.show(this.insert.bind(this), this.$b, this.o);\r\n    } else {\r\n      delegate.hide();\r\n    }\r\n    return false;\r\n  }\r\n\r\n  insert(alias) {\r\n    const content = EmojiArea.createEmoji(alias, this.o);\r\n    if (!this.replaceSelection(content)) {\r\n      this.$e.append(content)\r\n        .focus()\r\n        .trigger(this.o.inputEvent);\r\n    }\r\n  }\r\n\r\n  static createEmoji(alias, options = EmojiArea.DEFAULTS, unicode) {\r\n    if (!alias && !unicode) {\r\n      return;\r\n    }\r\n    alias = alias || Emoji.aliasFromUnicode(unicode);\r\n    unicode = unicode || Emoji.unicodeFromAlias(alias);\r\n    return unicode\r\n      ? unicode\r\n      : alias;\r\n  }\r\n\r\n  static generateEmojiTag(unicode, alias) {\r\n    throw new Error('CSS emoji are not supported.');\r\n    return '<i class=\"emoji emoji-' + alias + '\" contenteditable=\"false\">' + unicode + '</i>';\r\n  }\r\n\r\n  static generateEmojiImg(unicode, alias, options = EmojiArea.DEFAULTS) {\r\n    throw new Error('Image emoji are not supported.');\r\n  }\r\n}\r\n\r\nEmojiArea.DEFAULTS = {\r\n  aliasRegex: /:([a-z0-9_]+?):/g, //deprecated, colon aliased not supported in unicode mode\r\n  asciiRegex: /([\\/<:;=8>(][()D3opPy*>\\/\\\\|-]+) /g,\r\n  unicodeRegex: /([\\u{1f300}-\\u{1f5ff}\\u{1f900}-\\u{1f9ff}\\u{1f600}-\\u{1f64f}\\u{1f680}-\\u{1f6ff}\\u{2600}-\\u{26ff}\\u{2700}-\\u{27bf}\\u{1f1e6}-\\u{1f1ff}\\u{1f191}-\\u{1f251}\\u{1f004}\\u{1f0cf}\\u{1f170}-\\u{1f171}\\u{1f17e}-\\u{1f17f}\\u{1f18e}\\u{3030}\\u{2b50}\\u{2b55}\\u{2934}-\\u{2935}\\u{2b05}-\\u{2b07}\\u{2b1b}-\\u{2b1c}\\u{3297}\\u{3299}\\u{303d}\\u{00a9}\\u{00ae}\\u{2122}\\u{23f3}\\u{24c2}\\u{23e9}-\\u{23ef}\\u{25b6}\\u{23f8}-\\u{23fa}])/ug,\r\n  inputSelector: 'input:text, textarea',\r\n  buttonSelector: '>.emoji-button',\r\n  inputEvent: /Trident/.test(navigator.userAgent) ? 'textinput' : 'input',\r\n  keyEvent: 'keypress',\r\n  anchorAlignment: 'left', // can be left|right\r\n  anchorOffsetX: -5,\r\n  anchorOffsetY: 5,\r\n  type: 'unicode', // deprecated, unicode is the only supported mode\r\n  iconSize: 25, // deprecated, not supported in unicode mode\r\n  assetPath: '', // deprecated, not supported in unicode mode\r\n  textClipboard: true,\r\n  globalPicker: true,\r\n  hideOnSelect: true,\r\n  heightSmall:    110,\r\n  heightBig:      243,\r\n  pickerWidth:    210,    \r\n  tabPaneSmall:   67,      \r\n};\r\n\r\nEmojiArea.AUTOINIT = true;\r\nEmojiArea.INJECT_STYLES = false; // only makes sense when EmojiArea.type != 'unicode'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/EmojiArea.js","/**\r\n * The EmojiUtil contains all functionality for handling emoji data and groups, but no html specific stuff.\r\n *\r\n * @author Wolfgang Stöttinger\r\n */\r\n\r\n//import Data from 'EmojiData';\r\n\r\n\r\n\r\n\r\nexport default class EmojiUtil {\r\n  constructor() {\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  static initialize() {\r\n    EmojiUtil.aliases = {};\r\n    EmojiUtil.unicodes = {};\r\n//-----------------------------------------------------------------------------\r\n//    let DB = await(await fetch('./../../../emoji/emoji.en_GB.json')).json();\r\n//    console.log(DB); \r\n//      var path = document.location;\r\n//       var path = unescape(document.location);\r\n//   alert(path);   \r\n //   $.get('./../../../emoji/emoji.en_GB.json')\r\n//\t.done(data => {\r\n//\t\tlet parseData;\r\n//\t\ttry \t{\r\n//\t\t\tparseData = JSON.parse(data);\r\n//            console.log(parseData);\r\n//\t\t}\tcatch (err) {\r\n//\t\t\tparseData = {};\r\n//\t\t}\r\n//\t});\r\n      \r\n/*      .getJSON('ajax/test.json', function(data) {\r\n  var items = [];\r\n\r\n//          parseData = JSON.parse(data);\r\n//          var obj = jQuery.parseJSON(data); \r\n\r\n  $.each(data, function(key, val) {\r\n    items.push('<li id=\"' + key + '\">' + val + '</li>');\r\n  });\r\n\r\n  $('<ul/>', {\r\n    'class': 'my-new-list',\r\n    html: items.join('')\r\n  }).appendTo('body');\r\n});\r\nhttp://dev.cooladmin.net/admin/en/user.responder/free-reply/5167   */\r\n//-----------------------------------------------------------------------------\r\n      var path = document.location;\r\n      var curLang = document.documentElement.lang;\r\n      if(curLang.length==2){\r\n          curLang='en_US';\r\n      }\r\n      debugger; \r\n//    var fullPath = path.origin+'/emoji/emoji.'+curLang+'.json';\r\n      var fullPath = path.origin.concat('/emoji/emo-ji.',curLang,'.json');     \r\n      var myLog = new File(fullPath);\r\n      if(!myLog.exists()){\r\n        alert(fullPath);  \r\n        fullPath = path.origin.concat('/emoji/emoji.en_US.json');    \r\n      }\r\n      $.getJSON(fullPath,function(data){\r\n        var k=0,parseData,obj;\r\n\r\n\r\n          obj = data.emoji;\r\n//          alert(data.emodji.value);\r\n\t\t\t$.each(obj, function(key,value){\r\n                \r\n//                alert(key);\r\n//                alert(value.n);\r\n//                alert(value.k);\r\n\t\t\t})\r\n\t\t});\r\n//-----------------------------------------------------------------------------     \r\n    const dataKeys = Object.keys(EmojiUtil.data);\r\n    for (let e = 0; e < dataKeys.length; e++) {\r\n      const key = dataKeys[e];\r\n      const emojiData = EmojiUtil.data[key];\r\n      if (emojiData) {\r\n        let code = emojiData[EmojiUtil.EMOJI_UNICODE][0];\r\n\r\n        EmojiUtil.aliases[emojiData[EmojiUtil.EMOJI_ALIASES]] = key;\r\n        EmojiUtil.unicodes[code] = key;\r\n      }\r\n    }\r\n  }\r\n\r\n  static checkAlias(alias) {\r\n    return EmojiUtil.aliases.hasOwnProperty(alias);\r\n  }\r\n\r\n  static checkUnicode(alias) {\r\n    return EmojiUtil.unicodes.hasOwnProperty(alias);\r\n  }\r\n\r\n  static checkAscii(ascii) {\r\n    return EmojiUtil.ascii.hasOwnProperty(ascii);\r\n  }\r\n\r\n  /**\r\n   * @param alias\r\n   * @param groupData if true returns an array including groupId, Col# and Row# of the Emoji\r\n   * @returns {*}\r\n   */\r\n  static dataFromAlias(alias, groupData = false) {\r\n    const key = EmojiUtil.aliases[alias];\r\n    const data = EmojiUtil.data[key];\r\n    if (!groupData || data[2]) // if group is set\r\n      return data;\r\n\r\n    for (let g = 0; g < EmojiUtil.groups.length; g++) {\r\n      const group = EmojiUtil.groups[g];\r\n      const d = group.dimensions;\r\n      const pos = $.inArray(key, group.items);\r\n      if (pos >= 0) {\r\n        data[2] = g; // group\r\n        data[3] = pos % d[0]; // column\r\n        data[4] = pos / d[0] | 0; // row\r\n        data[5] = d; // sprite dimensions\r\n        return data;\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param alias\r\n   * @returns {*}\r\n   */\r\n  static unicodeFromAlias(alias) {\r\n    if (alias) {\r\n      const key = EmojiUtil.aliases[alias];\r\n      const emojiData = EmojiUtil.data[key];\r\n      if (emojiData && emojiData[EmojiUtil.EMOJI_UNICODE])\r\n        return emojiData[EmojiUtil.EMOJI_UNICODE][0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static unicodeFromAscii(ascii) {\r\n    return EmojiUtil.unicodeFromAlias(EmojiUtil.aliasFromAscii(ascii));\r\n  }\r\n\r\n  static aliasFromUnicode(unicode) {\r\n    if (unicode) {\r\n      const key = EmojiUtil.unicodes[unicode];\r\n      const emojiData = EmojiUtil.data[key];\r\n      if (emojiData && emojiData[EmojiUtil.EMOJI_ALIASES])\r\n        return emojiData[EmojiUtil.EMOJI_ALIASES];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static aliasFromAscii(ascii) {\r\n    return EmojiUtil.ascii[ascii] || null;\r\n  }\r\n}\r\n/*\r\nEmojiUtil.data = Data.data;\r\nEmojiUtil.groups = Data.groups;\r\nEmojiUtil.ascii = Data.ascii;\r\n\r\nEmojiUtil.EMOJI_UNICODE = 0;\r\nEmojiUtil.EMOJI_ALIASES = 1; */\r\n\r\nEmojiUtil.initialize();\n\n\n// WEBPACK FOOTER //\n// ./src/js/EmojiUtil.js","/**\n * This is the entry point for the library\n *\n * @author Wolfgang Stöttinger\n */\n\nimport $ from 'jquery';\nimport generatePlugin from './generate-plugin';\nimport EmojiArea from 'EmojiArea';\n\ngeneratePlugin('smartemoji', EmojiArea);\n\n/**\n * call auto initialization.\n */\n$(() => {\n  //noinspection JSUnresolvedFunction\n  $('[data-emojiarea]').smartemoji();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/jquery.smartemoji.js","import $ from 'jquery';\r\n\r\n/**\r\n * Generate a jQuery plugin\r\n * @param pluginName [string] Plugin name\r\n * @param className [object] Class of the plugin\r\n * @param shortHand [bool] Generate a shorthand as $.pluginName\r\n *\r\n * @example\r\n * import plugin from 'plugin';\r\n *\r\n * class MyPlugin {\r\n *     constructor(element, options) {\r\n *         // ...\r\n *     }\r\n * }\r\n *\r\n * MyPlugin.DEFAULTS = {};\r\n *\r\n * plugin('myPlugin', MyPlugin');\r\n */\r\nexport default function generatePlugin(pluginName, className, shortHand = false) {\r\n  let instanceName = `__${pluginName}`;\r\n  let old = $.fn[pluginName];\r\n\r\n  $.fn[pluginName] = function (option) {\r\n    return this.each(function () {\r\n      const $this = $(this);\r\n      let instance = $this.data(instanceName);\r\n\r\n      if (!instance && option !== 'destroy') {\r\n        const options = $.extend({}, className.DEFAULTS, $this.data(), typeof option === 'object' && option);\r\n        $this.data(instanceName, (instance = new className(this, options)));\r\n      }\r\n      else { //noinspection JSUnresolvedVariable\r\n        if (typeof instance.configure === 'function') {\r\n                //noinspection JSUnresolvedFunction\r\n                instance.configure(options);\r\n              }\r\n      }\r\n\r\n      if (typeof option === 'string') {\r\n        if (option === 'destroy') {\r\n          instance.destroy();\r\n          $this.data(instanceName, false);\r\n        } else {\r\n          instance[option]();\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // - Short hand\r\n  if (shortHand) {\r\n    $[pluginName] = (options) => $({})[pluginName](options);\r\n  }\r\n\r\n  // - No conflict\r\n  $.fn[pluginName].noConflict = () => $.fn[pluginName] = old;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/generate-plugin.js","/**\r\n * Emoji Picker (Dropdown) can work as global singleton (one dropdown for all inputs on the page)\r\n * or with separate instances (and settings) for each input.\r\n *\r\n * @author Wolfgang Stöttinger\r\n */\r\nimport $ from 'jquery';\r\nimport EmojiArea from 'EmojiArea';\r\nimport Emoji from 'EmojiUtil';\r\n\r\nexport default class EmojiPicker {\r\n\r\n  constructor(options = EmojiArea.DEFAULTS) {\r\n    this.o = options;\r\n    const $body = $(document.body);\r\n    $body.on('keydown', (e) => { if (e.keyCode === KEY_ESC || e.keyCode === KEY_TAB) this.hide(); });\r\n    $body.on('click', () => { this.hide(); });\r\n    $(window).on('resize', () => { if (this.$p.is(':visible')) { this.hide(); }});\r\n\r\n    var $emojidiv =  $(options.input).parents('form').find('.emoji-wrapper').attr('id');        /* #31768 */\r\n    var ifPickerExist = $(options.input).parents('form').find('.emoji-picker').attr('class'); \r\n    if (!ifPickerExist) {\r\n        this.$p = $('<div>')\r\n        .addClass('emoji-picker')\r\n        .attr('data-picker-type', options.type) // $.data() here not possible, doesn't change dom\r\n        .on('mouseup click', (e) => e.stopPropagation() && false)\r\n        .hide()\r\n        .appendTo('#'+$emojidiv);                                          \r\n    }\r\n   \r\n    const tabs = this.loadPicker(options);\r\n    setTimeout(this.loadEmojis.bind(this, tabs), 100);\r\n  }\r\n\r\n  loadPicker(options) {\r\n    const ul = $('<ul>')\r\n      .addClass('emoji-selector nav nav-tabs');\r\n    const tabs = $('<div>')\r\n      .addClass('tab-content');\r\n\r\n    for (let g = 0; g < Emoji.groups.length; g++) {\r\n      const group = Emoji.groups[g];\r\n      const id = 'group_' + group.name;\r\n      const gid = '#' + id;\r\n\r\n      const a = $('<a>')\r\n        .html(EmojiArea.createEmoji(group.name, this.o))\r\n        .data('toggle', 'tab')\r\n        .attr('href', gid);\r\n\r\n      ul.append($('<li>').append(a));\r\n\r\n      const tab = $('<div>')\r\n        .attr('id', id)\r\n        .addClass('emoji-group tab-pane active')  //#31768 Add active class to all firstly\r\n        .data('group', group.name);\r\n        \r\n      a.on('click', (e) => {\r\n        $('.tab-pane').not(tab).hide().removeClass('active');\r\n //       if (options.pickerShrink){\r\n//           tab.css({  \r\n//              height: options.tabPaneSmall + \"px\",      \r\n//            });      \r\n//        }  \r\n        tab.addClass('active').show(); \r\n        e.preventDefault();\r\n      });\r\n      tabs.append(tab);\r\n    }\r\n    \r\n    tabs.find('.tab-pane').not(':first-child').hide().removeClass('active');\r\n\r\n    this.$p.append(ul).append(tabs);\r\n    return tabs.children();\r\n  }\r\n\r\n  loadEmojis(tabs) {\r\n    for (let g = 0; g < Emoji.groups.length; g++) {\r\n      const group = Emoji.groups[g];\r\n      const tab = tabs[g];\r\n      for (let e = 0; e < group.items.length; e++) {\r\n        const emojiId = group.items[e];\r\n        if (Emoji.data.hasOwnProperty(emojiId)) {\r\n          const word = Emoji.data[emojiId][Emoji.EMOJI_ALIASES] || '';\r\n          const emojiElem = $('<a>')\r\n            .data('emoji', word)\r\n            .html(EmojiArea.createEmoji(word, this.o))\r\n            .on('click', () => {this.insertEmoji(word, this.o)});\r\n          $(tab).append(emojiElem);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  insertEmoji(emoji, options) {\r\n    if (typeof this.cb === 'function')\r\n      this.cb(emoji, options);\r\n    if (options.hideOnSelect){\r\n        this.hide();\r\n    }\r\n  \r\n  }\r\n\r\n  reposition(anchor, options) {\r\n    if (!anchor || anchor.length === 0)\r\n      return;\r\n      \r\n    \r\n    const $anchor = $(anchor);\r\n    const pickerH = options.heightBig;\r\n    const pickerh = options.heightSmall;  \r\n    const pickerW = options.pickerWidth; \r\n    var $emojwrap =  $anchor.parent(); \r\n    var emojwrapOFF = $emojwrap.offset();  \r\n      \r\n    const winW = $(window).width();\r\n    const winH = $(window).height(); \r\n      \r\n    const $target = $(options.input);\r\n    var targetOFF = $target.offset();\r\n    var targetW = $target.width();\r\n    var targetH = $target.outerHeight(false);\r\n    var targetLeft = targetOFF.left;\r\n    var targetTop  = targetOFF.top; \r\n    var pickerLeft = - pickerW;\r\n      \r\n    if (options.anchorButton) {\r\n        targetTop = $anchor.offset().top;\r\n        targetH = $anchor.outerHeight(false);\r\n        pickerLeft = ($emojwrap.width()-pickerW)/2;\r\n    } \r\n      \r\n    var pickerTop =  targetTop + targetH - emojwrapOFF.top;\r\n\r\n    if (emojwrapOFF.left<pickerW){\r\n        pickerLeft = - emojwrapOFF.left;\r\n    }  \r\n      \r\n    var toBottom =  winH - targetH - targetTop;\r\n    if (toBottom<pickerH) {\r\n       if (toBottom<pickerh) {\r\n          pickerTop = - pickerh-(emojwrapOFF.top-targetTop);  \r\n       } \r\n       options.pickerShrink = true;  \r\n    } \r\n      \r\n    this.$p.css({\r\n        top:  pickerTop.toFixed(0)+\"px\",\r\n        left: pickerLeft.toFixed(0)+\"px\",\r\n    });\r\n    if (options.pickerShrink) {\r\n        this.$p.css({\r\n           height: options.heightSmall + \"px\",      \r\n        });     \r\n    } \r\n  };\r\n\r\n  show(insertCallback, anchor, options) {\r\n    this.cb = insertCallback;\r\n    this.reposition(anchor, options);\r\n    this.$p.attr('data-picker-type', options.type); // $.data() here not possible, doesn't change dom\r\n    \r\n    if (options.pickerShrink){\r\n        $('.tab-pane').css({  \r\n              height: options.tabPaneSmall + \"px\",      \r\n            });      \r\n    }   \r\n      \r\n    this.$p.show();\r\n    return this;\r\n  }\r\n\r\n  hide() {\r\n    this.$p.hide();\r\n  }\r\n\r\n  isVisible() {\r\n    return this.$p.is(':visible');\r\n  }\r\n}\r\n\r\nEmojiPicker.globalPicker = null;\r\n\r\nEmojiPicker.show = function (insertCallback, anchor, options = EmojiArea.DEFAULTS) {\r\n  let picker = EmojiPicker.globalPicker;\r\n  if (!options.globalPicker)\r\n    picker = new EmojiPicker(options);\r\n  if (!picker)\r\n    picker = EmojiPicker.globalPicker = new EmojiPicker(options);\r\n  picker.show(insertCallback, anchor, options);\r\n  return picker;\r\n};\r\n\r\nEmojiPicker.isVisible = function () {\r\n  return EmojiPicker.globalPicker && EmojiPicker.globalPicker.isVisible();\r\n};\r\n\r\nEmojiPicker.hide = function () {\r\n  !EmojiPicker.globalPicker || EmojiPicker.globalPicker.hide();\r\n};\r\n\r\nconst KEY_ESC = 27;\r\nconst KEY_TAB = 9;\n\n\n// WEBPACK FOOTER //\n// ./src/js/EmojiPicker.js"],"sourceRoot":""}