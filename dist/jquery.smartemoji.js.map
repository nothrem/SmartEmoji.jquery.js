{"version":3,"sources":["webpack:///webpack/bootstrap 2f6485c94bd4a621f401","webpack:///external \"jQuery\"","webpack:///./src/js/EmojiArea.js","webpack:///./src/js/EmojiUtil.js","webpack:///./src/js/jquery.smartemoji.js","webpack:///./src/js/generate-plugin.js","webpack:///./src/js/EmojiPicker.js"],"names":["EmojiArea","emojiArea","options","o","$","extend","DEFAULTS","$ea","$emojitarget","input","$ti","$b","find","buttonSelector","on","togglePicker","bind","$e","inputEvent","processTextContent","v","val","setSelectionRange","length","textSel","start","end","focusout","saveSelection","focus","restoreSelection","e","cbd","originalEvent","clipboardData","window","content","getSelection","toString","setData","preventDefault","getData","document","execCommand","range","htmlSel","insert","createTextNode","deleteContents","insertNode","setStartAfter","setEndAfter","setTimeout","onInput","selectionStart","selectionEnd","sel","focusNode","parentNode","getRangeAt","event","hSel","tSel","s","removeAllRanges","addRange","type","createContextualFragment","collapse","slice","inputType","processContent","updateInput","keyCode","replaceSelection","lastChild","nodeName","append","stopPropagation","innerText","textContent","trigger","_processElement","element","contents","each","i","nodeType","is","delegate","picker","EmojiPicker","isVisible","cbtest","show","hide","alias","unicode","Error","aliasRegex","asciiRegex","unicodeRegex","inputSelector","test","navigator","userAgent","keyEvent","anchorAlignment","anchorOffsetX","anchorOffsetY","iconSize","assetPath","textClipboard","globalPicker","hideOnSelect","pickerShrink","heightSmall","heightBig","pickerWidth","tabPaneSmall","AUTOINIT","INJECT_STYLES","EmojiUtil","aliases","unicodes","groups","filters","keywords","mode","arrfil","path","location","curLang","documentElement","lang","fullPath","origin","syncJSON","msg","url","callback","ajax","async","contentType","dataType","success","error","alert","hasOwnProperty","ascii","groupData","key","data","g","group","d","dimensions","pos","inArray","items","emojiData","EMOJI_UNICODE","unicodeFromAlias","aliasFromAscii","EMOJI_ALIASES","EMOJI_ICON","EMOJI_NAME","EMOJI_MODIFIER","EMOJI_KEYWORD","EMOJI_LIST","initialize","smartemoji","generatePlugin","pluginName","className","shortHand","instanceName","old","fn","option","$this","instance","configure","destroy","noConflict","$body","body","KEY_ESC","KEY_TAB","$p","$emojidiv","parents","attr","ifPickerExist","addClass","appendTo","tabs","loadPicker","loadEmojis","ul","Emoji","id","gid","a","html","n","tab","not","removeClass","drop","f","dropup","dropbtn","dropcont","em","m","indexOf","css","template","el","$el","text","children","cb","sg","emo","emojiobj","emojiElem","insertEmoji","emoji","anchor","$anchor","pickerH","pickerh","pickerW","$emojwrap","parent","emojwrapOFF","offset","winW","width","winH","height","$target","targetOFF","targetW","targetH","outerHeight","targetLeft","left","targetTop","top","pickerLeft","anchorButton","pickerTop","toBottom","toFixed","insertCallback","reposition"],"mappings":";;QAAA;QACA;QACA;QACA;QACA;QACA,2DAA2D;QAC3D;QACA;QACA,GAAG;;QAEH,4CAA4C;QAC5C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA,gDAAgD;QAChD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA,MAAM;QACN;QACA;QACA,MAAM;QACN;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;QACJ;;;;QAIA;QACA,8CAA8C;QAC9C;QACA;QACA,4BAA4B;QAC5B,6BAA6B;QAC7B,iCAAiC;;QAEjC,uCAAuC;QACvC;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA,sCAAsC;QACtC;QACA;QACA,6BAA6B;QAC7B,6BAA6B;QAC7B;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,oBAAoB,gBAAgB;QACpC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA,oBAAoB,gBAAgB;QACpC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,KAAK;;QAEL;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA,iBAAiB,8BAA8B;QAC/C;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;QACJ;;QAEA,oDAAoD;QACpD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA,IAAI;QACJ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,mBAAmB,2BAA2B;QAC9C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,OAAO;QACP;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,kBAAkB,cAAc;QAChC;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA,aAAa,4BAA4B;QACzC;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA,IAAI;;QAEJ;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,cAAc,4BAA4B;QAC1C;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA,cAAc,4BAA4B;QAC1C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gBAAgB,uCAAuC;QACvD;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gBAAgB,uCAAuC;QACvD;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gBAAgB,sBAAsB;QACtC;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA,UAAU;QACV;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,aAAa,wCAAwC;QACrD;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA;QACA;QACA;QACA,SAAS;QACT;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,MAAM;QACN;QACA;QACA;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,IAAI;QACJ;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,eAAe;QACf;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA,sCAAsC,uBAAuB;;QAE7D;QACA;;;;;;;ACntBA,wB;;;;;;;;;;;;;qjBCAA;;;;;;;AAKA;;;;AACA;;;;AACA;;;;;;;;IAEqBA,S;AAEnB,qBAAYC,SAAZ,EAAuBC,OAAvB,EAAgC;AAAA;;AAC9B,SAAKC,CAAL,GAASC,iBAAEC,MAAF,CAAS,EAAT,EAAaL,UAAUM,QAAvB,EAAiCJ,OAAjC,CAAT;AACA,SAAKK,GAAL,GAAW,sBAAEN,SAAF,CAAX;;AAEA,QAAIO,eAAe,sBAAEN,QAAQO,KAAV,CAAnB,CAJ8B,CAI0C;AACxE,SAAKC,GAAL,GAAWF,YAAX,CAL8B,CAK0C;;AAExE,SAAKG,EAAL,GAAU,KAAKJ,GAAL,CAASK,IAAT,CAAcV,QAAQW,cAAtB,EACPC,EADO,CACJ,OADI,EACK,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CADL,CAAV;;AAGA,SAAKC,EAAL,GAAU,KAAKP,GAAf;AACA,SAAKA,GAAL,CAASI,EAAT,CAAYZ,QAAQgB,UAApB,EAAgC,KAAKC,kBAAL,CAAwBH,IAAxB,CAA6B,IAA7B,CAAhC;;AAEA,SAAKG,kBAAL;;AAEA,QAAMC,IAAI,KAAKV,GAAL,CAASW,GAAT,EAAV;AACH;AACG,SAAKX,GAAL,CAAS,CAAT,EAAYY,iBAAZ,CAA8BF,EAAEG,MAAhC,EAAwCH,EAAEG,MAA1C;AACA,SAAKC,OAAL,GAAe,EAAEC,OAAOL,EAAEG,MAAX,EAAmBG,KAAKN,EAAEG,MAA1B,EAAf;;AAEA,SAAKN,EAAL,CACGU,QADH,CACY,KAAKC,aAAL,CAAmBZ,IAAnB,CAAwB,IAAxB,CADZ,EAEGa,KAFH,CAES,KAAKC,gBAAL,CAAsBd,IAAtB,CAA2B,IAA3B,CAFT;AAGA;AACD;;AAED;AACA;AACA;;AAEA;;;;;kCACce,C,EAAG;AACf;AACA,UAAMC,MAAMD,EAAEE,aAAF,CAAgBC,aAAhB,IAAiCC,OAAOD,aAApD;AACA,UAAME,UAAUD,OAAOE,YAAP,GAAsBC,QAAtB,EAAhB;AACAH,aAAOD,aAAP,GAAuBF,IAAIO,OAAJ,CAAY,MAAZ,EAAoBH,OAApB,CAAvB,GAAsDJ,IAAIO,OAAJ,CAAY,YAAZ,EAA0BH,OAA1B,CAAtD;AACAL,QAAES,cAAF;AACD;;;mCAEcT,C,EAAG;AAChB;AACA,UAAMC,MAAMD,EAAEE,aAAF,CAAgBC,aAAhB,IAAiCC,OAAOD,aAApD;AACA,UAAME,UAAUD,OAAOD,aAAP,GAAuBF,IAAIS,OAAJ,CAAY,MAAZ,CAAvB,GAA6CT,IAAIS,OAAJ,CAAY,YAAZ,CAA7D;;AAEA,UAAI,CAACC,SAASC,WAAT,CAAqB,YAArB,EAAmC,KAAnC,EAA0CP,OAA1C,CAAL,EAAyD;AACvD,aAAKR,aAAL;AACA,YAAMgB,QAAQ,KAAKC,OAAnB;AACA,YAAMC,SAASJ,SAASK,cAAT,CAAwBX,OAAxB,CAAf;AACAQ,cAAMI,cAAN;AACAJ,cAAMK,UAAN,CAAiBH,MAAjB;AACAF,cAAMM,aAAN,CAAoBJ,MAApB;AACAF,cAAMO,WAAN,CAAkBL,MAAlB;AACAM,mBAAW,KAAKC,OAAL,CAAarC,IAAb,CAAkB,IAAlB,CAAX,EAAoC,CAApC;AACD;AACDe,QAAES,cAAF;AACD;;AAED;AACA;AACA;;;;oCACgB;AACd,UAAMT,IAAI,KAAKd,EAAL,CAAQ,CAAR,CAAV;AACA;AACA,UAAI,KAAKA,EAAL,KAAY,KAAKP,GAAjB,IAAwBqB,EAAEuB,cAA1B,IAA4CvB,EAAEwB,YAAlD,EAAgE;AAC9D,aAAK/B,OAAL,GAAe,EAAEC,OAAOM,EAAEuB,cAAX,EAA2B5B,KAAKK,EAAEwB,YAAlC,EAAf;AACD,OAFD,MAEO;AACL,YAAMC,MAAMrB,OAAOE,YAAP,EAAZ;AACA,YAAImB,IAAIC,SAAJ,KAAkBD,IAAIC,SAAJ,KAAkB1B,CAAlB,IAAuByB,IAAIC,SAAJ,CAAcC,UAAd,KAA6B3B,CAAtE,CAAJ,EAA8E;AAC5E,eAAKc,OAAL,GAAeW,IAAIG,UAAJ,CAAe,CAAf,CAAf;AACD;AACF;AACF;;;qCAEgBC,K,EAAiD;AAAA,UAA1CC,IAA0C,uEAAnC,KAAKhB,OAA8B;AAAA,UAArBiB,IAAqB,uEAAd,KAAKtC,OAAS;;AAChE,UAAIqC,IAAJ,EAAU;AACR,YAAME,IAAI5B,OAAOE,YAAP,EAAV;AACA0B,UAAEC,eAAF;AACAD,UAAEE,QAAF,CAAWJ,IAAX;AACD,OAJD,MAIO,IAAIC,IAAJ,EAAU;AACf,YAAI,CAACF,KAAD,IAAUA,MAAMM,IAAN,KAAe,OAA7B,EAAsC;AACpC,eAAKxD,GAAL,CAAS,CAAT,EAAYmB,KAAZ;AACD;AACD,aAAKnB,GAAL,CAAS,CAAT,EAAYY,iBAAZ,CAA8BwC,KAAKrC,KAAnC,EAA0CqC,KAAKpC,GAA/C;AACD;AACF;;;qCAEgBU,O,EAAmD;AAAA,UAA1CyB,IAA0C,uEAAnC,KAAKhB,OAA8B;AAAA,UAArBiB,IAAqB,uEAAd,KAAKtC,OAAS;;AAClE,WAAKM,gBAAL,CAAsB,IAAtB,EAA4B+B,IAA5B,EAAkCC,IAAlC;AACA,UAAID,IAAJ,EAAU;AACR,YAAI,CAACnB,SAASC,WAAT,CAAqB,YAArB,EAAmC,KAAnC,EAA0CP,OAA1C,CAAL,EAAyD;AACvD;AACA;AACAyB,eAAKb,cAAL;AACA,cAAMF,SAASe,KAAKM,wBAAL,CAA8B/B,OAA9B,CAAf;AACAyB,eAAKZ,UAAL,CAAgBH,MAAhB;AACAe,eAAKO,QAAL,CAAc,KAAd;AACA;AACA;AACA,iBAAOtB,MAAP;AACD;AACD,eAAO,IAAP;AACD,OAbD,MAcK,IAAIgB,IAAJ,EAAU;AACb,YAAI,CAACpB,SAASC,WAAT,CAAqB,YAArB,EAAmC,KAAnC,EAA0CP,OAA1C,CAAL,EAAyD;AACvD,cAAIf,MAAM,KAAKJ,EAAL,CAAQI,GAAR,EAAV;AACA,eAAKJ,EAAL,CAAQI,GAAR,CAAYA,IAAIgD,KAAJ,CAAU,CAAV,EAAaP,KAAKrC,KAAlB,IAA2BW,OAA3B,GAAqCf,IAAIgD,KAAJ,CAAUP,KAAKpC,GAAf,CAAjD;AACAoC,eAAKrC,KAAL,GAAaqC,KAAKpC,GAAL,GAAWoC,KAAKrC,KAAL,GAAaW,QAAQb,MAA7C;AACA,eAAKb,GAAL,CAAS,CAAT,EAAYY,iBAAZ,CAA8BwC,KAAKrC,KAAnC,EAA0CqC,KAAKpC,GAA/C;AACD;AACD,eAAO,IAAP;AACD;AACD,aAAO,KAAP;AACD;;;4BAEOkC,K,EAAO;AACb,UAAI,CAACA,KAAD,IAAWA,MAAM3B,aAAN,IAAuB2B,MAAM3B,aAAN,CAAoBqC,SAApB,KAAkC,aAAxE,EAAwF;AACtF,aAAKC,cAAL;AACA,aAAKC,WAAL;AACD;AACF;;;0BAEKzC,C,EAAG;AACP,UAAIA,EAAEE,aAAF,CAAgBwC,OAAhB,KAA4B,EAAhC,EAAoC;AAAE;AACpC,aAAK7C,aAAL;AACA,aAAK8C,gBAAL,CAAsB,MAAtB;;AAEA,YAAI,KAAKzD,EAAL,CAAQ,CAAR,EAAW0D,SAAX,CAAqBC,QAArB,KAAkC,IAAtC,EAA4C;AAC1C,eAAK3D,EAAL,CAAQ4D,MAAR,CAAe,MAAf,EAD0C,CAClB;AACzB;;AAED9C,UAAE+C,eAAF;AACA,eAAO,KAAP;AACD;AACF;;;kCAEa;AACZ,WAAKpE,GAAL,CAASW,GAAT,CAAa,KAAKJ,EAAL,CAAQ,CAAR,EAAW8D,SAAX,IAAwB,KAAK9D,EAAL,CAAQ,CAAR,EAAW+D,WAAhD;AACA,WAAKtE,GAAL,CAASuE,OAAT,CAAiB,KAAK9E,CAAL,CAAOe,UAAxB;AACD;;;uCAEkB0C,K,EAAO;AACxB,UAAI,CAACA,KAAD,IAAWA,MAAM3B,aAAN,IAAuB2B,MAAM3B,aAAN,CAAoBqC,SAApB,KAAkC,aAAxE,EAAwF;AACtF,YAAIjD,MAAM,KAAKX,GAAL,CAASW,GAAT,EAAV;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACG;AACF;;;qCAEgB;AACf,WAAKO,aAAL;AACA,WAAKsD,eAAL,CAAqB,KAAKjE,EAA1B;AACA,UAAI,KAAKA,EAAL,CAAQ,CAAR,EAAW0D,SAAX,CAAqBC,QAArB,KAAkC,IAAtC,EAA4C;AAC1C,aAAK3D,EAAL,CAAQ4D,MAAR,CAAe,MAAf,EAD0C,CAClB;AACzB;AACF;;;sCAEkC;AAAA;;AAAA,UAAnBM,OAAmB,uEAAT,KAAKlE,EAAI;;AACjC;AACA;AACA;;AAEAkE,cAAQC,QAAR,GAAmBC,IAAnB,CAAwB,UAACC,CAAD,EAAIvD,CAAJ,EAAU;AAChC,YAAIA,EAAEwD,QAAF,KAAe,CAAf,IAAoBxD,EAAEwD,QAAF,KAAe,EAAvC,EAA2C;AAAE;AAC3C,cAAMtE,KAAK,sBAAEc,CAAF,CAAX;AACA,cAAI,CAACd,GAAGuE,EAAH,CAAM,QAAN,CAAL,EAAsB;AACtB;AACE,oBAAKN,eAAL,CAAqBjE,EAArB;AACD;AACF,SAND,MAOK,IAAIc,EAAEwD,QAAF,KAAe,CAAnB,EAAsB,CAAE;AAC3B;AACP;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACa;AACA;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACM;AACF,OAzCD;AA0CD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;mCAEe;AACb,UAAME,WAAY,KAAKC,MAAL,IAAeC,qBAAjC;AACA,UAAI,CAACF,SAASG,SAAT,EAAL,EAA2B;AACzB,YAAMC,SAAS,CAAf;AACN;AACM,aAAKH,MAAL,GAAcD,SAASK,IAAT,CAAc,KAAKhD,MAAL,CAAY9B,IAAZ,CAAiB,IAAjB,CAAd,EAAsC,KAAKL,EAA3C,EAA+C,KAAKR,CAApD,CAAd,CAHyB,CAG8C;AACxE,OAJD,MAIO;AACLsF,iBAASM,IAAT;AACD;AACD,aAAO,KAAP;AACD;;;2BAEMC,K,EAAO;AAChB;AACI,UAAI,CAAC,KAAKtB,gBAAL,CAAsBsB,KAAtB,CAAL,EAAmC;AACjC,aAAK/E,EAAL,CAAQ4D,MAAR,CAAemB,KAAf,EACGnE,KADH,GAEGoD,OAFH,CAEW,KAAK9E,CAAL,CAAOe,UAFlB;AAGD;AACF;;;gCAEkB8E,K,EAA8C;AAAA,UAAvC9F,OAAuC,uEAA7BF,UAAUM,QAAmB;AAAA,UAAT2F,OAAS;;AAC/D,UAAI,CAACD,KAAD,IAAU,CAACC,OAAf,EAAwB;AACtB;AACD;AACD,aAAOD,KAAP;AACH;AACA;AACA;AACA;AACA;AACE;;;qCAEuBC,O,EAASD,K,EAAO;AACtC,YAAM,IAAIE,KAAJ,CAAU,8BAAV,CAAN;AACA,aAAO,2BAA2BF,KAA3B,GAAmC,4BAAnC,GAAkEC,OAAlE,GAA4E,MAAnF;AACD;;;qCAEuBA,O,EAASD,K,EAAqC;AAAA,UAA9B9F,OAA8B,uEAApBF,UAAUM,QAAU;;AACpE,YAAM,IAAI4F,KAAJ,CAAU,gCAAV,CAAN;AACD;;;;;;kBA5RkBlG,S;;;AA+RrBA,UAAUM,QAAV,GAAqB;AACnB6F,cAAY,kBADO,EACa;AAChCC,cAAY,oCAFO;AAGnBC,gBAAc,iSAHK;AAInBC,iBAAe,sBAJI;AAKnBzF,kBAAgB,gBALG;AAMnBK,cAAY,UAAUqF,IAAV,CAAeC,UAAUC,SAAzB,IAAsC,WAAtC,GAAoD,OAN7C;AAOnBC,YAAU,UAPS;AAQnBC,mBAAiB,MARE,EAQM;AACzBC,iBAAe,CAAC,CATG;AAUnBC,iBAAe,CAVI;AAWnB3C,QAAM,SAXa,EAWF;AACjB4C,YAAU,EAZS,EAYL;AACdC,aAAW,EAbQ,EAaJ;AACfC,iBAAe,IAdI;AAenBC,gBAAc,IAfK;AAgBnBC,gBAAc,IAhBK;AAiBnBC,gBAAc,KAjBK;AAkBnBC,eAAgB,GAlBG;AAmBnBC,aAAgB,GAnBG;AAoBnBC,eAAgB,GApBG;AAqBnBC,gBAAgB;AArBG,CAArB;;AAwBAvH,UAAUwH,QAAV,GAAqB,IAArB;AACAxH,UAAUyH,aAAV,GAA0B,KAA1B,C,CAAiC,oD;;;;;;;;;;;;;;;;;ACjUjC;;;;;;AAMA;;IAEqBC,S;AACnB,uBAAc;AAAA;AACb;;AAED;;;;;;;iCAGqB;AACnBA,gBAAUC,OAAV,GAAoB,EAApB;AACAD,gBAAUE,QAAV,GAAqB,EAArB;AACAF,gBAAUG,MAAV,GAAmB,EAAnB;AACAH,gBAAUI,OAAV,GAAoB,EAApB;AACAJ,gBAAUK,QAAV,GAAqB,EAArB;AACAL,gBAAUM,IAAV,GAAiB,EAAjB;AACAN,gBAAUO,MAAV,GAAmB,EAAnB;AACA,UAAIC,OAAOxF,SAASyF,QAApB;AACA,UAAIC,UAAU1F,SAAS2F,eAAT,CAAyBC,IAAvC;AACA,UAAGF,QAAQ7G,MAAR,IAAgB,CAAnB,EAAqB;AACnB6G,kBAAQ,OAAR;AACD;AACD,UAAMG,WAAWL,KAAKM,MAAL,GAAc,oCAA/B,CAbmB,CAamD;AACtEd,gBAAUe,QAAV,CAAmB,qBAAnB,EAA0C,UAAUC,GAAV,EAAe;AACvDhB,kBAAUG,MAAV,GAAmBa,IAAIb,MAAvB;AACAH,kBAAUI,OAAV,GAAoBY,IAAIZ,OAAxB;AACAJ,kBAAUM,IAAV,GAAiBU,IAAIV,IAArB;AACD,OAJD;;AAMH;AACK;AACA;AACN;AACG;;;6BAEeW,G,EAAKC,Q,EAAU;AAC7BxI,QAAEyI,IAAF,CAAO;AACL3E,cAAM,MADD;AAEL4E,eAAO,KAFF;AAGLH,aAAKA,GAHA;AAILI,qBAAa,kBAJR;AAKLC,kBAAU,MALL;AAMLC,iBAAS,iBAAUP,GAAV,EAAe;AAAEE,mBAASF,GAAT;AAAe,SANpC;AAOLQ,eAAO,eAAUR,GAAV,EAAe;AAAES,gBAAM,+BAAN;AAAyC;AAP5D,OAAP;AASD;;;+BAEiBnD,K,EAAO;AACvB,aAAO0B,UAAUC,OAAV,CAAkByB,cAAlB,CAAiCpD,KAAjC,CAAP;AACD;;;iCAEmBA,K,EAAO;AACzB,aAAO0B,UAAUE,QAAV,CAAmBwB,cAAnB,CAAkCpD,KAAlC,CAAP;AACD;;;+BAEiBqD,K,EAAO;AACvB,aAAO3B,UAAU2B,KAAV,CAAgBD,cAAhB,CAA+BC,KAA/B,CAAP;AACD;;AAED;;;;;;;;kCAKqBrD,K,EAA0B;AAAA,UAAnBsD,SAAmB,uEAAP,KAAO;;AAC7C,UAAMC,MAAM7B,UAAUC,OAAV,CAAkB3B,KAAlB,CAAZ;AACA,UAAMwD,OAAO9B,UAAU8B,IAAV,CAAeD,GAAf,CAAb;AACA,UAAI,CAACD,SAAD,IAAcE,KAAK,CAAL,CAAlB,EAA2B;AACzB,eAAOA,IAAP;;AAEF,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI/B,UAAUG,MAAV,CAAiBtG,MAArC,EAA6CkI,GAA7C,EAAkD;AAChD,YAAMC,QAAQhC,UAAUG,MAAV,CAAiB4B,CAAjB,CAAd;AACA,YAAME,IAAID,MAAME,UAAhB;AACA,YAAMC,MAAMzJ,EAAE0J,OAAF,CAAUP,GAAV,EAAeG,MAAMK,KAArB,CAAZ;AACA,YAAIF,OAAO,CAAX,EAAc;AACZL,eAAK,CAAL,IAAUC,CAAV,CADY,CACC;AACbD,eAAK,CAAL,IAAUK,MAAMF,EAAE,CAAF,CAAhB,CAFY,CAEU;AACtBH,eAAK,CAAL,IAAUK,MAAMF,EAAE,CAAF,CAAN,GAAa,CAAvB,CAHY,CAGc;AAC1BH,eAAK,CAAL,IAAUG,CAAV,CAJY,CAIC;AACb,iBAAOH,IAAP;AACD;AACF;AACD,aAAOA,IAAP;AACD;;AAED;;;;;;;;qCAKwBxD,K,EAAO;AAC7B,UAAIA,KAAJ,EAAW;AACT,YAAMuD,MAAM7B,UAAUC,OAAV,CAAkB3B,KAAlB,CAAZ;AACA,YAAMgE,YAAYtC,UAAU8B,IAAV,CAAeD,GAAf,CAAlB;AACA,YAAIS,aAAaA,UAAUtC,UAAUuC,aAApB,CAAjB,EACE,OAAOD,UAAUtC,UAAUuC,aAApB,EAAmC,CAAnC,CAAP;AACH;AACD,aAAO,IAAP;AACD;;;qCAEuBZ,K,EAAO;AAC7B,aAAO3B,UAAUwC,gBAAV,CAA2BxC,UAAUyC,cAAV,CAAyBd,KAAzB,CAA3B,CAAP;AACD;;;qCAEuBpD,O,EAAS;AAC/B,UAAIA,OAAJ,EAAa;AACX,YAAMsD,MAAM7B,UAAUE,QAAV,CAAmB3B,OAAnB,CAAZ;AACA,YAAM+D,YAAYtC,UAAU8B,IAAV,CAAeD,GAAf,CAAlB;AACA,YAAIS,aAAaA,UAAUtC,UAAU0C,aAApB,CAAjB,EACE,OAAOJ,UAAUtC,UAAU0C,aAApB,CAAP;AACH;AACD,aAAO,IAAP;AACD;;;mCAEqBf,K,EAAO;AAC3B,aAAO3B,UAAU2B,KAAV,CAAgBA,KAAhB,KAA0B,IAAjC;AACD;;;;;AAGH;;;;;;;;;kBArHqB3B,S;AA8HrBA,UAAU2C,UAAV,GAA4B,GAA5B;AACA3C,UAAU4C,UAAV,GAA4B,GAA5B;AACA5C,UAAU6C,cAAV,GAA4B,GAA5B;AACA7C,UAAU8C,aAAV,GAA4B,GAA5B;AACA9C,UAAU+C,UAAV,GAA4B,GAA5B;;AAEA;;AAEA/C,UAAUgD,UAAV,G;;;;;;;;;;ACxIA;;;;AACA;;;;AACA;;;;;;AAEA,8BAAe,YAAf,EAA6B1K,mBAA7B;;AAEA;;;AAZA;;;;;;AAeA,sBAAE,YAAM;AACN;AACA,wBAAE,kBAAF,EAAsB2K,UAAtB;AACD,CAHD,E;;;;;;;;;;;;;;;kBCMwBC,c;;AArBxB;;;;;;AAEA;;;;;;;;;;;;;;;;;;;AAmBe,SAASA,cAAT,CAAwBC,UAAxB,EAAoCC,SAApC,EAAkE;AAAA,MAAnBC,SAAmB,uEAAP,KAAO;;AAC/E,MAAIC,sBAAoBH,UAAxB;AACA,MAAII,MAAM7K,iBAAE8K,EAAF,CAAKL,UAAL,CAAV;;AAEAzK,mBAAE8K,EAAF,CAAKL,UAAL,IAAmB,UAAUM,MAAV,EAAkB;AACnC,WAAO,KAAK9F,IAAL,CAAU,YAAY;AAC3B,UAAM+F,QAAQ,sBAAE,IAAF,CAAd;AACA,UAAIC,WAAWD,MAAM5B,IAAN,CAAWwB,YAAX,CAAf;;AAEA,UAAI,CAACK,QAAD,IAAaF,WAAW,SAA5B,EAAuC;AACrC,YAAMjL,WAAUE,iBAAEC,MAAF,CAAS,EAAT,EAAayK,UAAUxK,QAAvB,EAAiC8K,MAAM5B,IAAN,EAAjC,EAA+C,QAAO2B,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8BA,MAA7E,CAAhB;AACAC,cAAM5B,IAAN,CAAWwB,YAAX,EAA0BK,WAAW,IAAIP,SAAJ,CAAc,IAAd,EAAoB5K,QAApB,CAArC;AACD,OAHD,MAIK;AAAE;AACL,YAAI,OAAOmL,SAASC,SAAhB,KAA8B,UAAlC,EAA8C;AACtC;AACAD,mBAASC,SAAT,CAAmBpL,OAAnB;AACD;AACR;;AAED,UAAI,OAAOiL,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,YAAIA,WAAW,SAAf,EAA0B;AACxBE,mBAASE,OAAT;AACAH,gBAAM5B,IAAN,CAAWwB,YAAX,EAAyB,KAAzB;AACD,SAHD,MAGO;AACLK,mBAASF,MAAT;AACD;AACF;AACF,KAvBM,CAAP;AAwBD,GAzBD;;AA2BA;AACA,MAAIJ,SAAJ,EAAe;AACb3K,qBAAEyK,UAAF,IAAgB,UAAC3K,OAAD;AAAA,aAAa,sBAAE,EAAF,EAAM2K,UAAN,EAAkB3K,OAAlB,CAAb;AAAA,KAAhB;AACD;;AAED;AACAE,mBAAE8K,EAAF,CAAKL,UAAL,EAAiBW,UAAjB,GAA8B;AAAA,WAAMpL,iBAAE8K,EAAF,CAAKL,UAAL,IAAmBI,GAAzB;AAAA,GAA9B;AACD,C;;;;;;;;;;;;;qjBC3DD;;;;;;;;AAMA;;;;AACA;;;;AACA;;;;;;;;IAEqBtF,W;AAEnB,yBAA0C;AAAA;;AAAA,QAA9BzF,OAA8B,uEAApBF,oBAAUM,QAAU;;AAAA;;AACxC,SAAKH,CAAL,GAASD,OAAT;AACA,QAAMuL,QAAQ,sBAAE/I,SAASgJ,IAAX,CAAd;AACAD,UAAM3K,EAAN,CAAS,SAAT,EAAoB,UAACiB,CAAD,EAAO;AAAE,UAAIA,EAAE0C,OAAF,KAAckH,OAAd,IAAyB5J,EAAE0C,OAAF,KAAcmH,OAA3C,EAAoD,MAAK7F,IAAL;AAAc,KAA/F;AACA0F,UAAM3K,EAAN,CAAS,OAAT,EAAkB,YAAM;AAAE,YAAKiF,IAAL;AAAc,KAAxC;AACA,0BAAE5D,MAAF,EAAUrB,EAAV,CAAa,QAAb,EAAuB,YAAM;AAAE,UAAI,MAAK+K,EAAL,CAAQrG,EAAR,CAAW,UAAX,CAAJ,EAA4B;AAAE,cAAKO,IAAL;AAAc;AAAC,KAA5E;;AAEA,QAAI+F,YAAa,sBAAE5L,QAAQO,KAAV,EAAiBsL,OAAjB,CAAyB,MAAzB,EAAiCnL,IAAjC,CAAsC,gBAAtC,EAAwDoL,IAAxD,CAA6D,IAA7D,CAAjB,CAPwC,CAOoD;AAC5F,QAAIC,gBAAgB,sBAAE/L,QAAQO,KAAV,EAAiBsL,OAAjB,CAAyB,MAAzB,EAAiCnL,IAAjC,CAAsC,eAAtC,EAAuDoL,IAAvD,CAA4D,OAA5D,CAApB;AACA,QAAI,CAACC,aAAL,EAAoB;AAChB,WAAKJ,EAAL,GAAU,sBAAE,OAAF,EACTK,QADS,CACA,cADA,EAETF,IAFS,CAEJ,kBAFI,EAEgB9L,QAAQgE,IAFxB,EAE8B;AAF9B,OAGTpD,EAHS,CAGN,eAHM,EAGW,UAACiB,CAAD;AAAA,eAAOA,EAAE+C,eAAF,MAAuB,KAA9B;AAAA,OAHX,EAITiB,IAJS,GAKToG,QALS,CAKA,MAAIL,SALJ,CAAV;AAMH;;AAED,QAAMM,OAAO,KAAKC,UAAL,CAAgBnM,OAAhB,CAAb;AACAkD,eAAW,KAAKkJ,UAAL,CAAgBtL,IAAhB,CAAqB,IAArB,EAA2BoL,IAA3B,CAAX,EAA6C,GAA7C;AACD;;;;+BAEUlM,O,EAAS;AAClB,UAAMqM,KAAK,sBAAE,MAAF,EACRL,QADQ,CACC,6BADD,CAAX;AAEA,UAAME,OAAO,sBAAE,OAAF,EACVF,QADU,CACD,aADC,CAAb;;AAHkB,iCAMTzC,CANS;AAMc;AAC9B,YAAMC,QAAQ8C,oBAAM3E,MAAN,CAAa4B,CAAb,CAAd;AACA,YAAMgD,KAAK,WAAWhD,CAAtB;AACA,YAAMiD,MAAM,MAAMD,EAAlB;AACA,YAAME,IAAI,sBAAE,KAAF,EACPC,IADO,CACFJ,oBAAM3E,MAAN,CAAa4B,CAAb,EAAgBnE,CADd,EAEPkE,IAFO,CAEF,QAFE,EAEQ,KAFR,EAGPwC,IAHO,CAGF,OAHE,EAGMtC,MAAMmD,CAHZ,EAIPb,IAJO,CAIF,MAJE,EAIMU,GAJN,CAAV;AAKAH,WAAG1H,MAAH,CAAU,sBAAE,MAAF,EAAUA,MAAV,CAAiB8H,CAAjB,CAAV;AACA,YAAMG,MAAM,sBAAE,OAAF,EACTd,IADS,CACJ,IADI,EACES,EADF,EAETP,QAFS,CAEA,6BAFA,EAEgC;AAFhC,SAGT1C,IAHS,CAGJ,OAHI,EAGKC,CAHL,CAAZ;;AAKAkD,UAAE7L,EAAF,CAAK,OAAL,EAAc,UAACiB,CAAD,EAAO;AACnB,gCAAE,WAAF,EAAegL,GAAf,CAAmBD,GAAnB,EAAwB/G,IAAxB,GAA+BiH,WAA/B,CAA2C,QAA3C;AACA;AACR;AACA;AACA;AACA;AACQ,cAAMC,OAAO,sBAAE,eAAF,CAAb;AACA,cAAG,wBAAsBR,EAAzB,EAA4B;AAC1BQ,iBAAKnH,IAAL;AACD,WAFD,MAEO;AACLmH,iBAAKlH,IAAL;AACD;AACD+G,cAAIZ,QAAJ,CAAa,QAAb,EAAuBpG,IAAvB;AACA/D,YAAES,cAAF;AACD,SAfD;AAgBA4J,aAAKvH,MAAL,CAAYiI,GAAZ;AArCgB;;AAMlB,WAAK,IAAIrD,CAAT,IAAc+C,oBAAM3E,MAApB,EAA4B;AAAA,cAAnB4B,CAAmB;AAgC3B;AACL;AACI,UAAM3B,UAAU,sBAAE,OAAF,EACboE,QADa,CACJ,eADI,CAAhB;;AAxCkB,mCA2CTgB,CA3CS;AA2Ce;AAC/B,YAAMC,SAAS,sBAAE,OAAF,EACZjB,QADY,CACH,cADG,CAAf;AAEA,YAAMkB,UAAU,sBAAE,OAAF,EACblB,QADa,CACJ,eADI,EAEbU,IAFa,CAERJ,oBAAM1E,OAAN,CAAcoF,CAAd,EAAiB5H,CAFT,EAGb0G,IAHa,CAGR,MAHQ,EAGD,OAHC,EAIbA,IAJa,CAIR,IAJQ,EAIFkB,CAJE,CAAhB;AAKAC,eAAOtI,MAAP,CAAcuI,OAAd;AACA,YAAMC,WAAW,sBAAE,OAAF,EACdnB,QADc,CACL,sBADK,CAAjB;AAEAM,4BAAMvE,MAAN,CAAaiF,CAAb,IAAgB,EAAhB;;AAtDgB,qCAuDPI,EAvDO;AAwDd,cAAMX,IAAI,sBAAE,KAAF,EACPC,IADO,CACFJ,oBAAM1E,OAAN,CAAcoF,CAAd,EAAiB,GAAjB,EAAsBI,EAAtB,EAA0BhI,CADxB,EAEP0G,IAFO,CAEF,OAFE,EAEOQ,oBAAM1E,OAAN,CAAcoF,CAAd,EAAiB,GAAjB,EAAsBI,EAAtB,EAA0BT,CAFjC,EAGPb,IAHO,CAGF,MAHE,EAGMQ,oBAAM1E,OAAN,CAAcoF,CAAd,EAAiB,GAAjB,EAAsBI,EAAtB,EAA0BC,CAHhC,CAAV;AAIAZ,YAAE7L,EAAF,CAAK,OAAL,EAAc,UAACiB,CAAD,EAAO;AACnB,gBAAG4K,EAAEX,IAAF,CAAO,MAAP,EAAewB,OAAf,CAAuB,OAAvB,IAAgC,CAAnC,EAAqC;AACnCJ,sBAAQR,IAAR,CAAaQ,QAAQpB,IAAR,CAAa,MAAb,CAAb;AACAoB,sBAAQpB,IAAR,CAAa,OAAb,EAAsB,EAAtB;AACAoB,sBAAQpB,IAAR,CAAa,MAAb,EAAqB,OAArB;AACD,aAJD,MAIK;AACH,kBAAGoB,QAAQpB,IAAR,CAAa,MAAb,KAAsB,OAAzB,EAAkC;AAChCoB,wBAAQpB,IAAR,CAAa,MAAb,EAAqBoB,QAAQR,IAAR,EAArB;AACD;AACDQ,sBAAQR,IAAR,CAAaD,EAAEC,IAAF,EAAb;AACAQ,sBAAQpB,IAAR,CAAa,OAAb,EAAsBW,EAAEX,IAAF,CAAO,OAAP,CAAtB;AACZ;AACYqB,uBAAStH,IAAT;AACAsH,uBAASI,GAAT,CAAa,SAAb,EAAuB,EAAvB;AACZ;AACY;AACA;AACA;AACA;AACA;;AAEX;AACD;AACA;AACA;AACA;;AAEA;AACA;AACkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACW;AACD,gBAAId,EAAEX,IAAF,CAAO,MAAP,MAAkB,OAAtB,EAA+B;AAC7BQ,kCAAMvE,MAAN,CAAaiF,CAAb,IAAgB,EAAhB;AACD,aAFD,MAEO;AACLV,kCAAMvE,MAAN,CAAaiF,CAAb,IAAgBP,EAAEX,IAAF,CAAO,MAAP,CAAhB;AACD;AACD,gBAAI0B,WAAW,EAAf;AACA,gBAAIlB,oBAAMvE,MAAN,CAAa,MAAb,MAAuB,EAA3B,EAA+ByF,WAAWA,WAAWlB,oBAAMvE,MAAN,CAAa,MAAb,CAAX,GAAgC,GAA3C;AAC/B,gBAAIuE,oBAAMvE,MAAN,CAAa,MAAb,MAAuB,EAA3B,EAA+ByF,WAAWA,WAAWlB,oBAAMvE,MAAN,CAAa,MAAb,CAAX,GAAgC,GAA3C;AAC/B,gBAAIuE,oBAAMvE,MAAN,CAAa,QAAb,MAAyB,EAA7B,EAAiCyF,WAAWA,WAAWlB,oBAAMvE,MAAN,CAAa,QAAb,CAAX,GAAkC,GAA7C;AACjCyF,uBAAWA,SAASnM,MAAT,GAAgB,CAAhB,GAAoBmM,SAASrJ,KAAT,CAAe,CAAf,EAAiBqJ,SAASnM,MAAT,GAAgB,CAAjC,CAApB,GAAyDmM,QAApE;;AAEA,kCAAE,sBAAF,EAA0BrI,IAA1B,CAA+B,UAACC,CAAD,EAAGqI,EAAH,EAAU;AACvC,kBAAMC,MAAM,sBAAED,EAAF,CAAZ;AACZ;AACY,kBAAGD,aAAW,EAAd,EAAiB;AACfE,oBAAIC,IAAJ,CAASrB,oBAAMxE,IAAN,CAAW0F,QAAX,EAAqB,GAArB,EAA0BE,IAAIC,IAAJ,EAA1B,CAAT;AACX;AACA;AACU;AACF,aARD;;AAUT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAED;AACA;;AAEC;AACC;AACA;AACA;AACD;AACS9L,cAAES,cAAF;AACD,WA7ED;AA8EA6K,mBAASxI,MAAT,CAAgB8H,CAAhB;AA1Ic;;AAuDhB,aAAK,IAAIW,EAAT,IAAed,oBAAM1E,OAAN,CAAcoF,CAAd,EAAiB,GAAjB,CAAf,EAAsC;AAAA,iBAA7BI,EAA6B;AAoFrC;AACDH,eAAOtI,MAAP,CAAcwI,QAAd;AACAvF,gBAAQjD,MAAR,CAAesI,MAAf;AA7IgB;;AA2ClB,WAAK,IAAID,CAAT,IAAcV,oBAAM1E,OAApB,EAA6B;AAAA,eAApBoF,CAAoB;AAmG5B;;AAEL;AACId,WAAKxL,IAAL,CAAU,WAAV,EAAuBmM,GAAvB,CAA2B,cAA3B,EAA2ChH,IAA3C,GAAkDiH,WAAlD,CAA8D,QAA9D;AACA,WAAKnB,EAAL,CAAQhH,MAAR,CAAe0H,EAAf,EAAmB1H,MAAnB,CAA0BuH,IAA1B,EAAgCvH,MAAhC,CAAuCiD,OAAvC;AACA,UAAMmF,OAAO,sBAAE,eAAF,CAAb;AACAA,WAAKlH,IAAL;AACA,aAAOqG,KAAK0B,QAAL,EAAP;AACD;;;+BAEU9F,I,EAAM;AACf,UAAI,OAAO,KAAK+F,EAAZ,KAAmB,UAAvB,EAAkC;AAChC5E,cAAMnB,IAAN;AACA,aAAK+F,EAAL,CAAQ/F,IAAR;AACD;AAGF;;AAED;;;;+BACWoE,I,EAAM;AAAA;;AACf,UAAI9G,IAAE,CAAN;AACA,WAAK,IAAImE,CAAT,IAAc+C,oBAAM3E,MAApB,EAA4B;AAAI;AAC9B,YAAI6B,QAAQ8C,oBAAM3E,MAAN,CAAa4B,CAAb,CAAZ;AACA,YAAIqD,OAAMV,KAAK9G,CAAL,CAAV;AACA,aAAK,IAAI0I,EAAT,IAAexB,oBAAM3E,MAAN,CAAa4B,CAAb,EAAgB+C,oBAAM/B,UAAtB,CAAf,EAAkD;AAAA,uCACvCwD,GADuC;AAE9C,gBAAIC,WAAW1B,oBAAM3E,MAAN,CAAa4B,CAAb,EAAgB+C,oBAAM/B,UAAtB,EAAkCuD,EAAlC,EAAsCxB,oBAAM/B,UAA5C,EAAwDwD,GAAxD,CAAf;AACA,gBAAIE,YAAY,sBAAE,KAAF,EACb3E,IADa,CACR,OADQ,EACCyE,GADD;AAE1B;AAF0B,aAGbrB,IAHa,CAGRqB,GAHQ,EAIbjC,IAJa,CAIR,OAJQ,EAIAkC,SAASrB,CAJT,EAKb/L,EALa,CAKV,OALU,EAKD,YAAM;AAAC,qBAAKsN,WAAL,CAAiBH,GAAjB,EAAsB,OAAK9N,CAA3B;AAA8B,aALpC,CAAhB;AAMA,kCAAE2M,IAAF,EAAOjI,MAAP,CAAcsJ,SAAd;AAT8C;;AAChD,eAAK,IAAIF,GAAT,IAAgBzB,oBAAM3E,MAAN,CAAa4B,CAAb,EAAgB+C,oBAAM/B,UAAtB,EAAkCuD,EAAlC,EAAsCxB,oBAAM/B,UAA5C,CAAhB,EAAyE;AAAA,mBAAhEwD,GAAgE;AASxE;AACF;AACD3I;AACD;AACF;;AAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;gCAEc+I,K,EAAOnO,O,EAAS;AAC1B,UAAI,OAAO,KAAK6N,EAAZ,KAAmB,UAAvB,EACE,KAAKA,EAAL,CAAQM,KAAR,EAAenO,OAAf;AACF,UAAIA,QAAQgH,YAAZ,EAAyB;AACrB,aAAKnB,IAAL;AACH;AAEF;;;+BAEUuI,M,EAAQpO,O,EAAS;AAC1B,UAAI,CAACoO,MAAD,IAAWA,OAAO/M,MAAP,KAAkB,CAAjC,EACE;;AAGF,UAAMgN,UAAU,sBAAED,MAAF,CAAhB;AACA,UAAME,UAAUtO,QAAQmH,SAAxB;AACA,UAAMoH,UAAUvO,QAAQkH,WAAxB;AACA,UAAMsH,UAAUxO,QAAQoH,WAAxB;AACA,UAAIqH,YAAaJ,QAAQK,MAAR,EAAjB;AACA,UAAIC,cAAcF,UAAUG,MAAV,EAAlB;;AAEA,UAAMC,OAAO,sBAAE5M,MAAF,EAAU6M,KAAV,EAAb;AACA,UAAMC,OAAO,sBAAE9M,MAAF,EAAU+M,MAAV,EAAb;;AAEA,UAAMC,UAAU,sBAAEjP,QAAQO,KAAV,CAAhB;AACA,UAAI2O,YAAYD,QAAQL,MAAR,EAAhB;AACA,UAAIO,UAAUF,QAAQH,KAAR,EAAd;AACA,UAAIM,UAAUH,QAAQI,WAAR,CAAoB,KAApB,CAAd;AACA,UAAIC,aAAaJ,UAAUK,IAA3B;AACA,UAAIC,YAAaN,UAAUO,GAA3B;AACA,UAAIC,aAAa,CAAElB,OAAnB;;AAEA,UAAIxO,QAAQ2P,YAAZ,EAA0B;AACtBH,oBAAYnB,QAAQO,MAAR,GAAiBa,GAA7B;AACAL,kBAAUf,QAAQgB,WAAR,CAAoB,KAApB,CAAV;AACAK,qBAAa,CAACjB,UAAUK,KAAV,KAAkBN,OAAnB,IAA4B,CAAzC;AACH;;AAED,UAAIoB,YAAaJ,YAAYJ,OAAZ,GAAsBT,YAAYc,GAAnD;;AAEA,UAAId,YAAYY,IAAZ,GAAiBf,OAArB,EAA6B;AAChC;AACI;;AAED,UAAIqB,WAAYd,OAAOK,OAAP,GAAiBI,SAAjC;AACA,UAAIK,WAASvB,OAAb,EAAsB;AACnB,YAAIuB,WAAStB,OAAb,EAAsB;AACnBqB,sBAAY,CAAErB,OAAF,IAAWI,YAAYc,GAAZ,GAAgBD,SAA3B,CAAZ;AACF;AACDxP,gBAAQiH,YAAR,GAAuB,IAAvB;AACF,OALD,MAKO;AACLjH,gBAAQiH,YAAR,GAAuB,KAAvB;AACD;;AAED,WAAK0E,EAAL,CAAQ4B,GAAR,CAAY;AACRkC,aAAMG,UAAUE,OAAV,CAAkB,CAAlB,IAAqB,IADnB;AAERP,cAAMG,WAAWI,OAAX,CAAmB,CAAnB,IAAsB;AAFpB,OAAZ;AAIA,UAAI9P,QAAQiH,YAAZ,EAA0B;AACtB,aAAK0E,EAAL,CAAQ4B,GAAR,CAAY;AACTyB,kBAAQhP,QAAQkH,WAAR,GAAsB;AADrB,SAAZ;AAGH,OAJD,MAIO;AACH,aAAKyE,EAAL,CAAQ4B,GAAR,CAAY;AACVyB,kBAAQhP,QAAQmH,SAAR,GAAoB;AADlB,SAAZ;AAGH;AACF;;;yBAEI4I,c,EAAgB3B,M,EAAQpO,O,EAAS;AACpC,WAAK6N,EAAL,GAAUkC,cAAV;AACA,WAAKC,UAAL,CAAgB5B,MAAhB,EAAwBpO,OAAxB;AACA,WAAK2L,EAAL,CAAQG,IAAR,CAAa,kBAAb,EAAiC9L,QAAQgE,IAAzC,EAHoC,CAGY;;AAEhD,UAAIhE,QAAQiH,YAAZ,EAAyB;AACrB,8BAAE,WAAF,EAAesG,GAAf,CAAmB;AACbyB,kBAAQhP,QAAQkH,WAAR,GAAoB,EAApB,GAAyB;AADpB,SAAnB;AAGH,OAJD,MAIO;AACH,8BAAE,WAAF,EAAeqG,GAAf,CAAmB;AACjByB,kBAAQhP,QAAQmH,SAAR,GAAkB,EAAlB,GAAqB;AADZ,SAAnB;AAGH;;AAED,WAAKwE,EAAL,CAAQ/F,IAAR;AACA,aAAO,IAAP;AACD;;;2BAEM;AACL,WAAK+F,EAAL,CAAQ9F,IAAR;AACD;;;gCAEW;AACV,aAAO,KAAK8F,EAAL,CAAQrG,EAAR,CAAW,UAAX,CAAP;AACD;;;;;;kBA/TkBG,W;;;AAkUrBA,YAAYsB,YAAZ,GAA2B,IAA3B;;AAEAtB,YAAYG,IAAZ,GAAmB,UAAUmK,cAAV,EAA0B3B,MAA1B,EAAgE;AAAA,MAA9BpO,OAA8B,uEAApBF,oBAAUM,QAAU;;AACjF,MAAIoF,SAASC,YAAYsB,YAAzB;AACA,MAAI,CAAC/G,QAAQ+G,YAAb,EACEvB,SAAS,IAAIC,WAAJ,CAAgBzF,OAAhB,CAAT;AACF,MAAI,CAACwF,MAAL,EACEA,SAASC,YAAYsB,YAAZ,GAA2B,IAAItB,WAAJ,CAAgBzF,OAAhB,CAApC;AACFwF,SAAOI,IAAP,CAAYmK,cAAZ,EAA4B3B,MAA5B,EAAoCpO,OAApC;AACA,SAAOwF,MAAP;AACD,CARD;;AAUAC,YAAYC,SAAZ,GAAwB,YAAY;AAClC,SAAOD,YAAYsB,YAAZ,IAA4BtB,YAAYsB,YAAZ,CAAyBrB,SAAzB,EAAnC;AACD,CAFD;;AAIAD,YAAYI,IAAZ,GAAmB,YAAY;AAC7B,GAACJ,YAAYsB,YAAb,IAA6BtB,YAAYsB,YAAZ,CAAyBlB,IAAzB,EAA7B;AACD,CAFD;;AAIA,IAAM4F,UAAU,EAAhB;AACA,IAAMC,UAAU,CAAhB,C","file":"jquery.smartemoji.js","sourcesContent":[" \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n \tvar parentHotUpdateCallback = window[\"webpackHotUpdateSmartEmoji\"];\n \twindow[\"webpackHotUpdateSmartEmoji\"] = \r\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\thotAddUpdateChunk(chunkId, moreModules);\r\n \t\tif(parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\r\n \t} ;\r\n \t\r\n \tfunction hotDownloadUpdateChunk(chunkId) { // eslint-disable-line no-unused-vars\r\n \t\tvar head = document.getElementsByTagName(\"head\")[0];\r\n \t\tvar script = document.createElement(\"script\");\r\n \t\tscript.type = \"text/javascript\";\r\n \t\tscript.charset = \"utf-8\";\r\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\r\n \t\t;\r\n \t\thead.appendChild(script);\r\n \t}\r\n \t\r\n \tfunction hotDownloadManifest(requestTimeout) { // eslint-disable-line no-unused-vars\r\n \t\trequestTimeout = requestTimeout || 10000;\r\n \t\treturn new Promise(function(resolve, reject) {\r\n \t\t\tif(typeof XMLHttpRequest === \"undefined\")\r\n \t\t\t\treturn reject(new Error(\"No browser support\"));\r\n \t\t\ttry {\r\n \t\t\t\tvar request = new XMLHttpRequest();\r\n \t\t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\r\n \t\t\t\trequest.open(\"GET\", requestPath, true);\r\n \t\t\t\trequest.timeout = requestTimeout;\r\n \t\t\t\trequest.send(null);\r\n \t\t\t} catch(err) {\r\n \t\t\t\treturn reject(err);\r\n \t\t\t}\r\n \t\t\trequest.onreadystatechange = function() {\r\n \t\t\t\tif(request.readyState !== 4) return;\r\n \t\t\t\tif(request.status === 0) {\r\n \t\t\t\t\t// timeout\r\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" timed out.\"));\r\n \t\t\t\t} else if(request.status === 404) {\r\n \t\t\t\t\t// no update available\r\n \t\t\t\t\tresolve();\r\n \t\t\t\t} else if(request.status !== 200 && request.status !== 304) {\r\n \t\t\t\t\t// other failure\r\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\r\n \t\t\t\t} else {\r\n \t\t\t\t\t// success\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\r\n \t\t\t\t\t} catch(e) {\r\n \t\t\t\t\t\treject(e);\r\n \t\t\t\t\t\treturn;\r\n \t\t\t\t\t}\r\n \t\t\t\t\tresolve(update);\r\n \t\t\t\t}\r\n \t\t\t};\r\n \t\t});\r\n \t}\r\n\n \t\r\n \t\r\n \tvar hotApplyOnUpdate = true;\r\n \tvar hotCurrentHash = \"2f6485c94bd4a621f401\"; // eslint-disable-line no-unused-vars\r\n \tvar hotRequestTimeout = 10000;\r\n \tvar hotCurrentModuleData = {};\r\n \tvar hotCurrentChildModule; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentParents = []; // eslint-disable-line no-unused-vars\r\n \tvar hotCurrentParentsTemp = []; // eslint-disable-line no-unused-vars\r\n \t\r\n \tfunction hotCreateRequire(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar me = installedModules[moduleId];\r\n \t\tif(!me) return __webpack_require__;\r\n \t\tvar fn = function(request) {\r\n \t\t\tif(me.hot.active) {\r\n \t\t\t\tif(installedModules[request]) {\r\n \t\t\t\t\tif(installedModules[request].parents.indexOf(moduleId) < 0)\r\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\r\n \t\t\t\t} else {\r\n \t\t\t\t\thotCurrentParents = [moduleId];\r\n \t\t\t\t\thotCurrentChildModule = request;\r\n \t\t\t\t}\r\n \t\t\t\tif(me.children.indexOf(request) < 0)\r\n \t\t\t\t\tme.children.push(request);\r\n \t\t\t} else {\r\n \t\t\t\tconsole.warn(\"[HMR] unexpected require(\" + request + \") from disposed module \" + moduleId);\r\n \t\t\t\thotCurrentParents = [];\r\n \t\t\t}\r\n \t\t\treturn __webpack_require__(request);\r\n \t\t};\r\n \t\tvar ObjectFactory = function ObjectFactory(name) {\r\n \t\t\treturn {\r\n \t\t\t\tconfigurable: true,\r\n \t\t\t\tenumerable: true,\r\n \t\t\t\tget: function() {\r\n \t\t\t\t\treturn __webpack_require__[name];\r\n \t\t\t\t},\r\n \t\t\t\tset: function(value) {\r\n \t\t\t\t\t__webpack_require__[name] = value;\r\n \t\t\t\t}\r\n \t\t\t};\r\n \t\t};\r\n \t\tfor(var name in __webpack_require__) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(__webpack_require__, name) && name !== \"e\") {\r\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\r\n \t\t\t}\r\n \t\t}\r\n \t\tfn.e = function(chunkId) {\r\n \t\t\tif(hotStatus === \"ready\")\r\n \t\t\t\thotSetStatus(\"prepare\");\r\n \t\t\thotChunksLoading++;\r\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\r\n \t\t\t\tfinishChunkLoading();\r\n \t\t\t\tthrow err;\r\n \t\t\t});\r\n \t\r\n \t\t\tfunction finishChunkLoading() {\r\n \t\t\t\thotChunksLoading--;\r\n \t\t\t\tif(hotStatus === \"prepare\") {\r\n \t\t\t\t\tif(!hotWaitingFilesMap[chunkId]) {\r\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\t\t\thotUpdateDownloaded();\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t};\r\n \t\treturn fn;\r\n \t}\r\n \t\r\n \tfunction hotCreateModule(moduleId) { // eslint-disable-line no-unused-vars\r\n \t\tvar hot = {\r\n \t\t\t// private stuff\r\n \t\t\t_acceptedDependencies: {},\r\n \t\t\t_declinedDependencies: {},\r\n \t\t\t_selfAccepted: false,\r\n \t\t\t_selfDeclined: false,\r\n \t\t\t_disposeHandlers: [],\r\n \t\t\t_main: hotCurrentChildModule !== moduleId,\r\n \t\r\n \t\t\t// Module API\r\n \t\t\tactive: true,\r\n \t\t\taccept: function(dep, callback) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfAccepted = true;\r\n \t\t\t\telse if(typeof dep === \"function\")\r\n \t\t\t\t\thot._selfAccepted = dep;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\r\n \t\t\t\telse\r\n \t\t\t\t\thot._acceptedDependencies[dep] = callback || function() {};\r\n \t\t\t},\r\n \t\t\tdecline: function(dep) {\r\n \t\t\t\tif(typeof dep === \"undefined\")\r\n \t\t\t\t\thot._selfDeclined = true;\r\n \t\t\t\telse if(typeof dep === \"object\")\r\n \t\t\t\t\tfor(var i = 0; i < dep.length; i++)\r\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\r\n \t\t\t\telse\r\n \t\t\t\t\thot._declinedDependencies[dep] = true;\r\n \t\t\t},\r\n \t\t\tdispose: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\taddDisposeHandler: function(callback) {\r\n \t\t\t\thot._disposeHandlers.push(callback);\r\n \t\t\t},\r\n \t\t\tremoveDisposeHandler: function(callback) {\r\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\r\n \t\t\t\tif(idx >= 0) hot._disposeHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t// Management API\r\n \t\t\tcheck: hotCheck,\r\n \t\t\tapply: hotApply,\r\n \t\t\tstatus: function(l) {\r\n \t\t\t\tif(!l) return hotStatus;\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\taddStatusHandler: function(l) {\r\n \t\t\t\thotStatusHandlers.push(l);\r\n \t\t\t},\r\n \t\t\tremoveStatusHandler: function(l) {\r\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\r\n \t\t\t\tif(idx >= 0) hotStatusHandlers.splice(idx, 1);\r\n \t\t\t},\r\n \t\r\n \t\t\t//inherit from previous dispose call\r\n \t\t\tdata: hotCurrentModuleData[moduleId]\r\n \t\t};\r\n \t\thotCurrentChildModule = undefined;\r\n \t\treturn hot;\r\n \t}\r\n \t\r\n \tvar hotStatusHandlers = [];\r\n \tvar hotStatus = \"idle\";\r\n \t\r\n \tfunction hotSetStatus(newStatus) {\r\n \t\thotStatus = newStatus;\r\n \t\tfor(var i = 0; i < hotStatusHandlers.length; i++)\r\n \t\t\thotStatusHandlers[i].call(null, newStatus);\r\n \t}\r\n \t\r\n \t// while downloading\r\n \tvar hotWaitingFiles = 0;\r\n \tvar hotChunksLoading = 0;\r\n \tvar hotWaitingFilesMap = {};\r\n \tvar hotRequestedFilesMap = {};\r\n \tvar hotAvailableFilesMap = {};\r\n \tvar hotDeferred;\r\n \t\r\n \t// The update info\r\n \tvar hotUpdate, hotUpdateNewHash;\r\n \t\r\n \tfunction toModuleId(id) {\r\n \t\tvar isNumber = (+id) + \"\" === id;\r\n \t\treturn isNumber ? +id : id;\r\n \t}\r\n \t\r\n \tfunction hotCheck(apply) {\r\n \t\tif(hotStatus !== \"idle\") throw new Error(\"check() is only allowed in idle status\");\r\n \t\thotApplyOnUpdate = apply;\r\n \t\thotSetStatus(\"check\");\r\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\r\n \t\t\tif(!update) {\r\n \t\t\t\thotSetStatus(\"idle\");\r\n \t\t\t\treturn null;\r\n \t\t\t}\r\n \t\t\thotRequestedFilesMap = {};\r\n \t\t\thotWaitingFilesMap = {};\r\n \t\t\thotAvailableFilesMap = update.c;\r\n \t\t\thotUpdateNewHash = update.h;\r\n \t\r\n \t\t\thotSetStatus(\"prepare\");\r\n \t\t\tvar promise = new Promise(function(resolve, reject) {\r\n \t\t\t\thotDeferred = {\r\n \t\t\t\t\tresolve: resolve,\r\n \t\t\t\t\treject: reject\r\n \t\t\t\t};\r\n \t\t\t});\r\n \t\t\thotUpdate = {};\r\n \t\t\tvar chunkId = 0;\r\n \t\t\t{ // eslint-disable-line no-lone-blocks\r\n \t\t\t\t/*globals chunkId */\r\n \t\t\t\thotEnsureUpdateChunk(chunkId);\r\n \t\t\t}\r\n \t\t\tif(hotStatus === \"prepare\" && hotChunksLoading === 0 && hotWaitingFiles === 0) {\r\n \t\t\t\thotUpdateDownloaded();\r\n \t\t\t}\r\n \t\t\treturn promise;\r\n \t\t});\r\n \t}\r\n \t\r\n \tfunction hotAddUpdateChunk(chunkId, moreModules) { // eslint-disable-line no-unused-vars\r\n \t\tif(!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\r\n \t\t\treturn;\r\n \t\thotRequestedFilesMap[chunkId] = false;\r\n \t\tfor(var moduleId in moreModules) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\r\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\tif(--hotWaitingFiles === 0 && hotChunksLoading === 0) {\r\n \t\t\thotUpdateDownloaded();\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotEnsureUpdateChunk(chunkId) {\r\n \t\tif(!hotAvailableFilesMap[chunkId]) {\r\n \t\t\thotWaitingFilesMap[chunkId] = true;\r\n \t\t} else {\r\n \t\t\thotRequestedFilesMap[chunkId] = true;\r\n \t\t\thotWaitingFiles++;\r\n \t\t\thotDownloadUpdateChunk(chunkId);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotUpdateDownloaded() {\r\n \t\thotSetStatus(\"ready\");\r\n \t\tvar deferred = hotDeferred;\r\n \t\thotDeferred = null;\r\n \t\tif(!deferred) return;\r\n \t\tif(hotApplyOnUpdate) {\r\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\r\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\r\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\r\n \t\t\tPromise.resolve().then(function() {\r\n \t\t\t\treturn hotApply(hotApplyOnUpdate);\r\n \t\t\t}).then(\r\n \t\t\t\tfunction(result) {\r\n \t\t\t\t\tdeferred.resolve(result);\r\n \t\t\t\t},\r\n \t\t\t\tfunction(err) {\r\n \t\t\t\t\tdeferred.reject(err);\r\n \t\t\t\t}\r\n \t\t\t);\r\n \t\t} else {\r\n \t\t\tvar outdatedModules = [];\r\n \t\t\tfor(var id in hotUpdate) {\r\n \t\t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t\tdeferred.resolve(outdatedModules);\r\n \t\t}\r\n \t}\r\n \t\r\n \tfunction hotApply(options) {\r\n \t\tif(hotStatus !== \"ready\") throw new Error(\"apply() is only allowed in ready status\");\r\n \t\toptions = options || {};\r\n \t\r\n \t\tvar cb;\r\n \t\tvar i;\r\n \t\tvar j;\r\n \t\tvar module;\r\n \t\tvar moduleId;\r\n \t\r\n \t\tfunction getAffectedStuff(updateModuleId) {\r\n \t\t\tvar outdatedModules = [updateModuleId];\r\n \t\t\tvar outdatedDependencies = {};\r\n \t\r\n \t\t\tvar queue = outdatedModules.slice().map(function(id) {\r\n \t\t\t\treturn {\r\n \t\t\t\t\tchain: [id],\r\n \t\t\t\t\tid: id\r\n \t\t\t\t};\r\n \t\t\t});\r\n \t\t\twhile(queue.length > 0) {\r\n \t\t\t\tvar queueItem = queue.pop();\r\n \t\t\t\tvar moduleId = queueItem.id;\r\n \t\t\t\tvar chain = queueItem.chain;\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tif(!module || module.hot._selfAccepted)\r\n \t\t\t\t\tcontinue;\r\n \t\t\t\tif(module.hot._selfDeclined) {\r\n \t\t\t\t\treturn {\r\n \t\t\t\t\t\ttype: \"self-declined\",\r\n \t\t\t\t\t\tchain: chain,\r\n \t\t\t\t\t\tmoduleId: moduleId\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tif(module.hot._main) {\r\n \t\t\t\t\treturn {\r\n \t\t\t\t\t\ttype: \"unaccepted\",\r\n \t\t\t\t\t\tchain: chain,\r\n \t\t\t\t\t\tmoduleId: moduleId\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tfor(var i = 0; i < module.parents.length; i++) {\r\n \t\t\t\t\tvar parentId = module.parents[i];\r\n \t\t\t\t\tvar parent = installedModules[parentId];\r\n \t\t\t\t\tif(!parent) continue;\r\n \t\t\t\t\tif(parent.hot._declinedDependencies[moduleId]) {\r\n \t\t\t\t\t\treturn {\r\n \t\t\t\t\t\t\ttype: \"declined\",\r\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\r\n \t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\tparentId: parentId\r\n \t\t\t\t\t\t};\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(outdatedModules.indexOf(parentId) >= 0) continue;\r\n \t\t\t\t\tif(parent.hot._acceptedDependencies[moduleId]) {\r\n \t\t\t\t\t\tif(!outdatedDependencies[parentId])\r\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\r\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\r\n \t\t\t\t\t\tcontinue;\r\n \t\t\t\t\t}\r\n \t\t\t\t\tdelete outdatedDependencies[parentId];\r\n \t\t\t\t\toutdatedModules.push(parentId);\r\n \t\t\t\t\tqueue.push({\r\n \t\t\t\t\t\tchain: chain.concat([parentId]),\r\n \t\t\t\t\t\tid: parentId\r\n \t\t\t\t\t});\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\r\n \t\t\treturn {\r\n \t\t\t\ttype: \"accepted\",\r\n \t\t\t\tmoduleId: updateModuleId,\r\n \t\t\t\toutdatedModules: outdatedModules,\r\n \t\t\t\toutdatedDependencies: outdatedDependencies\r\n \t\t\t};\r\n \t\t}\r\n \t\r\n \t\tfunction addAllToSet(a, b) {\r\n \t\t\tfor(var i = 0; i < b.length; i++) {\r\n \t\t\t\tvar item = b[i];\r\n \t\t\t\tif(a.indexOf(item) < 0)\r\n \t\t\t\t\ta.push(item);\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// at begin all updates modules are outdated\r\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\r\n \t\tvar outdatedDependencies = {};\r\n \t\tvar outdatedModules = [];\r\n \t\tvar appliedUpdate = {};\r\n \t\r\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\r\n \t\t\tconsole.warn(\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\");\r\n \t\t};\r\n \t\r\n \t\tfor(var id in hotUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\r\n \t\t\t\tmoduleId = toModuleId(id);\r\n \t\t\t\tvar result;\r\n \t\t\t\tif(hotUpdate[id]) {\r\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\r\n \t\t\t\t} else {\r\n \t\t\t\t\tresult = {\r\n \t\t\t\t\t\ttype: \"disposed\",\r\n \t\t\t\t\t\tmoduleId: id\r\n \t\t\t\t\t};\r\n \t\t\t\t}\r\n \t\t\t\tvar abortError = false;\r\n \t\t\t\tvar doApply = false;\r\n \t\t\t\tvar doDispose = false;\r\n \t\t\t\tvar chainInfo = \"\";\r\n \t\t\t\tif(result.chain) {\r\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\r\n \t\t\t\t}\r\n \t\t\t\tswitch(result.type) {\r\n \t\t\t\t\tcase \"self-declined\":\r\n \t\t\t\t\t\tif(options.onDeclined)\r\n \t\t\t\t\t\t\toptions.onDeclined(result);\r\n \t\t\t\t\t\tif(!options.ignoreDeclined)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because of self decline: \" + result.moduleId + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"declined\":\r\n \t\t\t\t\t\tif(options.onDeclined)\r\n \t\t\t\t\t\t\toptions.onDeclined(result);\r\n \t\t\t\t\t\tif(!options.ignoreDeclined)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because of declined dependency: \" + result.moduleId + \" in \" + result.parentId + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"unaccepted\":\r\n \t\t\t\t\t\tif(options.onUnaccepted)\r\n \t\t\t\t\t\t\toptions.onUnaccepted(result);\r\n \t\t\t\t\t\tif(!options.ignoreUnaccepted)\r\n \t\t\t\t\t\t\tabortError = new Error(\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo);\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"accepted\":\r\n \t\t\t\t\t\tif(options.onAccepted)\r\n \t\t\t\t\t\t\toptions.onAccepted(result);\r\n \t\t\t\t\t\tdoApply = true;\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tcase \"disposed\":\r\n \t\t\t\t\t\tif(options.onDisposed)\r\n \t\t\t\t\t\t\toptions.onDisposed(result);\r\n \t\t\t\t\t\tdoDispose = true;\r\n \t\t\t\t\t\tbreak;\r\n \t\t\t\t\tdefault:\r\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\r\n \t\t\t\t}\r\n \t\t\t\tif(abortError) {\r\n \t\t\t\t\thotSetStatus(\"abort\");\r\n \t\t\t\t\treturn Promise.reject(abortError);\r\n \t\t\t\t}\r\n \t\t\t\tif(doApply) {\r\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\r\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\r\n \t\t\t\t\tfor(moduleId in result.outdatedDependencies) {\r\n \t\t\t\t\t\tif(Object.prototype.hasOwnProperty.call(result.outdatedDependencies, moduleId)) {\r\n \t\t\t\t\t\t\tif(!outdatedDependencies[moduleId])\r\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\r\n \t\t\t\t\t\t\taddAllToSet(outdatedDependencies[moduleId], result.outdatedDependencies[moduleId]);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t\tif(doDispose) {\r\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\r\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Store self accepted outdated modules to require them later by the module system\r\n \t\tvar outdatedSelfAcceptedModules = [];\r\n \t\tfor(i = 0; i < outdatedModules.length; i++) {\r\n \t\t\tmoduleId = outdatedModules[i];\r\n \t\t\tif(installedModules[moduleId] && installedModules[moduleId].hot._selfAccepted)\r\n \t\t\t\toutdatedSelfAcceptedModules.push({\r\n \t\t\t\t\tmodule: moduleId,\r\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\r\n \t\t\t\t});\r\n \t\t}\r\n \t\r\n \t\t// Now in \"dispose\" phase\r\n \t\thotSetStatus(\"dispose\");\r\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\r\n \t\t\tif(hotAvailableFilesMap[chunkId] === false) {\r\n \t\t\t\thotDisposeChunk(chunkId);\r\n \t\t\t}\r\n \t\t});\r\n \t\r\n \t\tvar idx;\r\n \t\tvar queue = outdatedModules.slice();\r\n \t\twhile(queue.length > 0) {\r\n \t\t\tmoduleId = queue.pop();\r\n \t\t\tmodule = installedModules[moduleId];\r\n \t\t\tif(!module) continue;\r\n \t\r\n \t\t\tvar data = {};\r\n \t\r\n \t\t\t// Call dispose handlers\r\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\r\n \t\t\tfor(j = 0; j < disposeHandlers.length; j++) {\r\n \t\t\t\tcb = disposeHandlers[j];\r\n \t\t\t\tcb(data);\r\n \t\t\t}\r\n \t\t\thotCurrentModuleData[moduleId] = data;\r\n \t\r\n \t\t\t// disable module (this disables requires from this module)\r\n \t\t\tmodule.hot.active = false;\r\n \t\r\n \t\t\t// remove module from cache\r\n \t\t\tdelete installedModules[moduleId];\r\n \t\r\n \t\t\t// when disposing there is no need to call dispose handler\r\n \t\t\tdelete outdatedDependencies[moduleId];\r\n \t\r\n \t\t\t// remove \"parents\" references from all children\r\n \t\t\tfor(j = 0; j < module.children.length; j++) {\r\n \t\t\t\tvar child = installedModules[module.children[j]];\r\n \t\t\t\tif(!child) continue;\r\n \t\t\t\tidx = child.parents.indexOf(moduleId);\r\n \t\t\t\tif(idx >= 0) {\r\n \t\t\t\t\tchild.parents.splice(idx, 1);\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// remove outdated dependency from module children\r\n \t\tvar dependency;\r\n \t\tvar moduleOutdatedDependencies;\r\n \t\tfor(moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tif(module) {\r\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\t\tfor(j = 0; j < moduleOutdatedDependencies.length; j++) {\r\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\r\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\r\n \t\t\t\t\t\tif(idx >= 0) module.children.splice(idx, 1);\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Not in \"apply\" phase\r\n \t\thotSetStatus(\"apply\");\r\n \t\r\n \t\thotCurrentHash = hotUpdateNewHash;\r\n \t\r\n \t\t// insert new code\r\n \t\tfor(moduleId in appliedUpdate) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\r\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// call accept handlers\r\n \t\tvar error = null;\r\n \t\tfor(moduleId in outdatedDependencies) {\r\n \t\t\tif(Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)) {\r\n \t\t\t\tmodule = installedModules[moduleId];\r\n \t\t\t\tif(module) {\r\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\r\n \t\t\t\t\tvar callbacks = [];\r\n \t\t\t\t\tfor(i = 0; i < moduleOutdatedDependencies.length; i++) {\r\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\r\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\r\n \t\t\t\t\t\tif(cb) {\r\n \t\t\t\t\t\t\tif(callbacks.indexOf(cb) >= 0) continue;\r\n \t\t\t\t\t\t\tcallbacks.push(cb);\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t\tfor(i = 0; i < callbacks.length; i++) {\r\n \t\t\t\t\t\tcb = callbacks[i];\r\n \t\t\t\t\t\ttry {\r\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\r\n \t\t\t\t\t\t} catch(err) {\r\n \t\t\t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\r\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\r\n \t\t\t\t\t\t\t\t\terror: err\r\n \t\t\t\t\t\t\t\t});\r\n \t\t\t\t\t\t\t}\r\n \t\t\t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t\t\t}\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// Load self accepted modules\r\n \t\tfor(i = 0; i < outdatedSelfAcceptedModules.length; i++) {\r\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\r\n \t\t\tmoduleId = item.module;\r\n \t\t\thotCurrentParents = [moduleId];\r\n \t\t\ttry {\r\n \t\t\t\t__webpack_require__(moduleId);\r\n \t\t\t} catch(err) {\r\n \t\t\t\tif(typeof item.errorHandler === \"function\") {\r\n \t\t\t\t\ttry {\r\n \t\t\t\t\t\titem.errorHandler(err);\r\n \t\t\t\t\t} catch(err2) {\r\n \t\t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\r\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\t\terror: err2,\r\n \t\t\t\t\t\t\t\torginalError: err, // TODO remove in webpack 4\r\n \t\t\t\t\t\t\t\toriginalError: err\r\n \t\t\t\t\t\t\t});\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\t\terror = err2;\r\n \t\t\t\t\t\t}\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t} else {\r\n \t\t\t\t\tif(options.onErrored) {\r\n \t\t\t\t\t\toptions.onErrored({\r\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\r\n \t\t\t\t\t\t\tmoduleId: moduleId,\r\n \t\t\t\t\t\t\terror: err\r\n \t\t\t\t\t\t});\r\n \t\t\t\t\t}\r\n \t\t\t\t\tif(!options.ignoreErrored) {\r\n \t\t\t\t\t\tif(!error)\r\n \t\t\t\t\t\t\terror = err;\r\n \t\t\t\t\t}\r\n \t\t\t\t}\r\n \t\t\t}\r\n \t\t}\r\n \t\r\n \t\t// handle errors in accept handlers and self accepted module load\r\n \t\tif(error) {\r\n \t\t\thotSetStatus(\"fail\");\r\n \t\t\treturn Promise.reject(error);\r\n \t\t}\r\n \t\r\n \t\thotSetStatus(\"idle\");\r\n \t\treturn new Promise(function(resolve) {\r\n \t\t\tresolve(outdatedModules);\r\n \t\t});\r\n \t}\r\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(3)(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2f6485c94bd4a621f401","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 0\n// module chunks = 0","/**\r\n * This EmojiArea is rewritten from ground up an based on the code from Brian Reavis <brian@diy.org>\r\n *\r\n * @author Wolfgang Stttinger\r\n */\r\nimport $ from 'jquery';\r\nimport EmojiPicker from 'EmojiPicker';\r\nimport Emoji from 'EmojiUtil'\r\n\r\nexport default class EmojiArea {\r\n\r\n  constructor(emojiArea, options) {\r\n    this.o = $.extend({}, EmojiArea.DEFAULTS, options);\r\n    this.$ea = $(emojiArea);\r\n\r\n    var $emojitarget = $(options.input);                                    /* #31768 */\r\n    this.$ti = $emojitarget;                                                /* #31768 */\r\n\r\n    this.$b = this.$ea.find(options.buttonSelector)\r\n      .on('click', this.togglePicker.bind(this));\r\n\r\n    this.$e = this.$ti;\r\n    this.$ti.on(options.inputEvent, this.processTextContent.bind(this));\r\n\r\n    this.processTextContent();\r\n\r\n    const v = this.$ti.val();\r\n // console.log(this.$ti,options.input);\r\n    this.$ti[0].setSelectionRange(v.length, v.length);\r\n    this.textSel = { start: v.length, end: v.length };\r\n\r\n    this.$e\r\n      .focusout(this.saveSelection.bind(this))\r\n      .focus(this.restoreSelection.bind(this));\r\n    // $(document.body).on('mousedown', this.saveSelection.bind(this));\r\n  }\r\n\r\n  //\r\n  // Clipboard handling\r\n  //\r\n\r\n  // noinspection JSMethodCanBeStatic\r\n  clipboardCopy(e) {\r\n    // only allow plain text copy:\r\n    const cbd = e.originalEvent.clipboardData || window.clipboardData;\r\n    const content = window.getSelection().toString();\r\n    window.clipboardData ? cbd.setData('text', content) : cbd.setData('text/plain', content);\r\n    e.preventDefault();\r\n  }\r\n\r\n  clipboardPaste(e) {\r\n    // only allow to paste plain text\r\n    const cbd = e.originalEvent.clipboardData || window.clipboardData;\r\n    const content = window.clipboardData ? cbd.getData('text') : cbd.getData('text/plain');\r\n\r\n    if (!document.execCommand('insertText', false, content)) {\r\n      this.saveSelection();\r\n      const range = this.htmlSel;\r\n      const insert = document.createTextNode(content);\r\n      range.deleteContents();\r\n      range.insertNode(insert);\r\n      range.setStartAfter(insert);\r\n      range.setEndAfter(insert);\r\n      setTimeout(this.onInput.bind(this), 0);\r\n    }\r\n    e.preventDefault();\r\n  }\r\n\r\n  //\r\n  // Selection handling\r\n  //\r\n  saveSelection() {\r\n    const e = this.$e[0];\r\n    // for unicode mode, the textarea itself:\r\n    if (this.$e === this.$ti && e.selectionStart && e.selectionEnd) {\r\n      this.textSel = { start: e.selectionStart, end: e.selectionEnd };\r\n    } else {\r\n      const sel = window.getSelection();\r\n      if (sel.focusNode && (sel.focusNode === e || sel.focusNode.parentNode === e)) {\r\n        this.htmlSel = sel.getRangeAt(0);\r\n      }\r\n    }\r\n  }\r\n\r\n  restoreSelection(event, hSel = this.htmlSel, tSel = this.textSel) {\r\n    if (hSel) {\r\n      const s = window.getSelection();\r\n      s.removeAllRanges();\r\n      s.addRange(hSel);\r\n    } else if (tSel) {\r\n      if (!event || event.type !== 'focus') {\r\n        this.$ti[0].focus();\r\n      }\r\n      this.$ti[0].setSelectionRange(tSel.start, tSel.end);\r\n    }\r\n  }\r\n\r\n  replaceSelection(content, hSel = this.htmlSel, tSel = this.textSel) {\r\n    this.restoreSelection(null, hSel, tSel);\r\n    if (hSel) {\r\n      if (!document.execCommand('insertHTML', false, content)) {\r\n        // let insert = $.parseHTML(content)[0];\r\n        // insert = document.importNode(insert, true); // this is necessary for IE\r\n        hSel.deleteContents();\r\n        const insert = hSel.createContextualFragment(content);\r\n        hSel.insertNode(insert);\r\n        hSel.collapse(false);\r\n        // hSel.setStartAfter(insert.lastChild);\r\n        // hSel.setEndAfter(insert.lastChild);\r\n        return insert;\r\n      }\r\n      return true;\r\n    }\r\n    else if (tSel) {\r\n      if (!document.execCommand('insertText', false, content)) {\r\n        let val = this.$e.val();\r\n        this.$e.val(val.slice(0, tSel.start) + content + val.slice(tSel.end));\r\n        tSel.start = tSel.end = tSel.start + content.length;\r\n        this.$ti[0].setSelectionRange(tSel.start, tSel.end);\r\n      }\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  onInput(event) {\r\n    if (!event || (event.originalEvent && event.originalEvent.inputType !== 'historyUndo')) {\r\n      this.processContent();\r\n      this.updateInput();\r\n    }\r\n  }\r\n\r\n  onKey(e) {\r\n    if (e.originalEvent.keyCode === 13) { // catch enter and just insert <br>\r\n      this.saveSelection();\r\n      this.replaceSelection('<br>');\r\n\r\n      if (this.$e[0].lastChild.nodeName !== 'BR') {\r\n        this.$e.append('<br>'); // this is necessary to render correctly.\r\n      }\r\n\r\n      e.stopPropagation();\r\n      return false;\r\n    }\r\n  }\r\n\r\n  updateInput() {\r\n    this.$ti.val(this.$e[0].innerText || this.$e[0].textContent);\r\n    this.$ti.trigger(this.o.inputEvent);\r\n  }\r\n\r\n  processTextContent(event) {\r\n    if (!event || (event.originalEvent && event.originalEvent.inputType !== 'historyUndo')) {\r\n      let val = this.$ti.val();\r\n  //    let parsed = this.replaceAscii(val);\r\n  //    parsed = this.replaceAliases(parsed);\r\n  //    if (parsed !== val) {\r\n  //      const sel = parsed.length - (val.length - this.$ti[0].selectionEnd);\r\n  //      this.$ti.val(parsed);\r\n  //      this.$ti[0].setSelectionRange(sel, sel);\r\n  //      this.textSel = { start: sel, end: sel };\r\n  //      this.$ti\r\n  //        .focus()\r\n  //        .trigger(this.o.inputEvent);\r\n  //    }\r\n    }\r\n  }\r\n\r\n  processContent() {\r\n    this.saveSelection();\r\n    this._processElement(this.$e);\r\n    if (this.$e[0].lastChild.nodeName !== 'BR') {\r\n      this.$e.append('<br>'); // this is necessary to render correctly.\r\n    }\r\n  }\r\n\r\n  _processElement(element = this.$e) {\r\n    // this is a bit more complex because\r\n    //  a) only text nodes should be replaced\r\n    //  b) the cursor position should be kept after an alias is replaced\r\n\r\n    element.contents().each((i, e) => {\r\n      if (e.nodeType === 1 || e.nodeType === 11) { // element or document fragment\r\n        const $e = $(e);\r\n        if (!$e.is('.emoji')) // skip emoji\r\n        {\r\n          this._processElement($e);\r\n        }\r\n      }\r\n      else if (e.nodeType === 3) { // text node\r\n        // replace unicodes\r\n //       let parsed = e.nodeValue;\r\n\r\n //       if (this.o.type !== 'unicode') { //convert existing unicodes\r\n //         parsed = this.replaceUnicodes(parsed);\r\n //       }\r\n\r\n //       parsed = this.replaceAscii(parsed);\r\n //       parsed = this.replaceAliases(parsed);\r\n\r\n //       if (parsed !== e.nodeValue) {\r\n //         const isSelected = (this.htmlSel && this.htmlSel.endContainer === e);\r\n //         const range = isSelected ? this.htmlSel : document.createRange();\r\n //         const caret = this.htmlSel ? e.nodeValue.length - this.htmlSel.endOffset : 0;\r\n //         const next = e.nextSibling;\r\n //         range.selectNode(e);\r\n //         this.replaceSelection(parsed, range, null);\r\n //         if (isSelected) {\r\n //           if (next.previousSibling) {\r\n //             const inserted = next.previousSibling;\r\n //             range.setStart(inserted, inserted.length - caret);\r\n //             range.setEnd(inserted, inserted.length - caret);\r\n              //this.htmlSel.setStartAfter(content[content.length - 1]);\r\n              //this.htmlSel.collapse(false);\r\n //           }\r\n //           else {\r\n //             range.setStartBefore(this.$e[0].lastChild);\r\n //             range.setEndBefore(this.$e[0].lastChild);\r\n //           }\r\n //         }\r\n //       }\r\n      }\r\n    });\r\n  }\r\n\r\n  //replaceUnicodes(text) {\r\n  //  return text.replace(this.o.unicodeRegex, (match, unicode) => {\r\n  //    return Emoji.checkUnicode(unicode)\r\n  //      ? EmojiArea.createEmoji(null, this.o, unicode)\r\n  //      : unicode;\r\n  //  });\r\n  //}\r\n\r\n  //replaceAscii(text) {\r\n  //  return text.replace(this.o.asciiRegex, (match, ascii) => {\r\n  //    if (Emoji.checkAscii(ascii)) {\r\n  //      const alias = Emoji.aliasFromAscii(ascii);\r\n  //      if (alias) {\r\n  //        return EmojiArea.createEmoji(alias, this.o);\r\n  //      }\r\n  //    }\r\n  //    return ascii + ' ';\r\n  //  });\r\n  //}\r\n\r\n  //replaceAliases(text) {\r\n  //  return text.replace(this.o.aliasRegex, (match, alias) => {\r\n  //    return Emoji.checkAlias(alias)\r\n  //      ? EmojiArea.createEmoji(alias, this.o)\r\n  //      : ':' + alias + ':';\r\n  //  });\r\n  //}\r\n\r\n  togglePicker() {\r\n    const delegate = (this.picker || EmojiPicker);\r\n    if (!delegate.isVisible()) {\r\n      const cbtest = 1;\r\n//      this.picker = delegate.show(cbtest, this.$b, this.o);  //ERROR\r\n      this.picker = delegate.show(this.insert.bind(this), this.$b, this.o);  //ERROR\r\n    } else {\r\n      delegate.hide();\r\n    }\r\n    return false;\r\n  }\r\n\r\n  insert(alias) {\r\n//    const content = EmojiArea.createEmoji(alias, this.o);\r\n    if (!this.replaceSelection(alias)) {\r\n      this.$e.append(alias)\r\n        .focus()\r\n        .trigger(this.o.inputEvent);\r\n    }\r\n  }\r\n\r\n  static createEmoji(alias, options = EmojiArea.DEFAULTS, unicode) {\r\n    if (!alias && !unicode) {\r\n      return;\r\n    }\r\n    return alias;\r\n //   alias = alias || Emoji.aliasFromUnicode(unicode);\r\n //   unicode = unicode || Emoji.unicodeFromAlias(alias);\r\n //   return unicode\r\n //     ? unicode\r\n //     : alias;\r\n  }\r\n\r\n  static generateEmojiTag(unicode, alias) {\r\n    throw new Error('CSS emoji are not supported.');\r\n    return '<i class=\"emoji emoji-' + alias + '\" contenteditable=\"false\">' + unicode + '</i>';\r\n  }\r\n\r\n  static generateEmojiImg(unicode, alias, options = EmojiArea.DEFAULTS) {\r\n    throw new Error('Image emoji are not supported.');\r\n  }\r\n}\r\n\r\nEmojiArea.DEFAULTS = {\r\n  aliasRegex: /:([a-z0-9_]+?):/g, //deprecated, colon aliased not supported in unicode mode\r\n  asciiRegex: /([\\/<:;=8>(][()D3opPy*>\\/\\\\|-]+) /g,\r\n  unicodeRegex: /([\\u{1f300}-\\u{1f5ff}\\u{1f900}-\\u{1f9ff}\\u{1f600}-\\u{1f64f}\\u{1f680}-\\u{1f6ff}\\u{2600}-\\u{26ff}\\u{2700}-\\u{27bf}\\u{1f1e6}-\\u{1f1ff}\\u{1f191}-\\u{1f251}\\u{1f004}\\u{1f0cf}\\u{1f170}-\\u{1f171}\\u{1f17e}-\\u{1f17f}\\u{1f18e}\\u{3030}\\u{2b50}\\u{2b55}\\u{2934}-\\u{2935}\\u{2b05}-\\u{2b07}\\u{2b1b}-\\u{2b1c}\\u{3297}\\u{3299}\\u{303d}\\u{00a9}\\u{00ae}\\u{2122}\\u{23f3}\\u{24c2}\\u{23e9}-\\u{23ef}\\u{25b6}\\u{23f8}-\\u{23fa}])/ug,\r\n  inputSelector: 'input:text, textarea',\r\n  buttonSelector: '>.emoji-button',\r\n  inputEvent: /Trident/.test(navigator.userAgent) ? 'textinput' : 'input',\r\n  keyEvent: 'keypress',\r\n  anchorAlignment: 'left', // can be left|right\r\n  anchorOffsetX: -5,\r\n  anchorOffsetY: 5,\r\n  type: 'unicode', // deprecated, unicode is the only supported mode\r\n  iconSize: 25, // deprecated, not supported in unicode mode\r\n  assetPath: '', // deprecated, not supported in unicode mode\r\n  textClipboard: true,\r\n  globalPicker: true,\r\n  hideOnSelect: true,\r\n  pickerShrink: false,\r\n  heightSmall:    110,\r\n  heightBig:      248,\r\n  pickerWidth:    280,\r\n  tabPaneSmall:   67,\r\n};\r\n\r\nEmojiArea.AUTOINIT = true;\r\nEmojiArea.INJECT_STYLES = false; // only makes sense when EmojiArea.type != 'unicode'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/EmojiArea.js","/**\r\n * The EmojiUtil contains all functionality for handling emoji data and groups, but no html specific stuff.\r\n *\r\n * @author Wolfgang Stttinger\r\n */\r\n\r\n//import Data from 'EmojiData';\r\n\r\nexport default class EmojiUtil {\r\n  constructor() {\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  static  initialize() {\r\n    EmojiUtil.aliases = {};\r\n    EmojiUtil.unicodes = {};\r\n    EmojiUtil.groups = {};\r\n    EmojiUtil.filters = {};\r\n    EmojiUtil.keywords = {};\r\n    EmojiUtil.mode = {};\r\n    EmojiUtil.arrfil = [];\r\n    var path = document.location;\r\n    var curLang = document.documentElement.lang;\r\n    if(curLang.length==2){\r\n      curLang='en-US';\r\n    }\r\n    var   fullPath = path.origin + '/sk.ru/www/emoji/groups.en-US.json';  //    $.getJSON('./../../sk.ru/www/emoji/groups.en-US.json'\r\n    EmojiUtil.syncJSON(\"./groups.ru-RU.json\", function (msg) {\r\n      EmojiUtil.groups = msg.groups;\r\n      EmojiUtil.filters = msg.filters;\r\n      EmojiUtil.mode = msg.mode;\r\n    });\r\n\r\n //   for (let key in EmojiUtil.groups) {\r\n      //   alert( key );  // name, age, isAdmin\r\n      //   alert(EmojiUtil.groups['smileys_emotion']['l']['face_affection'].i);\r\n//    }\r\n  }\r\n\r\n  static syncJSON(url, callback) {\r\n    $.ajax({\r\n      type: \"POST\",\r\n      async: false,\r\n      url: url,\r\n      contentType: \"application/json\",\r\n      dataType: \"json\",\r\n      success: function (msg) { callback(msg) },\r\n      error: function (msg) { alert('error : reading JSON file!!!!'); }\r\n    });\r\n  }\r\n\r\n  static checkAlias(alias) {\r\n    return EmojiUtil.aliases.hasOwnProperty(alias);\r\n  }\r\n\r\n  static checkUnicode(alias) {\r\n    return EmojiUtil.unicodes.hasOwnProperty(alias);\r\n  }\r\n\r\n  static checkAscii(ascii) {\r\n    return EmojiUtil.ascii.hasOwnProperty(ascii);\r\n  }\r\n\r\n  /**\r\n   * @param alias\r\n   * @param groupData if true returns an array including groupId, Col# and Row# of the Emoji\r\n   * @returns {*}\r\n   */\r\n  static dataFromAlias(alias, groupData = false) {\r\n    const key = EmojiUtil.aliases[alias];\r\n    const data = EmojiUtil.data[key];\r\n    if (!groupData || data[2]) // if group is set\r\n      return data;\r\n\r\n    for (let g = 0; g < EmojiUtil.groups.length; g++) {\r\n      const group = EmojiUtil.groups[g];\r\n      const d = group.dimensions;\r\n      const pos = $.inArray(key, group.items);\r\n      if (pos >= 0) {\r\n        data[2] = g; // group\r\n        data[3] = pos % d[0]; // column\r\n        data[4] = pos / d[0] | 0; // row\r\n        data[5] = d; // sprite dimensions\r\n        return data;\r\n      }\r\n    }\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param alias\r\n   * @returns {*}\r\n   */\r\n  static unicodeFromAlias(alias) {\r\n    if (alias) {\r\n      const key = EmojiUtil.aliases[alias];\r\n      const emojiData = EmojiUtil.data[key];\r\n      if (emojiData && emojiData[EmojiUtil.EMOJI_UNICODE])\r\n        return emojiData[EmojiUtil.EMOJI_UNICODE][0];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static unicodeFromAscii(ascii) {\r\n    return EmojiUtil.unicodeFromAlias(EmojiUtil.aliasFromAscii(ascii));\r\n  }\r\n\r\n  static aliasFromUnicode(unicode) {\r\n    if (unicode) {\r\n      const key = EmojiUtil.unicodes[unicode];\r\n      const emojiData = EmojiUtil.data[key];\r\n      if (emojiData && emojiData[EmojiUtil.EMOJI_ALIASES])\r\n        return emojiData[EmojiUtil.EMOJI_ALIASES];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static aliasFromAscii(ascii) {\r\n    return EmojiUtil.ascii[ascii] || null;\r\n  }\r\n\r\n}\r\n/*\r\nEmojiUtil.data = Data.data;\r\nEmojiUtil.groups = Data.groups;\r\nEmojiUtil.ascii = Data.ascii;\r\n\r\nEmojiUtil.EMOJI_UNICODE = 0;\r\nEmojiUtil.EMOJI_ALIASES = 1;\r\n*/\r\n\r\nEmojiUtil.EMOJI_ICON      = 'i';\r\nEmojiUtil.EMOJI_NAME      = 'n';\r\nEmojiUtil.EMOJI_MODIFIER  = 'm';\r\nEmojiUtil.EMOJI_KEYWORD   = 'k';\r\nEmojiUtil.EMOJI_LIST      = 'l';\r\n\r\n//-----------------------------------------------------------------------------------------\r\n\r\nEmojiUtil.initialize();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/EmojiUtil.js","/**\n * This is the entry point for the library\n *\n * @author Wolfgang Stttinger\n */\n\nimport $ from 'jquery';\nimport generatePlugin from './generate-plugin';\nimport EmojiArea from 'EmojiArea';\n\ngeneratePlugin('smartemoji', EmojiArea);\n\n/**\n * call auto initialization.\n */\n$(() => {\n  //noinspection JSUnresolvedFunction\n  $('[data-emojiarea]').smartemoji();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/jquery.smartemoji.js","import $ from 'jquery';\r\n\r\n/**\r\n * Generate a jQuery plugin\r\n * @param pluginName [string] Plugin name\r\n * @param className [object] Class of the plugin\r\n * @param shortHand [bool] Generate a shorthand as $.pluginName\r\n *\r\n * @example\r\n * import plugin from 'plugin';\r\n *\r\n * class MyPlugin {\r\n *     constructor(element, options) {\r\n *         // ...\r\n *     }\r\n * }\r\n *\r\n * MyPlugin.DEFAULTS = {};\r\n *\r\n * plugin('myPlugin', MyPlugin');\r\n */\r\nexport default function generatePlugin(pluginName, className, shortHand = false) {\r\n  let instanceName = `__${pluginName}`;\r\n  let old = $.fn[pluginName];\r\n\r\n  $.fn[pluginName] = function (option) {\r\n    return this.each(function () {\r\n      const $this = $(this);\r\n      let instance = $this.data(instanceName);\r\n\r\n      if (!instance && option !== 'destroy') {\r\n        const options = $.extend({}, className.DEFAULTS, $this.data(), typeof option === 'object' && option);\r\n        $this.data(instanceName, (instance = new className(this, options)));\r\n      }\r\n      else { //noinspection JSUnresolvedVariable\r\n        if (typeof instance.configure === 'function') {\r\n                //noinspection JSUnresolvedFunction\r\n                instance.configure(options);\r\n              }\r\n      }\r\n\r\n      if (typeof option === 'string') {\r\n        if (option === 'destroy') {\r\n          instance.destroy();\r\n          $this.data(instanceName, false);\r\n        } else {\r\n          instance[option]();\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // - Short hand\r\n  if (shortHand) {\r\n    $[pluginName] = (options) => $({})[pluginName](options);\r\n  }\r\n\r\n  // - No conflict\r\n  $.fn[pluginName].noConflict = () => $.fn[pluginName] = old;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/generate-plugin.js","/**\r\n * Emoji Picker (Dropdown) can work as global singleton (one dropdown for all inputs on the page)\r\n * or with separate instances (and settings) for each input.\r\n *\r\n * @author Wolfgang Stttinger\r\n */\r\nimport $ from 'jquery';\r\nimport EmojiArea from 'EmojiArea';\r\nimport Emoji from 'EmojiUtil';\r\n\r\nexport default class EmojiPicker {\r\n\r\n  constructor(options = EmojiArea.DEFAULTS) {\r\n    this.o = options;\r\n    const $body = $(document.body);\r\n    $body.on('keydown', (e) => { if (e.keyCode === KEY_ESC || e.keyCode === KEY_TAB) this.hide(); });\r\n    $body.on('click', () => { this.hide(); });\r\n    $(window).on('resize', () => { if (this.$p.is(':visible')) { this.hide(); }});\r\n\r\n    var $emojidiv =  $(options.input).parents('form').find('.emoji-wrapper').attr('id');        /* #31768 */\r\n    var ifPickerExist = $(options.input).parents('form').find('.emoji-picker').attr('class');\r\n    if (!ifPickerExist) {\r\n        this.$p = $('<div>')\r\n        .addClass('emoji-picker')\r\n        .attr('data-picker-type', options.type) // $.data() here not possible, doesn't change dom\r\n        .on('mouseup click', (e) => e.stopPropagation() && false)\r\n        .hide()\r\n        .appendTo('#'+$emojidiv);\r\n    }\r\n\r\n    const tabs = this.loadPicker(options);\r\n    setTimeout(this.loadEmojis.bind(this, tabs), 300);\r\n  }\r\n\r\n  loadPicker(options) {\r\n    const ul = $('<ul>')\r\n      .addClass('emoji-selector nav nav-tabs');\r\n    const tabs = $('<div>')\r\n      .addClass('tab-content');\r\n\r\n    for (let g in Emoji.groups) {   // g - key of the Emoji.groups\r\n      const group = Emoji.groups[g];\r\n      const id = 'group_' + g;\r\n      const gid = '#' + id;\r\n      const a = $('<a>')\r\n        .html(Emoji.groups[g].i)\r\n        .data('toggle', 'tab')\r\n        .attr('title',group.n)\r\n        .attr('href', gid);\r\n      ul.append($('<li>').append(a));\r\n      const tab = $('<div>')\r\n        .attr('id', id)\r\n        .addClass('emoji-group tab-pane active')  //#31768 Add active class to all firstly\r\n        .data('group', g);\r\n\r\n      a.on('click', (e) => {\r\n        $('.tab-pane').not(tab).hide().removeClass('active');\r\n        //       if (options.pickerShrink){\r\n//           tab.css({\r\n//              height: options.tabPaneSmall + \"px\",\r\n//            });\r\n//        }\r\n        const drop = $('.emoji-dropup');\r\n        if('group_people_body'===id){\r\n          drop.show();\r\n        } else {\r\n          drop.hide();\r\n        }\r\n        tab.addClass('active').show();\r\n        e.preventDefault();\r\n      });\r\n      tabs.append(tab);\r\n    }\r\n//  emoji filters------------------------------------------------\r\n    const filters = $('<div>')\r\n      .addClass('emoji-filters');\r\n\r\n    for (let f in Emoji.filters) {   // f - key of the Emoji.filters\r\n      const dropup = $('<div>')\r\n        .addClass('emoji-dropup');\r\n      const dropbtn = $('<div>')\r\n        .addClass('emoji-dropbtn')\r\n        .html(Emoji.filters[f].i)\r\n        .attr('mode','99999')\r\n        .attr('id', f);\r\n      dropup.append(dropbtn);\r\n      const dropcont = $('<div>')\r\n        .addClass('emoji-dropup-content');\r\n      Emoji.arrfil[f]='';\r\n      for (let em in Emoji.filters[f]['l']) {\r\n        const a = $('<a>')\r\n          .html(Emoji.filters[f]['l'][em].i)\r\n          .attr('title', Emoji.filters[f]['l'][em].n)\r\n          .attr('mode', Emoji.filters[f]['l'][em].m);\r\n        a.on('click', (e) => {\r\n          if(a.attr('mode').indexOf('00000')+1){\r\n            dropbtn.html(dropbtn.attr('mode'));\r\n            dropbtn.attr('title', '');\r\n            dropbtn.attr('mode', '99999');\r\n          }else{\r\n            if(dropbtn.attr('mode')=='99999') {\r\n              dropbtn.attr('mode', dropbtn.html());\r\n            }\r\n            dropbtn.html(a.html());\r\n            dropbtn.attr('title', a.attr('title'));\r\n//            dropbtn.attr('mode', a.attr('mode'));\r\n            dropcont.hide();\r\n            dropcont.css(\"display\",\"\");\r\n//--------------------------------------\r\n            //          const tabAct = $('.emoji-group tab-pane active');\r\n            //          for( let el in tabAct.children() ){\r\n            //            const $emode = $(el);\r\n            //            $emode.html()\r\n            //          }\r\n\r\n //           let group = Emoji.groups['people_body'];\r\n//            let tab = tabs[i];\r\n//            for (let sg in group[Emoji.EMOJI_LIST]) {\r\n//              for (let emo in group[Emoji.EMOJI_LIST][sg][Emoji.EMOJI_LIST]) {\r\n//                let emojiobj = group[Emoji.EMOJI_LIST][sg][Emoji.EMOJI_LIST][emo];\r\n\r\n//                let emojiElem = $('<a>')\r\n//                  .data('emoji', emo)\r\n                  //            .html(EmojiArea.createEmoji(emo, this.o))\r\n//                  .html(emo)\r\n//                  .attr('title',emojiobj.n)\r\n//                  .on('click', () => {this.insertEmoji(emo, this.o)});\r\n//                $(tab).append(emojiElem);\r\n//              }\r\n//            }\r\n//-------------------------------------\r\n          }\r\n          if (a.attr('mode')=== '00000') {\r\n            Emoji.arrfil[f]='';\r\n          } else {\r\n            Emoji.arrfil[f]=a.attr('mode');\r\n          }\r\n          var template = '';\r\n          if (Emoji.arrfil['skin']!=='') template = template + Emoji.arrfil['skin']+'_';\r\n          if (Emoji.arrfil['hair']!=='') template = template + Emoji.arrfil['hair']+'_';\r\n          if (Emoji.arrfil['gender']!=='') template = template + Emoji.arrfil['gender']+'_';\r\n          template = template.length>0 ? template.slice(0,template.length-1): template;\r\n\r\n          $('#group_people_body a').each((i,el) => {\r\n            const $el = $(el);\r\n//            alert(i + ': ' + $el.text());\r\n            if(template!==''){\r\n              $el.text(Emoji.mode[template]['l'][$el.text()]);\r\n   //         } else {\r\n   //         $el.text(Emoji.mode[template][$el.text()]);\r\n            }\r\n          });\r\n\r\n //         element.contents().each((i, e) => {\r\n //           if (e.nodeType === 1 || e.nodeType === 11) { // element or document fragment\r\n //             const $e = $(e);\r\n //             if (!$e.is('.emoji')) // skip emoji\r\n //             {\r\n //               this._processElement($e);\r\n //             }\r\n //           }\r\n\r\n//          var taba =  tabAct.children();\r\n//          for( let el in tabAct.children() ){\r\n\r\n //           const $emode = $(el);\r\n  //          alert(el.val());\r\n  //          $emode.html()\r\n  //        }\r\n //         alert(template);\r\n          e.preventDefault();\r\n        });\r\n        dropcont.append(a);\r\n      }\r\n      dropup.append(dropcont);\r\n      filters.append(dropup);\r\n    }\r\n\r\n//-----------------------------------------------------------------\r\n    tabs.find('.tab-pane').not(':first-child').hide().removeClass('active');\r\n    this.$p.append(ul).append(tabs).append(filters);\r\n    const drop = $('.emoji-dropup');\r\n    drop.hide();\r\n    return tabs.children();\r\n  }\r\n\r\n  selectItem(mode) {\r\n    if (typeof this.cb === 'function'){\r\n      alert(mode);\r\n      this.cb(mode);\r\n    }\r\n\r\n\r\n  }\r\n\r\n  // this is to show the emojis directly\r\n  loadEmojis(tabs) {\r\n    let i=0;\r\n    for (let g in Emoji.groups) {   // g - key of the Emoji.groups\r\n      let group = Emoji.groups[g];\r\n      let tab = tabs[i];\r\n      for (let sg in Emoji.groups[g][Emoji.EMOJI_LIST]) {\r\n        for (let emo in Emoji.groups[g][Emoji.EMOJI_LIST][sg][Emoji.EMOJI_LIST]) {\r\n          let emojiobj = Emoji.groups[g][Emoji.EMOJI_LIST][sg][Emoji.EMOJI_LIST][emo];\r\n          let emojiElem = $('<a>')\r\n            .data('emoji', emo)\r\n//            .html(EmojiArea.createEmoji(emo, this.o))\r\n            .html(emo)\r\n            .attr('title',emojiobj.n)\r\n            .on('click', () => {this.insertEmoji(emo, this.o)});\r\n          $(tab).append(emojiElem);\r\n        }\r\n      }\r\n      i++;\r\n    }\r\n  }\r\n\r\n  // this is to show the subgroups\r\n//  loadEmojis(tabs) {\r\n//    let i=0;\r\n//    for (let g in Emoji.groups) {   // g - key of the Emoji.groups\r\n//      let group = Emoji.groups[g];\r\n//      let tab = tabs[i];\r\n//      for (let sg in Emoji.groups[g][Emoji.EMOJI_LIST]) {\r\n//        let subgroup = group[Emoji.EMOJI_LIST][sg];\r\n//        let emojiElem = $('<a>')\r\n//          .data('emoji', sg)\r\n//          .html(Emoji.groups[g][Emoji.EMOJI_LIST][sg].i)\r\n//          .on('click', () => {this.insertEmoji(sg, this.o)});  // ?????\r\n//        $(tab).append(emojiElem);\r\n//      }\r\n//      i++;\r\n//    }\r\n//  }\r\n\r\n  insertEmoji(emoji, options) {\r\n    if (typeof this.cb === 'function')\r\n      this.cb(emoji, options);\r\n    if (options.hideOnSelect){\r\n        this.hide();\r\n    }\r\n\r\n  }\r\n\r\n  reposition(anchor, options) {\r\n    if (!anchor || anchor.length === 0)\r\n      return;\r\n\r\n\r\n    const $anchor = $(anchor);\r\n    const pickerH = options.heightBig;\r\n    const pickerh = options.heightSmall;\r\n    const pickerW = options.pickerWidth;\r\n    var $emojwrap =  $anchor.parent();\r\n    var emojwrapOFF = $emojwrap.offset();\r\n\r\n    const winW = $(window).width();\r\n    const winH = $(window).height();\r\n\r\n    const $target = $(options.input);\r\n    var targetOFF = $target.offset();\r\n    var targetW = $target.width();\r\n    var targetH = $target.outerHeight(false);\r\n    var targetLeft = targetOFF.left;\r\n    var targetTop  = targetOFF.top;\r\n    var pickerLeft = - pickerW;\r\n\r\n    if (options.anchorButton) {\r\n        targetTop = $anchor.offset().top;\r\n        targetH = $anchor.outerHeight(false);\r\n        pickerLeft = ($emojwrap.width()-pickerW)/2;\r\n    }\r\n\r\n    var pickerTop =  targetTop + targetH - emojwrapOFF.top;\r\n\r\n    if (emojwrapOFF.left<pickerW){\r\n //       pickerLeft = - emojwrapOFF.left;  For demo page ONLY! URGENT!!\r\n    }\r\n\r\n    var toBottom =  winH - targetH - targetTop;\r\n    if (toBottom<pickerH) {\r\n       if (toBottom<pickerh) {\r\n          pickerTop = - pickerh-(emojwrapOFF.top-targetTop);\r\n       }\r\n       options.pickerShrink = true;\r\n    } else {\r\n      options.pickerShrink = false;\r\n    }\r\n\r\n    this.$p.css({\r\n        top:  pickerTop.toFixed(0)+\"px\",\r\n        left: pickerLeft.toFixed(0)+\"px\",\r\n    });\r\n    if (options.pickerShrink) {\r\n        this.$p.css({\r\n           height: options.heightSmall + \"px\",\r\n        });\r\n    } else {\r\n        this.$p.css({\r\n          height: options.heightBig + \"px\",\r\n        });\r\n    }\r\n  };\r\n\r\n  show(insertCallback, anchor, options) {\r\n    this.cb = insertCallback;\r\n    this.reposition(anchor, options);\r\n    this.$p.attr('data-picker-type', options.type); // $.data() here not possible, doesn't change dom\r\n\r\n    if (options.pickerShrink){\r\n        $('.tab-pane').css({\r\n              height: options.heightSmall-25 + \"px\",\r\n            });\r\n    } else {\r\n        $('.tab-pane').css({\r\n          height: options.heightBig-30+\"px\",\r\n        });\r\n    }\r\n\r\n    this.$p.show();\r\n    return this;\r\n  }\r\n\r\n  hide() {\r\n    this.$p.hide();\r\n  }\r\n\r\n  isVisible() {\r\n    return this.$p.is(':visible');\r\n  }\r\n}\r\n\r\nEmojiPicker.globalPicker = null;\r\n\r\nEmojiPicker.show = function (insertCallback, anchor, options = EmojiArea.DEFAULTS) {\r\n  let picker = EmojiPicker.globalPicker;\r\n  if (!options.globalPicker)\r\n    picker = new EmojiPicker(options);\r\n  if (!picker)\r\n    picker = EmojiPicker.globalPicker = new EmojiPicker(options);\r\n  picker.show(insertCallback, anchor, options);\r\n  return picker;\r\n};\r\n\r\nEmojiPicker.isVisible = function () {\r\n  return EmojiPicker.globalPicker && EmojiPicker.globalPicker.isVisible();\r\n};\r\n\r\nEmojiPicker.hide = function () {\r\n  !EmojiPicker.globalPicker || EmojiPicker.globalPicker.hide();\r\n};\r\n\r\nconst KEY_ESC = 27;\r\nconst KEY_TAB = 9;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/EmojiPicker.js"],"sourceRoot":""}