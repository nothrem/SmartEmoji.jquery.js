!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),u=i(r),s=n(5),l=i(s),c=n(2),d=i(c),f=function(){function e(t,n){o(this,e),this.o=n,this.$ea=(0,u.default)(t),this.$ti=this.$ea.find(n.inputSelector).hide(),this.$b=this.$ea.find(n.buttonSelector).on("click",this.togglePicker.bind(this)),this.$e=(0,u.default)("<div>").addClass("emoji-editor").attr("tabIndex",0).attr("contentEditable",!0).text(this.$ti.text()).on(n.inputEvent,this.onInput.bind(this)).on("copy",n.textClipboard?this.clipboardCopy.bind(this):function(){return!0}).on("paste",n.textClipboard?this.clipboardPaste.bind(this):function(){return!0}).appendTo(this.$ea),(0,u.default)(document.body).on("mousedown",this.saveSelection.bind(this)),this._processElement(this.$e)}return a(e,[{key:"clipboardCopy",value:function(e){var t=e.originalEvent.clipboardData||window.clipboardData,n=window.getSelection().toString();window.clipboardData?t.setData("text",n):t.setData("text/plain",n),e.preventDefault()}},{key:"clipboardPaste",value:function(e){var t=e.originalEvent.clipboardData||window.clipboardData,n=window.clipboardData?t.getData("text"):t.getData("text/plain");this.saveSelection(),this.selection.insertNode(document.createTextNode(n)),this.selection.collapse(!1),e.preventDefault(),setTimeout(this.onInput.bind(this),0)}},{key:"saveSelection",value:function(e){if(!e||e.target!==this.$e[0]){var t=window.getSelection();!t.focusNode||t.focusNode!==this.$e[0]&&t.focusNode.parentNode!==this.$e[0]||(this.selection=t.getRangeAt(0))}}},{key:"restoreSelection",value:function(){var e=this.selection;if(e){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}return e}},{key:"replaceSelection",value:function(e){var t=this.restoreSelection();if(t){var n=u.default.parseHTML(e)[0];return n=document.importNode(n,!0),t.deleteContents(),t.insertNode(n),t.selectNode(n),t.collapse(!1),!0}return!1}},{key:"onInput",value:function(){this.processContent(),this.updateInput()}},{key:"updateInput",value:function(){this.$ti.val(this.$e.text()),this.$ti.trigger(this.o.inputEvent)}},{key:"togglePicker",value:function(e){return this.picker&&this.picker.isVisible()?this.picker.hide():this.picker=l.default.show(this.insert.bind(this),this.$b,this.o),e.stopPropagation(),!1}},{key:"insert",value:function(t){var n=e.createEmoji(t,this.o);this.replaceSelection(n)||this.$e.append(n),this.$e.focus().trigger(this.o.inputEvent)}},{key:"processContent",value:function(){this.saveSelection(),this._processElement(this.$e)}},{key:"_processElement",value:function(){var t=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$e).contents().each(function(n,i){if(1===i.nodeType||11===i.nodeType){var o=(0,u.default)(i);o.is(".emoji")||t._processElement(o)}else if(3===i.nodeType){var a=i.nodeValue;if("unicode"!==t.o.type&&(a=a.replace(t.o.unicodeRegex,function(n,i){return d.default.checkUnicode(i)?e.createEmoji(null,t.o,i):i})),(a=a.replace(t.o.emojiRegex,function(n,i){return d.default.checkAlias(i)?e.createEmoji(i,t.o):":"+i+":"}))!==i.nodeValue){var r=u.default.parseHTML(a),s=t.selection&&t.selection.endContainer===i;(0,u.default)(i).before(r).remove();var l=r.filter(function(e){return 3!==e.nodeType})[0];s&&l&&(t.selection.selectNode(l),t.selection.collapse(!1))}}})}}],[{key:"createEmoji",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DEFAULTS,i=arguments[2];if(t||i)return t=t||d.default.aliasFromUnicode(i),i=i||d.default.unicodeFromAlias(t),i?"unicode"===n.type?i:"css"===n.type?e.generateEmojiTag(i,t):e.generateEmojiImg(i,t,n):t}},{key:"generateEmojiTag",value:function(e,t){return'<i class="emoji emoji-'+t+'" contenteditable="false">'+e+"</i>"}},{key:"generateEmojiImg",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULTS,o=d.default.dataFromAlias(n,!0),a=d.default.groups[o[2]],r=o[5],u=i.iconSize||25,s="background: url('"+i.assetPath+"/"+a.sprite+"') "+-u*o[3]+"px "+-u*o[4]+"px no-repeat; background-size: "+r[0]*u+"px "+r[1]*u+"px;";return'<i class="emoji emoji-'+n+' emoji-image" contenteditable="false"><img src="'+i.assetPath+'/blank.gif" style="'+s+'" alt="'+t+'" contenteditable="false"/>'+t+"</i>"}}]),e}();t.default=f,f.DEFAULTS={emojiRegex:/:([a-z0-9_]+?):/g,unicodeRegex:null,inputSelector:"input:text, textarea",buttonSelector:">.emoji-button",inputEvent:/Trident/.test(navigator.userAgent)?"textinput":"input",pickerAnchor:"left",type:"css",iconSize:25,assetPath:"../images",textClipboard:!0,globalPicker:!0},f.AUTOINIT=!0,f.INJECT_STYLES=!0},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Data={};var o=function(){function t(){n(this,t)}return i(t,null,[{key:"initialize",value:function(){t.aliases={},t.unicodes={};for(var e=Object.keys(t.data),n=0;n<e.length;n++){var i=e[n],o=t.data[i];if(o){var a=o[t.EMOJI_UNICODE];t.aliases[o[t.EMOJI_ALIASES]]=i,t.unicodes[a]=i,a.length<=2&&(t.unicodes[a+t.MODIFIER_TEXT]=i,t.unicodes[a+t.MODIFIER_EMOJI]=i,t.MODIFIER&&(o[t.EMOJI_UNICODE]=a+t.MODIFIER))}}}},{key:"checkAlias",value:function(e){return t.aliases.hasOwnProperty(e)}},{key:"checkUnicode",value:function(e){return t.unicodes.hasOwnProperty(e)}},{key:"dataFromAlias",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.aliases[n],a=t.data[o];if(!i||a[2])return a;for(var r=0;r<t.groups.length;r++){var u=t.groups[r],s=u.dimensions,l=e.inArray(o,u.items);if(l>=0)return a[2]=r,a[3]=l%s[0],a[4]=l/s[0]|0,a[5]=s,a}return a}},{key:"unicodeFromAlias",value:function(e){if(e){var n=t.aliases[e],i=t.data[n];if(i&&i[t.EMOJI_UNICODE])return i[t.EMOJI_UNICODE]}return null}},{key:"unicodeFromAscii",value:function(e){return t.unicodeFromAlias(t.aliasFromAscii(e))}},{key:"aliasFromUnicode",value:function(e){if(e){var n=t.unicodes[e],i=t.data[n];if(i&&i[t.EMOJI_ALIASES])return i[t.EMOJI_ALIASES]}return null}},{key:"aliasFromAscii",value:function(e){return t.ascii[e]||null}}]),t}();t.default=o,o.data=Data.data,o.groups=Data.groups,o.ascii=Data.ascii,o.EMOJI_UNICODE=0,o.EMOJI_ALIASES=1,o.MODIFIER_TEXT="︎",o.MODIFIER_EMOJI="️",o.MODIFIER=o.MODIFIER_EMOJI,o.initialize()}).call(t,n(0))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=n(0),a=i(o),r=n(4),u=i(r),s=n(1),l=i(s);(0,u.default)("emojiarea",l.default),(0,a.default)(function(){l.default.AUTOINIT&&(0,a.default)("[data-emojiarea]").emojiarea(),l.default.INJECT_STYLES})},function(e,t,n){"use strict";function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="__"+e,a=r.default.fn[e];r.default.fn[e]=function(e){return this.each(function(){var n=(0,r.default)(this),a=n.data(i);if(a||"destroy"===e)"function"==typeof a.configure&&a.configure(options);else{var u=r.default.extend({},t.DEFAULTS,n.data(),"object"===(void 0===e?"undefined":o(e))&&e);n.data(i,a=new t(this,u))}"string"==typeof e&&("destroy"===e?(a.destroy(),n.data(i,!1)):a[e]())})},n&&(r.default[e]=function(t){return(0,r.default)({})[e](t)}),r.default.fn[e].noConflict=function(){return r.default.fn[e]=a}}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i;var a=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(0),s=i(u),l=n(1),c=i(l),d=n(2),f=i(d),p=function(){function e(t){var n=this;a(this,e),this.o=t;var i=(0,s.default)(document.body);i.on("keydown",function(e){e.keyCode!==h&&e.keyCode!==v||n.hide()}),i.on("click",function(){n.hide()}),(0,s.default)(window).on("resize",function(){n.$p.is(":visible")&&n.reposition()}),this.$p=(0,s.default)("<div>").addClass("emoji-picker").on("mouseup click",function(e){return e.stopPropagation()&&!1}).hide().appendTo(i);var o=this.loadPicker();setTimeout(this.loadEmojis.bind(this,o),100)}return r(e,[{key:"loadPicker",value:function(){for(var e=this,t=(0,s.default)("<ul>").addClass("emoji-selector nav nav-tabs"),n=(0,s.default)("<div>").addClass("tab-content"),i=0;i<f.default.groups.length;i++)!function(i){var o=f.default.groups[i],a="group_"+o.name,r="#"+a,u=(0,s.default)("<a>").html(c.default.createEmoji(o.name,e.o)).data("toggle","tab").attr("href",r);t.append((0,s.default)("<li>").append(u));var l=(0,s.default)("<div>").attr("id",a).addClass("emoji-group tab-pane").data("group",o.name);u.on("click",function(e){(0,s.default)(".tab-pane").not(l).hide().removeClass("active"),l.addClass("active").show(),e.preventDefault()}),n.append(l)}(i);return n.find(".tab-pane").not(":first-child").hide().removeClass("active"),this.$p.append(t).append(n),n.children()}},{key:"loadEmojis",value:function(e){for(var t=this,n=0;n<f.default.groups.length;n++)for(var i=f.default.groups[n],o=e[n],a=0;a<i.items.length;a++){var r=i.items[a];f.default.data.hasOwnProperty(r)&&function(){var e=f.default.data[r][f.default.EMOJI_ALIASES]||"",n=(0,s.default)("<a>").data("emoji",e).html(c.default.createEmoji(e,t.o)).on("click",function(){t.insertEmoji(e)});(0,s.default)(o).append(n)}()}}},{key:"insertEmoji",value:function(e){"function"==typeof this.cb&&this.cb(e,this.o),this.hide()}},{key:"reposition",value:function(){if(this.anchor&&0!==this.anchor.length){var e=(0,s.default)(this.anchor),t=e.offset();this.$p.css(o({top:t.top+this.anchor.outerHeight()},this.anchorPosition,t.left))}}},{key:"show",value:function(e,t,n){this.cb=e,this.anchor=t,this.anchorPosition="right"!==n?"left":"right",this.reposition(),this.$p.show()}},{key:"hide",value:function(){this.$p.hide()}},{key:"isVisible",value:function(){return this.$p.is(":visible")}}]),e}();t.default=p,p.show=function(){var e=null;return function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.DEFAULTS,o=e;return i.globalPicker||(o=new p(i)),o||(o=e=new p(i)),o.show(t,n,i.anchorPosition),o}}();var h=27,v=9}]);