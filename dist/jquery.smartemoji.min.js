var SmartEmoji=function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),u=i(o),l=n(5),s=i(l),d=n(2),f=(i(d),function(){function e(t,n){a(this,e),this.o=u.default.extend({},e.DEFAULTS,n),this.$ea=(0,u.default)(t);var i=(0,u.default)(n.input);this.$ti=i,this.$b=this.$ea.find(n.buttonSelector).on("click",this.togglePicker.bind(this)),this.$e=this.$ti,this.$ti.on(n.inputEvent,this.processTextContent.bind(this)),this.processTextContent();var r=this.$ti.val();this.$ti[0].setSelectionRange(r.length,r.length),this.textSel={start:r.length,end:r.length},this.$e.focusout(this.saveSelection.bind(this)).focus(this.restoreSelection.bind(this))}return r(e,[{key:"clipboardCopy",value:function(e){var t=e.originalEvent.clipboardData||window.clipboardData,n=window.getSelection().toString();window.clipboardData?t.setData("text",n):t.setData("text/plain",n),e.preventDefault()}},{key:"clipboardPaste",value:function(e){var t=e.originalEvent.clipboardData||window.clipboardData,n=window.clipboardData?t.getData("text"):t.getData("text/plain");if(!document.execCommand("insertText",!1,n)){this.saveSelection();var i=this.htmlSel,a=document.createTextNode(n);i.deleteContents(),i.insertNode(a),i.setStartAfter(a),i.setEndAfter(a),setTimeout(this.onInput.bind(this),0)}e.preventDefault()}},{key:"saveSelection",value:function(){var e=this.$e[0];if(this.$e===this.$ti&&e.selectionStart&&e.selectionEnd)this.textSel={start:e.selectionStart,end:e.selectionEnd};else{var t=window.getSelection();!t.focusNode||t.focusNode!==e&&t.focusNode.parentNode!==e||(this.htmlSel=t.getRangeAt(0))}}},{key:"restoreSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.htmlSel,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.textSel;if(t){var i=window.getSelection();i.removeAllRanges(),i.addRange(t)}else n&&(e&&"focus"===e.type||this.$ti[0].focus(),this.$ti[0].setSelectionRange(n.start,n.end))}},{key:"replaceSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.htmlSel,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.textSel;if(this.restoreSelection(null,t,n),t){if(!document.execCommand("insertHTML",!1,e)){t.deleteContents();var i=t.createContextualFragment(e);return t.insertNode(i),t.collapse(!1),i}return!0}if(n){if(!document.execCommand("insertText",!1,e)){var a=this.$e.val();this.$e.val(a.slice(0,n.start)+e+a.slice(n.end)),n.start=n.end=n.start+e.length,this.$ti[0].setSelectionRange(n.start,n.end)}return!0}return!1}},{key:"onInput",value:function(e){(!e||e.originalEvent&&"historyUndo"!==e.originalEvent.inputType)&&(this.processContent(),this.updateInput())}},{key:"onKey",value:function(e){if(13===e.originalEvent.keyCode)return this.saveSelection(),this.replaceSelection("<br>"),"BR"!==this.$e[0].lastChild.nodeName&&this.$e.append("<br>"),e.stopPropagation(),!1}},{key:"updateInput",value:function(){this.$ti.val(this.$e[0].innerText||this.$e[0].textContent),this.$ti.trigger(this.o.inputEvent)}},{key:"processTextContent",value:function(e){if(!e||e.originalEvent&&"historyUndo"!==e.originalEvent.inputType){this.$ti.val()}}},{key:"processContent",value:function(){this.saveSelection(),this._processElement(this.$e),"BR"!==this.$e[0].lastChild.nodeName&&this.$e.append("<br>")}},{key:"_processElement",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$e).contents().each(function(t,n){if(1===n.nodeType||11===n.nodeType){var i=(0,u.default)(n);i.is(".emoji")||e._processElement(i)}else n.nodeType})}},{key:"togglePicker",value:function(){var e=this.picker||s.default;if(e.isVisible())e.hide();else{this.picker=e.show(this.insert.bind(this),this.$b,this.o)}return!1}},{key:"insert",value:function(e){this.replaceSelection(e)||this.$e.append(e).focus().trigger(this.o.inputEvent)}}],[{key:"createEmoji",value:function(t){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DEFAULTS,arguments[2]);if(t||n)return t}},{key:"generateEmojiTag",value:function(e,t){throw new Error("CSS emoji are not supported.")}},{key:"generateEmojiImg",value:function(t,n){arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULTS;throw new Error("Image emoji are not supported.")}}]),e}());t.default=f,f.DEFAULTS={aliasRegex:/:([a-z0-9_]+?):/g,asciiRegex:/([\/<:;=8>(][()D3opPy*>\/\\|-]+) /g,unicodeRegex:/((?:[\xA9\xAE\u2122\u23E9-\u23EF\u23F3\u23F8-\u23FA\u24C2\u25B6\u2600-\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDE51\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFF]|\uD83E[\uDD00-\uDDFF]))/g,inputSelector:"input:text, textarea",buttonSelector:">.emoji-button",inputEvent:/Trident/.test(navigator.userAgent)?"textinput":"input",keyEvent:"keypress",anchorAlignment:"left",anchorOffsetX:-5,anchorOffsetY:5,type:"unicode",iconSize:25,assetPath:"",textClipboard:!0,globalPicker:!0,hideOnSelect:!0,place:"auto",pickerShrink:!1,heightSmall:122,heightBig:202,pickerWidth:280,tabPaneSmall:67},f.AUTOINIT=!0,f.INJECT_STYLES=!1},function(e,t,n){"use strict";(function(e){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function t(){n(this,t)}return i(t,null,[{key:"initialize",value:function(){t.aliases={},t.unicodes={},t.groups={},t.filters={},t.keywords={},t.mode={},t.arrfil=[];var e=document.location,n=document.documentElement.lang;if(2===n.length&&(n="en-US"),e.origin.indexOf("admin")+1)var i="./../../../../../emoji/groups.";else if(e.origin.indexOf("localhost")+1)var i="./groups.";else var i="./../../../emoji/groups.";t.syncJSON(i+n+".json",function(e){t.groups=e.groups,t.filters=e.filters,t.mode=e.mode})}},{key:"syncJSON",value:function(t,n){e.ajax({type:"GET",async:!1,url:t,contentType:"application/json",dataType:"json",success:function(e){n(e)},error:function(e){alert("error : reading JSON file!!!!")}})}},{key:"checkAlias",value:function(e){return t.aliases.hasOwnProperty(e)}},{key:"checkUnicode",value:function(e){return t.unicodes.hasOwnProperty(e)}},{key:"checkAscii",value:function(e){return t.ascii.hasOwnProperty(e)}},{key:"dataFromAlias",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.aliases[n],r=t.data[a];if(!i||r[2])return r;for(var o=0;o<t.groups.length;o++){var u=t.groups[o],l=u.dimensions,s=e.inArray(a,u.items);if(s>=0)return r[2]=o,r[3]=s%l[0],r[4]=s/l[0]|0,r[5]=l,r}return r}},{key:"unicodeFromAlias",value:function(e){if(e){var n=t.aliases[e],i=t.data[n];if(i&&i[t.EMOJI_UNICODE])return i[t.EMOJI_UNICODE][0]}return null}},{key:"unicodeFromAscii",value:function(e){return t.unicodeFromAlias(t.aliasFromAscii(e))}},{key:"aliasFromUnicode",value:function(e){if(e){var n=t.unicodes[e],i=t.data[n];if(i&&i[t.EMOJI_ALIASES])return i[t.EMOJI_ALIASES]}return null}},{key:"aliasFromAscii",value:function(e){return t.ascii[e]||null}}]),t}();t.default=a,a.EMOJI_ICON="i",a.EMOJI_NAME="n",a.EMOJI_MODIFIER="m",a.EMOJI_KEYWORD="k",a.EMOJI_LIST="l",a.FILTER_BUTTON="99999",a.FILTER_BASKET="00000",a.initialize()}).call(t,n(0))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(0),r=i(a),o=n(4),u=i(o),l=n(1),s=i(l);(0,u.default)("smartemoji",s.default),(0,r.default)(function(){(0,r.default)("[data-emojiarea]").smartemoji()})},function(e,t,n){"use strict";function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="__"+e,r=o.default.fn[e];o.default.fn[e]=function(e){return this.each(function(){var n=(0,o.default)(this),r=n.data(i);if(r||"destroy"===e)"function"==typeof r.configure&&r.configure(options);else{var u=o.default.extend({},t.DEFAULTS,n.data(),"object"===(void 0===e?"undefined":a(e))&&e);n.data(i,r=new t(this,u))}"string"==typeof e&&("destroy"===e?(r.destroy(),n.data(i,!1)):r[e]())})},n&&(o.default[e]=function(t){return(0,o.default)({})[e](t)}),o.default.fn[e].noConflict=function(){return o.default.fn[e]=r}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i;var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),u=i(o),l=n(1),s=i(l),d=n(2),f=i(d),c=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.DEFAULTS;a(this,e),this.o=n;var i=(0,u.default)(document.body);i.on("keydown",function(e){e.keyCode!==p&&e.keyCode!==h||t.hide()}),i.on("click",function(){t.hide()}),(0,u.default)(window).on("resize",function(){t.$p.is(":visible")&&t.hide()});var r=(0,u.default)(n.input).parents("form").find(".emoji-wrapper").attr("id");(0,u.default)(n.input).parents("form").find(".emoji-picker").attr("class")||(this.$p=(0,u.default)("<div>").addClass("emoji-picker").attr("data-picker-type",n.type).on("mouseup click",function(e){return e.stopPropagation()&&!1}).hide().appendTo("#"+r));var o=this.loadPicker(n);setTimeout(this.loadEmojis.bind(this,o),300)}return r(e,[{key:"loadPicker",value:function(e){var t=(0,u.default)("<ul>").addClass("emoji-selector nav nav-tabs"),n=(0,u.default)("<div>").addClass("tab-content");for(var i in f.default.groups)!function(e){var i=f.default.groups[e],a="group_"+e,r="#"+a,o=(0,u.default)("<a>").html(f.default.groups[e].i).data("toggle","tab").attr("title",i.n).attr("href",r);t.append((0,u.default)("<li>").append(o));var l=(0,u.default)("<div>").attr("id",a).addClass("emoji-group tab-pane active").data("group",e);o.on("click",function(e){(0,u.default)(".tab-pane").not(l).hide().removeClass("active");var t=(0,u.default)(".emoji-dropup");"group_people_body"===a?t.show():t.hide(),l.addClass("active").show(),e.preventDefault()}),n.append(l)}(i);var a=(0,u.default)("<div>").addClass("emoji-filters"),r=1;for(var o in f.default.filters){r="skin"===o||"gender"===o?2:1;for(var l=0;l<r;l++){var s;!function(e){s=o+e.toString();var t=(0,u.default)("<div>").addClass("emoji-dropup").attr("id",s);1==e?t.css("pointer-events","none"):t.css("pointer-events","auto");var n=(0,u.default)("<div>").addClass("emoji-dropbtn").html(f.default.filters[o].i).data("mode",f.default.FILTER_BUTTON).attr("id","d"+s);t.append(n);var i=(0,u.default)("<div>").addClass("emoji-dropup-content");f.default.arrfil[s]="";for(var r in f.default.filters[o][f.default.EMOJI_LIST])!function(e){var a=(0,u.default)("<a>").html(f.default.filters[o][f.default.EMOJI_LIST][e].i).attr("title",f.default.filters[o][f.default.EMOJI_LIST][e].n).data("mode",f.default.filters[o][f.default.EMOJI_LIST][e].m);a.on("click",function(e){switch(a.data("mode").indexOf(f.default.FILTER_BASKET)+1?(n.data("mode")!==f.default.FILTER_BUTTON&&n.html(n.data("mode")),n.attr("title",""),n.data("mode",f.default.FILTER_BUTTON)):(n.data("mode")===f.default.FILTER_BUTTON&&n.data("mode",n.html()),n.html(a.html()),n.attr("title",a.attr("title"))),a.data("mode")===f.default.FILTER_BASKET?f.default.arrfil[t.attr("id")]="":f.default.arrfil[t.attr("id")]=a.data("mode"),t.mouseover(function(){i.show()}),t.mouseout(function(){i.hide()}),t.click(function(){i.hide()}),t.attr("id")){case"skin0":if(""!==f.default.arrfil[t.attr("id")])(0,u.default)("#skin1").css("pointer-events","auto"),(0,u.default)("#hair0").css("pointer-events","auto"),(0,u.default)("#gender0").css("pointer-events","none");else{(0,u.default)("#skin1").css("pointer-events","none"),(0,u.default)("#gender0").css("pointer-events","auto"),(0,u.default)("#hair0").css("pointer-events","auto"),f.default.arrfil.skin1="";var r=(0,u.default)("#dskin1");r.data("mode")!==f.default.FILTER_BUTTON&&(r.html(r.data("mode")),r.data("mode",f.default.FILTER_BUTTON))}break;case"skin1":""!==f.default.arrfil[t.attr("id")]?((0,u.default)("#hair0").css("pointer-events","none"),(0,u.default)("#gender0").css("pointer-events","none"),(0,u.default)("#gender1").css("pointer-events","none")):(0,u.default)("#hair0").css("pointer-events","auto");break;case"hair0":""!==f.default.arrfil[t.attr("id")]?((0,u.default)("#skin0").css("pointer-events","auto"),(0,u.default)("#skin1").css("pointer-events","none"),(0,u.default)("#gender0").css("pointer-events","none"),(0,u.default)("#gender1").css("pointer-events","none")):((0,u.default)("#skin0").css("pointer-events","auto"),""!==f.default.arrfil.skin0?(0,u.default)("#gender0").css("pointer-events","none"):(0,u.default)("#gender0").css("pointer-events","auto"));break;case"gender0":if(""!==f.default.arrfil[t.attr("id")])(0,u.default)("#skin0").css("pointer-events","none"),(0,u.default)("#skin1").css("pointer-events","none"),(0,u.default)("#hair0").css("pointer-events","none"),(0,u.default)("#gender1").css("pointer-events","auto");else{(0,u.default)("#gender1").css("pointer-events","none"),(0,u.default)("#skin0").css("pointer-events","auto"),(0,u.default)("#hair0").css("pointer-events","auto"),f.default.arrfil.gender1="";var r=(0,u.default)("#dgender1");r.data("mode")!==f.default.FILTER_BUTTON&&(r.html(r.data("mode")),r.data("mode",f.default.FILTER_BUTTON))}break;case"gender1":""!==f.default.arrfil[t.attr("id")]?((0,u.default)("#skin0").css("pointer-events","none"),(0,u.default)("#skin1").css("pointer-events","none"),(0,u.default)("#hair0").css("pointer-events","none")):((0,u.default)("#gender1").css("pointer-events","none"),(0,u.default)("#gender0").css("pointer-events","auto"))}var o="";""!==f.default.arrfil.skin0&&(o=o+f.default.arrfil.skin0+"_"),""!==f.default.arrfil.skin1&&(o=o+f.default.arrfil.skin1+"_"),""!==f.default.arrfil.hair0&&(o=o+f.default.arrfil.hair0+"_"),""!==f.default.arrfil.gender0&&(o=o+f.default.arrfil.gender0+"_"),""!==f.default.arrfil.gender1&&(o=o+f.default.arrfil.gender1+"_"),o=o.length>0?o.slice(0,o.length-1):o,(0,u.default)("#group_people_body a").each(function(e,t){var n=(0,u.default)(t),i=n.html();n.data("icon")||n.data("icon",i);var a=n.data("icon");if(""!==o){var r=o.split("_");r.unshift(o);for(var l=0;l<r.length;l++){var s=f.default.mode[r[l]][f.default.EMOJI_LIST][a];if(s&&s!==i){n.data("filter",r[l]),n.html(s);break}if(-1===r[0].indexOf(n.data("filter"))){n.data("filter",""),n.html(a);break}}}else n.html(a),n.data("filter","")}),e.preventDefault()}),i.append(a)}(r);t.append(i),a.append(t)}(l)}}return n.find(".tab-pane").not(":first-child").hide().removeClass("active"),this.$p.append(t).append(n).append(a),(0,u.default)(".emoji-dropup").hide(),n.children()}},{key:"selectItem",value:function(e){"function"==typeof this.cb&&(alert(e),this.cb(e))}},{key:"loadEmojis",value:function(e){var t=this,n=0;for(var i in f.default.groups){var a=(f.default.groups[i],e[n]);for(var r in f.default.groups[i][f.default.EMOJI_LIST]){for(var o in f.default.groups[i][f.default.EMOJI_LIST][r][f.default.EMOJI_LIST])!function(e){var n=f.default.groups[i][f.default.EMOJI_LIST][r][f.default.EMOJI_LIST][e],o=(0,u.default)("<a>").data("icon",e).html(e).attr("title",n.n).on("click",function(){t.insertEmoji(o,t.o)});(0,u.default)(a).append(o)}(o)}n++}}},{key:"insertEmoji",value:function(e,t){"function"==typeof this.cb&&this.cb(e.html(),t),t.hideOnSelect&&this.hide()}},{key:"reposition",value:function(e,t){if(e&&0!==e.length){var n=(0,u.default)(e),i=t.heightBig,a=t.heightSmall,r=t.pickerWidth,o=n.parent(),l=o.offset(),s=((0,u.default)(window).width(),(0,u.default)(window).height()),d=(0,u.default)(t.input),f=d.offset(),c=d.width(),p=d.outerHeight(!1),h=(f.left,f.top),v=-r;switch(t.anchorButton&&(h=n.offset().top,p=n.outerHeight(!1),v=(o.width()-r)/2),v=-c-26,t.place){case"top":var g=-t.heightBig-30-(p-o.height())/2;t.pickerShrink=!1;break;case"bottom":var g=h+p-l.top;t.pickerShrink=!1;break;case"center":v=(o.width()-r)/2;var g=h+p-l.top,m=s-p-h;m<i+32?(m<a+32&&(g=-a-(l.top-h)-30),t.pickerShrink=!0):t.pickerShrink=!1;break;default:var g=h+p-l.top,m=s-p-h;m<i+32?(m<a+32&&(g=-a-(l.top-h)-30),t.pickerShrink=!0):t.pickerShrink=!1}this.$p.css({top:g.toFixed(0)+"px",left:v.toFixed(0)+"px"}),t.pickerShrink?this.$p.css({height:t.heightSmall+"px"}):this.$p.css({height:t.heightBig+"px"})}}},{key:"show",value:function(e,t,n){return this.cb=e,this.reposition(t,n),this.$p.attr("data-picker-type",n.type),n.pickerShrink?(0,u.default)(".tab-pane").css({height:n.heightSmall-32+"px"}):(0,u.default)(".tab-pane").css({height:n.heightBig-32+"px"}),this.$p.show(),this}},{key:"hide",value:function(){this.$p.hide()}},{key:"isVisible",value:function(){return this.$p.is(":visible")}}]),e}();t.default=c,c.globalPicker=null,c.show=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.DEFAULTS,i=c.globalPicker;return n.globalPicker||(i=new c(n)),i||(i=c.globalPicker=new c(n)),i.show(e,t,n),i},c.isVisible=function(){return c.globalPicker&&c.globalPicker.isVisible()},c.hide=function(){!c.globalPicker||c.globalPicker.hide()};var p=27,h=9}]);
//# sourceMappingURL=jquery.smartemoji.min.js.map