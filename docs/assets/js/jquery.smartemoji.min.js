var SmartEmoji=function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){e.exports=jQuery},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(0),u=n(r),l=i(5),s=n(l),c=i(2),d=n(c),f=function(){function e(t,i){a(this,e),this.o=u.default.extend({},e.DEFAULTS,i),this.$ea=(0,u.default)(t);var n=(0,u.default)(i.input);this.$ti=n,this.$b=this.$ea.find(i.buttonSelector).on("click",this.togglePicker.bind(this)),this.$e=this.$ti,this.$ti.on(i.inputEvent,this.processTextContent.bind(this)),this.processTextContent();var o=this.$ti.val();this.$ti[0].setSelectionRange(o.length,o.length),this.textSel={start:o.length,end:o.length},this.$e.focusout(this.saveSelection.bind(this)).focus(this.restoreSelection.bind(this))}return o(e,[{key:"clipboardCopy",value:function(e){var t=e.originalEvent.clipboardData||window.clipboardData,i=window.getSelection().toString();window.clipboardData?t.setData("text",i):t.setData("text/plain",i),e.preventDefault()}},{key:"clipboardPaste",value:function(e){var t=e.originalEvent.clipboardData||window.clipboardData,i=window.clipboardData?t.getData("text"):t.getData("text/plain");if(!document.execCommand("insertText",!1,i)){this.saveSelection();var n=this.htmlSel,a=document.createTextNode(i);n.deleteContents(),n.insertNode(a),n.setStartAfter(a),n.setEndAfter(a),setTimeout(this.onInput.bind(this),0)}e.preventDefault()}},{key:"saveSelection",value:function(){var e=this.$e[0];if(this.$e===this.$ti&&e.selectionStart&&e.selectionEnd)this.textSel={start:e.selectionStart,end:e.selectionEnd};else{var t=window.getSelection();!t.focusNode||t.focusNode!==e&&t.focusNode.parentNode!==e||(this.htmlSel=t.getRangeAt(0))}}},{key:"restoreSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.htmlSel,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.textSel;if(t){var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else i&&(e&&"focus"===e.type||this.$ti[0].focus(),this.$ti[0].setSelectionRange(i.start,i.end))}},{key:"replaceSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.htmlSel,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.textSel;if(this.restoreSelection(null,t,i),t){if(!document.execCommand("insertHTML",!1,e)){t.deleteContents();var n=t.createContextualFragment(e);return t.insertNode(n),t.collapse(!1),n}return!0}if(i){if(!document.execCommand("insertText",!1,e)){var a=this.$e.val();this.$e.val(a.slice(0,i.start)+e+a.slice(i.end)),i.start=i.end=i.start+e.length,this.$ti[0].setSelectionRange(i.start,i.end)}return!0}return!1}},{key:"onInput",value:function(e){(!e||e.originalEvent&&"historyUndo"!==e.originalEvent.inputType)&&(this.processContent(),this.updateInput())}},{key:"onKey",value:function(e){if(13===e.originalEvent.keyCode)return this.saveSelection(),this.replaceSelection("<br>"),"BR"!==this.$e[0].lastChild.nodeName&&this.$e.append("<br>"),e.stopPropagation(),!1}},{key:"updateInput",value:function(){this.$ti.val(this.$e[0].innerText||this.$e[0].textContent),this.$ti.trigger(this.o.inputEvent)}},{key:"processTextContent",value:function(e){if(!e||e.originalEvent&&"historyUndo"!==e.originalEvent.inputType){var t=this.$ti.val(),i=this.replaceAscii(t);if((i=this.replaceAliases(i))!==t){var n=i.length-(t.length-this.$ti[0].selectionEnd);this.$ti.val(i),this.$ti[0].setSelectionRange(n,n),this.textSel={start:n,end:n},this.$ti.focus().trigger(this.o.inputEvent)}}}},{key:"processContent",value:function(){this.saveSelection(),this._processElement(this.$e),"BR"!==this.$e[0].lastChild.nodeName&&this.$e.append("<br>")}},{key:"_processElement",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$e).contents().each(function(t,i){if(1===i.nodeType||11===i.nodeType){var n=(0,u.default)(i);n.is(".emoji")||e._processElement(n)}else if(3===i.nodeType){var a=i.nodeValue;if("unicode"!==e.o.type&&(a=e.replaceUnicodes(a)),a=e.replaceAscii(a),(a=e.replaceAliases(a))!==i.nodeValue){var o=e.htmlSel&&e.htmlSel.endContainer===i,r=o?e.htmlSel:document.createRange(),l=e.htmlSel?i.nodeValue.length-e.htmlSel.endOffset:0,s=i.nextSibling;if(r.selectNode(i),e.replaceSelection(a,r,null),o)if(s.previousSibling){var c=s.previousSibling;r.setStart(c,c.length-l),r.setEnd(c,c.length-l)}else r.setStartBefore(e.$e[0].lastChild),r.setEndBefore(e.$e[0].lastChild)}}})}},{key:"replaceUnicodes",value:function(t){var i=this;return t.replace(this.o.unicodeRegex,function(t,n){return d.default.checkUnicode(n)?e.createEmoji(null,i.o,n):n})}},{key:"replaceAscii",value:function(t){var i=this;return t.replace(this.o.asciiRegex,function(t,n){if(d.default.checkAscii(n)){var a=d.default.aliasFromAscii(n);if(a)return e.createEmoji(a,i.o)}return n+" "})}},{key:"replaceAliases",value:function(t){var i=this;return t.replace(this.o.aliasRegex,function(t,n){return d.default.checkAlias(n)?e.createEmoji(n,i.o):":"+n+":"})}},{key:"togglePicker",value:function(){var e=this.picker||s.default;return e.isVisible()?e.hide():this.picker=e.show(this.insert.bind(this),this.$b,this.o),!1}},{key:"insert",value:function(t){var i=e.createEmoji(t,this.o);this.replaceSelection(i)||this.$e.append(i).focus().trigger(this.o.inputEvent)}}],[{key:"createEmoji",value:function(t){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DEFAULTS,arguments[2]);if(t||i)return t=t||d.default.aliasFromUnicode(i),(i=i||d.default.unicodeFromAlias(t))||t}},{key:"generateEmojiTag",value:function(e,t){throw new Error("CSS emoji are not supported.")}},{key:"generateEmojiImg",value:function(t,i){arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.DEFAULTS;throw new Error("Image emoji are not supported.")}}]),e}();t.default=f,f.DEFAULTS={aliasRegex:/:([a-z0-9_]+?):/g,asciiRegex:/([\/<:;=8>(][()D3opPy*>\/\\|-]+) /g,unicodeRegex:/((?:[\xA9\xAE\u2122\u23E9-\u23EF\u23F3\u23F8-\u23FA\u24C2\u25B6\u2600-\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDE51\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFF]|\uD83E[\uDD00-\uDDFF]))/g,inputSelector:"input:text, textarea",buttonSelector:">.emoji-button",inputEvent:/Trident/.test(navigator.userAgent)?"textinput":"input",keyEvent:"keypress",anchorAlignment:"left",anchorOffsetX:-5,anchorOffsetY:5,type:"unicode",iconSize:25,assetPath:"",textClipboard:!0,globalPicker:!0,hideOnSelect:!0,heightSmall:110,heightBig:243,pickerWidth:210,tabPaneSmall:67},f.AUTOINIT=!0,f.INJECT_STYLES=!1},function(e,t,i){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function t(){i(this,t)}return n(t,null,[{key:"initialize",value:function(){t.aliases={},t.unicodes={};var i=document.location,n=document.documentElement.lang;2==n.length&&(n="en_US");var a=i.origin.concat("/emoji/emo-ji.",n,".json");new File(a).exists()||(alert(a),a=i.origin.concat("/emoji/emoji.en_US.json")),e.getJSON(a,function(t){var i;i=t.emoji,e.each(i,function(e,t){})});for(var o=Object.keys(t.data),r=0;r<o.length;r++){var u=o[r],l=t.data[u];if(l){var s=l[t.EMOJI_UNICODE][0];t.aliases[l[t.EMOJI_ALIASES]]=u,t.unicodes[s]=u}}}},{key:"checkAlias",value:function(e){return t.aliases.hasOwnProperty(e)}},{key:"checkUnicode",value:function(e){return t.unicodes.hasOwnProperty(e)}},{key:"checkAscii",value:function(e){return t.ascii.hasOwnProperty(e)}},{key:"dataFromAlias",value:function(i){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.aliases[i],o=t.data[a];if(!n||o[2])return o;for(var r=0;r<t.groups.length;r++){var u=t.groups[r],l=u.dimensions,s=e.inArray(a,u.items);if(s>=0)return o[2]=r,o[3]=s%l[0],o[4]=s/l[0]|0,o[5]=l,o}return o}},{key:"unicodeFromAlias",value:function(e){if(e){var i=t.aliases[e],n=t.data[i];if(n&&n[t.EMOJI_UNICODE])return n[t.EMOJI_UNICODE][0]}return null}},{key:"unicodeFromAscii",value:function(e){return t.unicodeFromAlias(t.aliasFromAscii(e))}},{key:"aliasFromUnicode",value:function(e){if(e){var i=t.unicodes[e],n=t.data[i];if(n&&n[t.EMOJI_ALIASES])return n[t.EMOJI_ALIASES]}return null}},{key:"aliasFromAscii",value:function(e){return t.ascii[e]||null}}]),t}();t.default=a,a.initialize()}).call(t,i(0))},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=i(0),o=n(a),r=i(4),u=n(r),l=i(1),s=n(l);(0,u.default)("smartemoji",s.default),(0,o.default)(function(){(0,o.default)("[data-emojiarea]").smartemoji()})},function(e,t,i){"use strict";function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="__"+e,o=r.default.fn[e];r.default.fn[e]=function(e){return this.each(function(){var i=(0,r.default)(this),o=i.data(n);if(o||"destroy"===e)"function"==typeof o.configure&&o.configure(options);else{var u=r.default.extend({},t.DEFAULTS,i.data(),"object"===(void 0===e?"undefined":a(e))&&e);i.data(n,o=new t(this,u))}"string"==typeof e&&("destroy"===e?(o.destroy(),i.data(n,!1)):o[e]())})},i&&(r.default[e]=function(t){return(0,r.default)({})[e](t)}),r.default.fn[e].noConflict=function(){return r.default.fn[e]=o}}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n;var o=i(0),r=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(0),u=n(r),l=i(1),s=n(l),c=i(2),d=n(c),f=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.DEFAULTS;a(this,e),this.o=i;var n=(0,u.default)(document.body);n.on("keydown",function(e){e.keyCode!==h&&e.keyCode!==p||t.hide()}),n.on("click",function(){t.hide()}),(0,u.default)(window).on("resize",function(){t.$p.is(":visible")&&t.hide()});var o=(0,u.default)(i.input).parents("form").find(".emoji-wrapper").attr("id");(0,u.default)(i.input).parents("form").find(".emoji-picker").attr("class")||(this.$p=(0,u.default)("<div>").addClass("emoji-picker").attr("data-picker-type",i.type).on("mouseup click",function(e){return e.stopPropagation()&&!1}).hide().appendTo("#"+o));var r=this.loadPicker(i);setTimeout(this.loadEmojis.bind(this,r),100)}return o(e,[{key:"loadPicker",value:function(e){for(var t=this,i=(0,u.default)("<ul>").addClass("emoji-selector nav nav-tabs"),n=(0,u.default)("<div>").addClass("tab-content"),a=0;a<d.default.groups.length;a++)!function(e){var a=d.default.groups[e],o="group_"+a.name,r="#"+o,l=(0,u.default)("<a>").html(s.default.createEmoji(a.name,t.o)).data("toggle","tab").attr("href",r);i.append((0,u.default)("<li>").append(l));var c=(0,u.default)("<div>").attr("id",o).addClass("emoji-group tab-pane active").data("group",a.name);l.on("click",function(e){(0,u.default)(".tab-pane").not(c).hide().removeClass("active"),c.addClass("active").show(),e.preventDefault()}),n.append(c)}(a);return n.find(".tab-pane").not(":first-child").hide().removeClass("active"),this.$p.append(i).append(n),n.children()}},{key:"loadEmojis",value:function(e){for(var t=this,i=0;i<d.default.groups.length;i++)for(var n=d.default.groups[i],a=e[i],o=0;o<n.items.length;o++){var r=n.items[o];d.default.data.hasOwnProperty(r)&&function(){var e=d.default.data[r][d.default.EMOJI_ALIASES]||"",i=(0,u.default)("<a>").data("emoji",e).html(s.default.createEmoji(e,t.o)).on("click",function(){t.insertEmoji(e,t.o)});(0,u.default)(a).append(i)}()}}},{key:"insertEmoji",value:function(e,t){"function"==typeof this.cb&&this.cb(e,t),t.hideOnSelect&&this.hide()}},{key:"reposition",value:function(e,t){if(e&&0!==e.length){var i=(0,u.default)(e),n=t.heightBig,a=t.heightSmall,o=t.pickerWidth,r=i.parent(),l=r.offset(),s=((0,u.default)(window).width(),(0,u.default)(window).height()),c=(0,u.default)(t.input),d=c.offset(),f=(c.width(),c.outerHeight(!1)),h=(d.left,d.top),p=-o;t.anchorButton&&(h=i.offset().top,f=i.outerHeight(!1),p=(r.width()-o)/2);var v=h+f-l.top;l.left<o&&(p=-l.left);var g=s-f-h;g<n&&(g<a&&(v=-a-(l.top-h)),t.pickerShrink=!0),this.$p.css({top:v.toFixed(0)+"px",left:p.toFixed(0)+"px"}),t.pickerShrink&&this.$p.css({height:t.heightSmall+"px"})}}},{key:"show",value:function(e,t,i){return this.cb=e,this.reposition(t,i),this.$p.attr("data-picker-type",i.type),i.pickerShrink&&(0,u.default)(".tab-pane").css({height:i.tabPaneSmall+"px"}),this.$p.show(),this}},{key:"hide",value:function(){this.$p.hide()}},{key:"isVisible",value:function(){return this.$p.is(":visible")}}]),e}();t.default=f,f.globalPicker=null,f.show=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.DEFAULTS,n=f.globalPicker;return i.globalPicker||(n=new f(i)),n||(n=f.globalPicker=new f(i)),n.show(e,t,i),n},f.isVisible=function(){return f.globalPicker&&f.globalPicker.isVisible()},f.hide=function(){!f.globalPicker||f.globalPicker.hide()};var h=27,p=9}]);
//# sourceMappingURL=jquery.smartemoji.min.js.map